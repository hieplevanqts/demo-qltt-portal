import{r as v,j as e,f as q,e as Y}from"./vendor-Cja35lIC.js";import{P as J}from"./system-admin-I2_aTVlW.js";import{X as R,ak as D,aw as Z,ag as j,O as $,Q as w,a9 as C,al as ee,ac as X,j as te,n as ie,$ as re,k as se,N as ne,ad as oe,o as ae,E as le,d as ce}from"./icons-BAlVBlw-.js";import{u as E,w as pe}from"./docs-CwoUdLMw.js";import"./leaflet-fbicKXUd.js";function de({open:n,onClose:p,reportName:c,onExport:d}){const[s,a]=v.useState("excel"),[u,x]=v.useState("idle"),[H,m]=v.useState("");if(!n)return null;const Q=[{id:"csv",icon:D,label:"CSV",description:"Định dạng văn bản, phù hợp Excel",color:"#10b981"},{id:"excel",icon:Z,label:"Excel",description:"File .xlsx với định dạng đầy đủ",color:"#059669"},{id:"pdf",icon:D,label:"PDF",description:"Phù hợp in ấn và chia sẻ",color:"#ef4444"}],b=()=>{x("processing"),m("Đang chuẩn bị dữ liệu..."),setTimeout(()=>{m("Đang tạo file xuất...")},1e3),setTimeout(()=>{x("completed"),d(s)},2500)},T=()=>{x("idle"),m(""),p()};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",zIndex:9998,animation:"fadeIn 0.2s ease"},onClick:T},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:69,columnNumber:7},this),e.jsxDEV("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--card, #ffffff)",borderRadius:"var(--radius, 6px)",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",zIndex:9999,width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto",fontFamily:"Inter, sans-serif",animation:"slideIn 0.2s ease"},onClick:l=>l.stopPropagation(),children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"var(--spacing-5, 20px)",borderBottom:"1px solid var(--border, #e5e7eb)"},children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{style:{fontSize:"16px",fontWeight:600,color:"var(--foreground, #111827)",margin:0,marginBottom:"4px"},children:"Xuất dữ liệu báo cáo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:111,columnNumber:13},this),e.jsxDEV("p",{style:{fontSize:"12px",color:"var(--muted-foreground, #6b7280)",margin:0},children:c},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:122,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:110,columnNumber:11},this),e.jsxDEV("button",{onClick:T,style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none",borderRadius:"calc(var(--radius, 6px) * 0.75)",color:"var(--muted-foreground, #6b7280)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:l=>{l.currentTarget.style.background="var(--muted, #f3f4f6)"},onMouseLeave:l=>{l.currentTarget.style.background="none"},children:e.jsxDEV(R,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:154,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:132,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:101,columnNumber:9},this),e.jsxDEV("div",{style:{padding:"var(--spacing-5, 20px)"},children:[u==="idle"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{style:{marginBottom:"var(--spacing-4, 16px)"},children:[e.jsxDEV("label",{style:{display:"block",fontSize:"13px",fontWeight:500,color:"var(--foreground, #111827)",marginBottom:"var(--spacing-3, 12px)"},children:"Chọn định dạng xuất"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:164,columnNumber:17},this),e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-2, 8px)"},children:Q.map(l=>{const L=l.icon,t=s===l.id;return e.jsxDEV("button",{onClick:()=>a(l.id),style:{display:"flex",alignItems:"center",gap:"var(--spacing-3, 12px)",padding:"var(--spacing-4, 16px)",background:t?`${l.color}10`:"var(--muted, #f9fafb)",border:`2px solid ${t?l.color:"var(--border, #e5e7eb)"}`,borderRadius:"var(--radius, 6px)",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},children:[e.jsxDEV("div",{style:{width:"40px",height:"40px",borderRadius:"calc(var(--radius, 6px) * 0.75)",background:`${l.color}15`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsxDEV(L,{size:20,style:{color:l.color}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:209,columnNumber:27},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:197,columnNumber:25},this),e.jsxDEV("div",{style:{flex:1},children:[e.jsxDEV("div",{style:{fontSize:"14px",fontWeight:600,color:"var(--foreground, #111827)",marginBottom:"2px"},children:l.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:212,columnNumber:27},this),e.jsxDEV("div",{style:{fontSize:"11px",color:"var(--muted-foreground, #6b7280)"},children:l.description},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:222,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:211,columnNumber:25},this),t&&e.jsxDEV("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:l.color,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxDEV(j,{size:14,style:{color:"#ffffff"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:243,columnNumber:29},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:232,columnNumber:27},this)]},l.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:181,columnNumber:23},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:175,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:163,columnNumber:15},this),e.jsxDEV("div",{style:{display:"flex",gap:"var(--spacing-3, 12px)",padding:"var(--spacing-4, 16px)",background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"var(--radius, 6px)",marginBottom:"var(--spacing-4, 16px)"},children:[e.jsxDEV($,{size:18,style:{color:"#3b82f6",flexShrink:0,marginTop:"1px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:264,columnNumber:17},this),e.jsxDEV("div",{style:{flex:1},children:e.jsxDEV("p",{style:{fontSize:"12px",color:"var(--muted-foreground, #6b7280)",margin:0,lineHeight:1.5},children:"Hoạt động này được ghi nhận để phục vụ kiểm soát hệ thống. Dữ liệu đang được xử lý, vui lòng chờ."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:266,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:265,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:253,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:161,columnNumber:13},this),u==="processing"&&e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--spacing-4, 16px)",padding:"var(--spacing-8, 32px) 0"},children:[e.jsxDEV("div",{style:{width:"64px",height:"64px",borderRadius:"50%",border:"4px solid var(--muted, #f3f4f6)",borderTopColor:"var(--primary, #005cb6)",animation:"spin 1s linear infinite"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:291,columnNumber:15},this),e.jsxDEV("div",{style:{textAlign:"center"},children:[e.jsxDEV("div",{style:{fontSize:"15px",fontWeight:600,color:"var(--foreground, #111827)",marginBottom:"4px"},children:"Đang xử lý..."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:302,columnNumber:17},this),e.jsxDEV("div",{style:{fontSize:"13px",color:"var(--muted-foreground, #6b7280)"},children:H},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:312,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:301,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:282,columnNumber:13},this),u==="completed"&&e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--spacing-4, 16px)",padding:"var(--spacing-8, 32px) 0"},children:[e.jsxDEV("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"#10b98115",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxDEV(j,{size:36,style:{color:"#10b981"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:345,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:334,columnNumber:15},this),e.jsxDEV("div",{style:{textAlign:"center"},children:[e.jsxDEV("div",{style:{fontSize:"15px",fontWeight:600,color:"var(--foreground, #111827)",marginBottom:"4px"},children:"Xuất dữ liệu thành công"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:348,columnNumber:17},this),e.jsxDEV("div",{style:{fontSize:"13px",color:"var(--muted-foreground, #6b7280)",marginBottom:"var(--spacing-2, 8px)"},children:"File của bạn đã sẵn sàng để tải xuống"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:358,columnNumber:17},this),e.jsxDEV("div",{style:{fontSize:"11px",color:"var(--muted-foreground, #9ca3af)"},children:["Thực hiện bởi: Nguyễn Văn A • ",new Date().toLocaleString("vi-VN")]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:367,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:347,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:325,columnNumber:13},this),u==="failed"&&e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--spacing-4, 16px)",padding:"var(--spacing-8, 32px) 0"},children:[e.jsxDEV("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"#ef444415",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxDEV(w,{size:36,style:{color:"#ef4444"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:400,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:389,columnNumber:15},this),e.jsxDEV("div",{style:{textAlign:"center"},children:[e.jsxDEV("div",{style:{fontSize:"15px",fontWeight:600,color:"var(--foreground, #111827)",marginBottom:"4px"},children:"Xuất dữ liệu thất bại"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:403,columnNumber:17},this),e.jsxDEV("div",{style:{fontSize:"13px",color:"var(--muted-foreground, #6b7280)"},children:"Đã xảy ra lỗi khi xuất dữ liệu. Vui lòng thử lại sau."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:413,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:402,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:380,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:159,columnNumber:9},this),e.jsxDEV("div",{style:{display:"flex",gap:"var(--spacing-3, 12px)",padding:"var(--spacing-5, 20px)",borderTop:"1px solid var(--border, #e5e7eb)",justifyContent:"flex-end"},children:[u==="idle"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:T,style:{padding:"var(--spacing-3, 12px) var(--spacing-5, 20px)",background:"var(--card, #ffffff)",color:"var(--foreground, #111827)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"var(--radius, 6px)",fontSize:"13px",fontWeight:500,fontFamily:"Inter, sans-serif",cursor:"pointer"},children:"Hủy"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:438,columnNumber:15},this),e.jsxDEV("button",{onClick:b,style:{display:"flex",alignItems:"center",gap:"var(--spacing-2, 8px)",padding:"var(--spacing-3, 12px) var(--spacing-5, 20px)",background:"var(--primary, #005cb6)",color:"#ffffff",border:"none",borderRadius:"var(--radius, 6px)",fontSize:"13px",fontWeight:500,fontFamily:"Inter, sans-serif",cursor:"pointer"},children:[e.jsxDEV(C,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:471,columnNumber:17},this),"Xuất dữ liệu"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:454,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:437,columnNumber:13},this),u==="completed"&&e.jsxDEV("button",{onClick:T,style:{display:"flex",alignItems:"center",gap:"var(--spacing-2, 8px)",padding:"var(--spacing-3, 12px) var(--spacing-5, 20px)",background:"var(--primary, #005cb6)",color:"#ffffff",border:"none",borderRadius:"var(--radius, 6px)",fontSize:"13px",fontWeight:500,fontFamily:"Inter, sans-serif",cursor:"pointer"},children:[e.jsxDEV(C,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:494,columnNumber:15},this),"Tải xuống"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:477,columnNumber:13},this),u==="failed"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:T,style:{padding:"var(--spacing-3, 12px) var(--spacing-5, 20px)",background:"var(--card, #ffffff)",color:"var(--foreground, #111827)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"var(--radius, 6px)",fontSize:"13px",fontWeight:500,fontFamily:"Inter, sans-serif",cursor:"pointer"},children:"Đóng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:500,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>{x("idle"),m("")},style:{padding:"var(--spacing-3, 12px) var(--spacing-5, 20px)",background:"var(--primary, #005cb6)",color:"#ffffff",border:"none",borderRadius:"var(--radius, 6px)",fontSize:"13px",fontWeight:500,fontFamily:"Inter, sans-serif",cursor:"pointer"},children:"Thử lại"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:516,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:499,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:427,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:81,columnNumber:7},this),e.jsxDEV("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideIn {
          from { 
            opacity: 0;
            transform: translate(-50%, -48%);
          }
          to { 
            opacity: 1;
            transform: translate(-50%, -50%);
          }
        }
      `},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:540,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportDialog.tsx",lineNumber:67,columnNumber:5},this)}function ue({open:n,onClose:p,history:c}){if(!n)return null;const d=s=>{const a={completed:{icon:j,color:"#10b981",bg:"#10b98115",text:"Hoàn thành"},failed:{icon:w,color:"#ef4444",bg:"#ef444415",text:"Thất bại"},processing:{icon:te,color:"#f59e0b",bg:"#f59e0b15",text:"Đang xử lý"}},{icon:u,color:x,bg:H,text:m}=a[s];return e.jsxDEV("div",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 10px",borderRadius:"calc(var(--radius, 6px) * 0.75)",background:H,fontSize:"11px",fontWeight:600,color:x,textTransform:"uppercase",letterSpacing:"0.5px"},children:[e.jsxDEV(u,{size:12},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:63,columnNumber:9},this),m]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:48,columnNumber:7},this)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",zIndex:9998,animation:"fadeIn 0.2s ease"},onClick:p},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:72,columnNumber:7},this),e.jsxDEV("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--card, #ffffff)",borderRadius:"var(--radius, 6px)",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",zIndex:9999,width:"90%",maxWidth:"800px",maxHeight:"90vh",display:"flex",flexDirection:"column",fontFamily:"Inter, sans-serif",animation:"slideIn 0.2s ease"},onClick:s=>s.stopPropagation(),children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"var(--spacing-5, 20px)",borderBottom:"1px solid var(--border, #e5e7eb)"},children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{style:{fontSize:"16px",fontWeight:600,color:"var(--foreground, #111827)",margin:0,marginBottom:"4px"},children:"Lịch sử xuất dữ liệu"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:115,columnNumber:13},this),e.jsxDEV("p",{style:{fontSize:"12px",color:"var(--muted-foreground, #6b7280)",margin:0},children:"Xem các hoạt động xuất dữ liệu đã thực hiện"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:114,columnNumber:11},this),e.jsxDEV("button",{onClick:p,style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none",borderRadius:"calc(var(--radius, 6px) * 0.75)",color:"var(--muted-foreground, #6b7280)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:s=>{s.currentTarget.style.background="var(--muted, #f3f4f6)"},onMouseLeave:s=>{s.currentTarget.style.background="none"},children:e.jsxDEV(R,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:158,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:136,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:105,columnNumber:9},this),e.jsxDEV("div",{style:{flex:1,overflow:"auto",padding:"var(--spacing-5, 20px)"},children:c.length===0?e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"var(--spacing-3, 12px)",padding:"var(--spacing-8, 32px)",color:"var(--muted-foreground, #6b7280)"},children:[e.jsxDEV(D,{size:48,style:{opacity:.3}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:182,columnNumber:15},this),e.jsxDEV("div",{style:{fontSize:"13px"},children:"Chưa có lịch sử xuất dữ liệu"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:183,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:171,columnNumber:13},this):e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-3, 12px)"},children:c.map(s=>e.jsxDEV("div",{style:{display:"flex",alignItems:"flex-start",gap:"var(--spacing-4, 16px)",padding:"var(--spacing-4, 16px)",background:"var(--muted, #f9fafb)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"var(--radius, 6px)",transition:"all 0.2s ease"},onMouseEnter:a=>{a.currentTarget.style.background="var(--card, #ffffff)",a.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.06)"},onMouseLeave:a=>{a.currentTarget.style.background="var(--muted, #f9fafb)",a.currentTarget.style.boxShadow="none"},children:[e.jsxDEV("div",{style:{width:"40px",height:"40px",borderRadius:"calc(var(--radius, 6px) * 0.75)",background:"rgba(0, 92, 182, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsxDEV(D,{size:20,style:{color:"var(--primary, #005cb6)"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:222,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:210,columnNumber:19},this),e.jsxDEV("div",{style:{flex:1,minWidth:0},children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:"var(--spacing-3, 12px)",marginBottom:"var(--spacing-2, 8px)"},children:[e.jsxDEV("div",{style:{flex:1,minWidth:0},children:[e.jsxDEV("div",{style:{fontSize:"13px",fontWeight:600,color:"var(--foreground, #111827)",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s.reportName},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:237,columnNumber:25},this),e.jsxDEV("div",{style:{fontSize:"11px",color:"var(--muted-foreground, #9ca3af)"},children:["Định dạng: ",s.format.toUpperCase(),s.fileSize&&` • Kích thước: ${s.fileSize}`]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:250,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:236,columnNumber:23},this),d(s.status)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:227,columnNumber:21},this),e.jsxDEV("div",{style:{display:"flex",gap:"var(--spacing-4, 16px)",flexWrap:"wrap",fontSize:"11px",color:"var(--muted-foreground, #6b7280)"},children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsxDEV(ee,{size:12},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:274,columnNumber:25},this),s.createdBy]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:273,columnNumber:23},this),e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsxDEV(X,{size:12},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:278,columnNumber:25},this),s.createdAt]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:277,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:264,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:226,columnNumber:19},this),s.status==="completed"&&e.jsxDEV("button",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px",background:"var(--primary, #005cb6)",color:"#ffffff",border:"none",borderRadius:"calc(var(--radius, 6px) * 0.75)",cursor:"pointer",flexShrink:0,transition:"all 0.2s ease"},title:"Tải xuống",onMouseEnter:a=>{a.currentTarget.style.background="#004a94"},onMouseLeave:a=>{a.currentTarget.style.background="var(--primary, #005cb6)"},children:e.jsxDEV(C,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:309,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:286,columnNumber:21},this)]},s.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:188,columnNumber:17},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:186,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:163,columnNumber:9},this),e.jsxDEV("div",{style:{padding:"var(--spacing-5, 20px)",borderTop:"1px solid var(--border, #e5e7eb)",display:"flex",justifyContent:"flex-end"},children:e.jsxDEV("button",{onClick:p,style:{padding:"var(--spacing-3, 12px) var(--spacing-5, 20px)",background:"var(--card, #ffffff)",color:"var(--foreground, #111827)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"var(--radius, 6px)",fontSize:"13px",fontWeight:500,fontFamily:"Inter, sans-serif",cursor:"pointer"},children:"Đóng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:327,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:319,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:84,columnNumber:7},this),e.jsxDEV("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideIn {
          from { 
            opacity: 0;
            transform: translate(-50%, -48%);
          }
          to { 
            opacity: 1;
            transform: translate(-50%, -50%);
          }
        }
      `},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:346,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ExportHistoryDialog.tsx",lineNumber:70,columnNumber:5},this)}function ge({show:n,type:p,title:c,message:d,onClose:s,duration:a=5e3}){if(v.useEffect(()=>{if(n&&a>0){const b=setTimeout(()=>{s()},a);return()=>clearTimeout(b)}},[n,a,s]),!n)return null;const u={success:{icon:j,color:"#10b981",bg:"#10b98115",borderColor:"#10b981"},error:{icon:w,color:"#ef4444",bg:"#ef444415",borderColor:"#ef4444"},info:{icon:$,color:"#3b82f6",bg:"#3b82f615",borderColor:"#3b82f6"}},{icon:x,color:H,bg:m,borderColor:Q}=u[p];return e.jsxDEV("div",{style:{position:"fixed",bottom:"24px",right:"24px",zIndex:1e4,animation:"slideInRight 0.3s ease",fontFamily:"Inter, sans-serif"},children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"flex-start",gap:"var(--spacing-3, 12px)",minWidth:"320px",maxWidth:"450px",padding:"var(--spacing-4, 16px)",background:"var(--card, #ffffff)",border:`1px solid ${Q}`,borderRadius:"var(--radius, 6px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},children:[e.jsxDEV("div",{style:{width:"36px",height:"36px",borderRadius:"calc(var(--radius, 6px) * 0.75)",background:m,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsxDEV(x,{size:20,style:{color:H}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ToastNotification.tsx",lineNumber:95,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ToastNotification.tsx",lineNumber:83,columnNumber:9},this),e.jsxDEV("div",{style:{flex:1,minWidth:0},children:[e.jsxDEV("div",{style:{fontSize:"14px",fontWeight:600,color:"var(--foreground, #111827)",marginBottom:"4px"},children:c},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ToastNotification.tsx",lineNumber:100,columnNumber:11},this),e.jsxDEV("div",{style:{fontSize:"12px",color:"var(--muted-foreground, #6b7280)",lineHeight:1.5},children:d},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ToastNotification.tsx",lineNumber:110,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ToastNotification.tsx",lineNumber:99,columnNumber:9},this),e.jsxDEV("button",{onClick:s,style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none",borderRadius:"calc(var(--radius, 6px) * 0.5)",color:"var(--muted-foreground, #6b7280)",cursor:"pointer",flexShrink:0,transition:"all 0.2s ease"},onMouseEnter:b=>{b.currentTarget.style.background="var(--muted, #f3f4f6)"},onMouseLeave:b=>{b.currentTarget.style.background="none"},children:e.jsxDEV(R,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ToastNotification.tsx",lineNumber:145,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ToastNotification.tsx",lineNumber:122,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ToastNotification.tsx",lineNumber:68,columnNumber:7},this),e.jsxDEV("style",{children:`
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ToastNotification.tsx",lineNumber:149,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/components/reports/ToastNotification.tsx",lineNumber:58,columnNumber:5},this)}function K(n,p,c,d){const s=E.book_new(),a=[["BÁO CÁO TÌNH HÌNH CƠ SỞ ATTP THEO KHU VỰC"],[`Kỳ báo cáo: ${d.period}`],[`Khu vực: ${d.area}`],[`Ngày xuất: ${d.exportDate}`],[],["Khu vực","Tổng số cơ sở","Cơ sở đang hoạt động","Cơ sở nguy cơ cao","Cơ sở vi phạm","Đã xử lý","Tỷ lệ nguy cơ (%)"],...n.map(t=>[t.area,t.totalFacilities,t.activeFacilities,t.highRisk,t.violations,t.resolved,t.riskRate.toFixed(1)]),[],["TỔNG CỘNG",n.reduce((t,o)=>t+o.totalFacilities,0),n.reduce((t,o)=>t+o.activeFacilities,0),n.reduce((t,o)=>t+o.highRisk,0),n.reduce((t,o)=>t+o.violations,0),n.reduce((t,o)=>t+o.resolved,0),(n.reduce((t,o)=>t+o.highRisk,0)/n.reduce((t,o)=>t+o.totalFacilities,0)*100).toFixed(1)]],u=E.aoa_to_sheet(a);u["!cols"]=[{wch:20},{wch:15},{wch:20},{wch:18},{wch:15},{wch:12},{wch:18}],u["!merges"]=[{s:{r:0,c:0},e:{r:0,c:6}}];const x=5;["A","B","C","D","E","F","G"].forEach(t=>{const o=u[`${t}${x+1}`];o&&(o.s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"005CB6"}},alignment:{horizontal:"center",vertical:"center"}})}),E.book_append_sheet(s,u,"Tổng hợp theo khu vực");const H=[["CHI TIẾT CƠ SỞ ATTP"],[`Kỳ báo cáo: ${d.period}`],[`Khu vực: ${d.area}`],[],["Mã cơ sở","Tên cơ sở","Loại hình","Địa chỉ","Phường/Xã","Quận/Huyện","Mức độ rủi ro","Tình trạng pháp lý","Trạng thái hoạt động"],...p.map(t=>[t.code,t.name,t.type,t.address,t.ward,t.district,t.riskLevel==="high"?"Cao":t.riskLevel==="medium"?"Trung bình":"Thấp",t.legalStatus,t.status==="active"?"Đang hoạt động":"Ngừng hoạt động"])],m=E.aoa_to_sheet(H);m["!cols"]=[{wch:12},{wch:30},{wch:20},{wch:35},{wch:15},{wch:15},{wch:15},{wch:20},{wch:18}],m["!merges"]=[{s:{r:0,c:0},e:{r:0,c:8}}],E.book_append_sheet(s,m,"Chi tiết cơ sở");const Q=[["PHÂN LOẠI THEO LOẠI HÌNH"],[`Kỳ báo cáo: ${d.period}`],[],["Loại hình cơ sở","Tổng số","Nguy cơ cao","Vi phạm"],...c.map(t=>[t.type,t.total,t.highRisk,t.violations]),[],["TỔNG CỘNG",c.reduce((t,o)=>t+o.total,0),c.reduce((t,o)=>t+o.highRisk,0),c.reduce((t,o)=>t+o.violations,0)]],b=E.aoa_to_sheet(Q);b["!cols"]=[{wch:30},{wch:12},{wch:15},{wch:12}],b["!merges"]=[{s:{r:0,c:0},e:{r:0,c:3}}],E.book_append_sheet(s,b,"Phân loại theo loại hình");const T=[["DỮ LIỆU BIỂU ĐỒ TỔNG HỢP"],[`Kỳ báo cáo: ${d.period}`],[],["SỐ CƠ SỞ THEO KHU VỰC"],["Khu vực","Số lượng"],...n.map(t=>[t.area,t.totalFacilities]),[],["TỶ LỆ MỨC ĐỘ RỦI RO"],["Mức độ","Số lượng"],["Rủi ro cao",p.filter(t=>t.riskLevel==="high").length],["Rủi ro trung bình",p.filter(t=>t.riskLevel==="medium").length],["Rủi ro thấp",p.filter(t=>t.riskLevel==="low").length]],l=E.aoa_to_sheet(T);l["!cols"]=[{wch:25},{wch:15}],E.book_append_sheet(s,l,"Dữ liệu biểu đồ");const L=`BC_TinhHinhCoSo_TheoKhuVuc_${d.period.replace(/\//g,"-")}_${d.area.replace(/\s+/g,"")}.xlsx`;return pe(s,L),L}function W(n=new Date){const p=String(n.getDate()).padStart(2,"0"),c=String(n.getMonth()+1).padStart(2,"0"),d=n.getFullYear(),s=String(n.getHours()).padStart(2,"0"),a=String(n.getMinutes()).padStart(2,"0");return`${p}/${c}/${d} ${s}:${a}`}const V=[{id:"TPHCM-NR-001",name:"Nhà hàng Hương Việt",address:"123 Nguyễn Huệ",ward:"Phường Bến Nghé",type:"Nhà hàng",riskLevel:"high",lastInspection:"15/01/2025",violations:3,legalStatus:"Đầy đủ"},{id:"TPHCM-NR-002",name:"Nhà hàng Seoul Garden",address:"45 Đồng Khởi",ward:"Phường Bến Nghé",type:"Nhà hàng",riskLevel:"high",lastInspection:"14/01/2025",violations:2,legalStatus:"Đầy đủ"},{id:"TPHCM-NR-003",name:"Nhà hàng Phương Nam",address:"234 Lê Thánh Tôn",ward:"Phường Bến Thành",type:"Nhà hàng",riskLevel:"high",lastInspection:"13/01/2025",violations:4,legalStatus:"Thiếu ATTP"},{id:"TPHCM-NR-004",name:"Nhà hàng Á Đông",address:"56 Mạc Thị Bưởi",ward:"Phường Bến Nghé",type:"Nhà hàng",riskLevel:"high",lastInspection:"12/01/2025",violations:2,legalStatus:"Đầy đủ"},{id:"TPHCM-NR-005",name:"Nhà hàng Sài Gòn Xưa",address:"78 Nguyễn Du",ward:"Phường Bến Thành",type:"Nhà hàng",riskLevel:"medium",lastInspection:"15/01/2025",violations:1,legalStatus:"Đầy đủ"},{id:"TPHCM-NR-006",name:"Nhà hàng Hoa Sen",address:"90 Hai Bà Trưng",ward:"Phường Bến Nghé",type:"Nhà hàng",riskLevel:"medium",lastInspection:"14/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-NR-007",name:"Nhà hàng Mỹ Lan",address:"112 Lý Tự Trọng",ward:"Phường Bến Thành",type:"Nhà hàng",riskLevel:"medium",lastInspection:"13/01/2025",violations:1,legalStatus:"Đầy đủ"},{id:"TPHCM-NR-008",name:"Nhà hàng Bamboo",address:"145 Pasteur",ward:"Phường Bến Nghé",type:"Nhà hàng",riskLevel:"low",lastInspection:"15/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-NR-009",name:"Nhà hàng Golden Dragon",address:"167 Trần Hưng Đạo",ward:"Phường Cô Giang",type:"Nhà hàng",riskLevel:"low",lastInspection:"14/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-QA-002",name:"Quán cơm Thanh Vân",address:"23 Nguyễn Thái Học",ward:"Phường Cầu Ông Lãnh",type:"Quán ăn",riskLevel:"high",lastInspection:"13/01/2025",violations:3,legalStatus:"Thiếu ATTP"},{id:"TPHCM-QA-001",name:"Quán ăn An Nhiên",address:"45 Lê Lợi",ward:"Phường Bến Nghé",type:"Quán ăn",riskLevel:"medium",lastInspection:"14/01/2025",violations:1,legalStatus:"Đầy đủ"},{id:"TPHCM-QA-003",name:"Quán phở Hà Nội",address:"67 Võ Văn Tần",ward:"Phường Võ Thị Sáu",type:"Quán ăn",riskLevel:"medium",lastInspection:"12/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-QA-004",name:"Quán bún bò Huế",address:"89 Trương Định",ward:"Phường Bến Thành",type:"Quán ăn",riskLevel:"low",lastInspection:"15/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-QA-005",name:"Quán bún thịt nướng",address:"101 Lý Chính Thắng",ward:"Phường Võ Thị Sáu",type:"Quán ăn",riskLevel:"low",lastInspection:"14/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-ST-001",name:"Siêu thị CoopMart",address:"78 Hai Bà Trưng",ward:"Phường Bến Nghé",type:"Siêu thị",riskLevel:"low",lastInspection:"13/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-ST-002",name:"Siêu thị Lotte Mart",address:"469 Nguyễn Hữu Thọ",ward:"Phường Tân Hưng",type:"Siêu thị",riskLevel:"low",lastInspection:"12/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-ST-003",name:"Siêu thị BigC",address:"123 Lê Lai",ward:"Phường Bến Thành",type:"Siêu thị",riskLevel:"low",lastInspection:"15/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-CH-001",name:"Cửa hàng thực phẩm Tươi Ngon",address:"234 Điện Biên Phủ",ward:"Phường Đa Kao",type:"Cửa hàng",riskLevel:"high",lastInspection:"12/01/2025",violations:2,legalStatus:"Đầy đủ"},{id:"TPHCM-CH-002",name:"Cửa hàng An Khang",address:"56 Calmette",ward:"Phường Nguyễn Thái Bình",type:"Cửa hàng",riskLevel:"medium",lastInspection:"13/01/2025",violations:1,legalStatus:"Đầy đủ"},{id:"TPHCM-CH-003",name:"Cửa hàng Organic",address:"78 Nam Kỳ Khởi Nghĩa",ward:"Phường Bến Nghé",type:"Cửa hàng",riskLevel:"low",lastInspection:"14/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-CH-004",name:"Cửa hàng Thực phẩm sạch",address:"90 Phạm Ngọc Thạch",ward:"Phường Bến Thành",type:"Cửa hàng",riskLevel:"low",lastInspection:"15/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-CF-004",name:"Cộng Cà Phê",address:"67 Nam Kỳ Khởi Nghĩa",ward:"Phường Bến Nghé",type:"Quán cà phê",riskLevel:"medium",lastInspection:"12/01/2025",violations:1,legalStatus:"Đầy đủ"},{id:"TPHCM-CF-001",name:"Quán cà phê The Coffee House",address:"56 Pasteur",ward:"Phường Bến Nghé",type:"Quán cà phê",riskLevel:"low",lastInspection:"11/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-CF-002",name:"Starbucks Coffee",address:"123 Đồng Khởi",ward:"Phường Bến Nghé",type:"Quán cà phê",riskLevel:"low",lastInspection:"14/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-CF-003",name:"Highlands Coffee",address:"45 Lê Thánh Tôn",ward:"Phường Bến Nghé",type:"Quán cà phê",riskLevel:"low",lastInspection:"13/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-CF-005",name:"Trung Nguyên Legend",address:"89 Hai Bà Trưng",ward:"Phường Bến Nghé",type:"Quán cà phê",riskLevel:"low",lastInspection:"15/01/2025",violations:0,legalStatus:"Đầy đủ"},{id:"TPHCM-CB-001",name:"Xưởng chế biến thực phẩm Tân Phát",address:"234 Nguyễn Trãi",ward:"Phường Phạm Ngũ Lão",type:"Cơ sở chế biến",riskLevel:"high",lastInspection:"10/01/2025",violations:5,legalStatus:"Thiếu ATTP"},{id:"TPHCM-CB-002",name:"Cơ sở chế biến hải sản Hương Biển",address:"156 Lê Thánh Tôn",ward:"Phường Bến Thành",type:"Cơ sở chế biến",riskLevel:"high",lastInspection:"11/01/2025",violations:3,legalStatus:"Đầy đủ"},{id:"TPHCM-CB-003",name:"Cơ sở sản xuất bánh kẹo An Phú",address:"78 Trần Quang Khải",ward:"Phường Tân Định",type:"Cơ sở chế biến",riskLevel:"medium",lastInspection:"14/01/2025",violations:1,legalStatus:"Đầy đủ"}],y=[{id:"Q3-NR-001",name:"Nhà hàng Sài Gòn Xưa",type:"Nhà hàng",address:"234 Võ Văn Tần, Phường 5",ward:"Phường 5",district:"Quận 3",riskLevel:"high",legalStatus:"Thiếu giấy phép ATTP",status:"active",violations:4,lastInspection:"10/01/2025",hygieneScore:62,certificateStatus:"Hết hạn"},{id:"Q3-NR-002",name:"Nhà hàng Món Huế",type:"Nhà hàng",address:"156 Nam Kỳ Khởi Nghĩa, Phường 7",ward:"Phường 7",district:"Quận 3",riskLevel:"medium",legalStatus:"Đầy đủ",status:"active",violations:2,lastInspection:"11/01/2025",hygieneScore:78,certificateStatus:"Còn hạn"},{id:"Q3-NR-003",name:"Nhà hàng Lẩu Dê Bảy Tỵ",type:"Nhà hàng",address:"89 Cao Thắng, Phường 4",ward:"Phường 4",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"12/01/2025",hygieneScore:92,certificateStatus:"Còn hạn"},{id:"Q3-NR-004",name:"Nhà hàng Nhật Bản Sakura",type:"Nhà hàng",address:"67 Điện Biên Phủ, Phường Đa Kao",ward:"Phường Đa Kao",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"13/01/2025",hygieneScore:95,certificateStatus:"Còn hạn"},{id:"Q3-NR-005",name:"Nhà hàng Hải Sản Biển Đông",type:"Nhà hàng",address:"123 Ba Tháng Hai, Phường 12",ward:"Phường 12",district:"Quận 3",riskLevel:"high",legalStatus:"Đầy đủ",status:"active",violations:3,lastInspection:"09/01/2025",hygieneScore:65,certificateStatus:"Còn hạn"},{id:"Q3-NR-006",name:"Nhà hàng Chay Tịnh Tâm",type:"Nhà hàng",address:"45 Trần Quốc Toản, Phường 8",ward:"Phường 8",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"14/01/2025",hygieneScore:88,certificateStatus:"Còn hạn"},{id:"Q3-NR-007",name:"Nhà hàng Buffet 99",type:"Nhà hàng",address:"201 Nguyễn Đình Chiểu, Phường 6",ward:"Phường 6",district:"Quận 3",riskLevel:"medium",legalStatus:"Đầy đủ",status:"active",violations:2,lastInspection:"10/01/2025",hygieneScore:75,certificateStatus:"Còn hạn"},{id:"Q3-QA-001",name:"Quán Cơm Tấm Sườn Bì Chả",type:"Quán ăn",address:"78 Lý Chính Thắng, Phường 9",ward:"Phường 9",district:"Quận 3",riskLevel:"medium",legalStatus:"Đầy đủ",status:"active",violations:1,lastInspection:"11/01/2025",hygieneScore:72,certificateStatus:"Còn hạn"},{id:"Q3-QA-002",name:"Quán Phở Bò Viên",type:"Quán ăn",address:"34 Võ Thị Sáu, Phường Võ Thị Sáu",ward:"Phường Võ Thị Sáu",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"12/01/2025",hygieneScore:85,certificateStatus:"Còn hạn"},{id:"Q3-QA-003",name:"Quán Bún Bò Huế Đông Ba",type:"Quán ăn",address:"56 Trường Sa, Phường 13",ward:"Phường 13",district:"Quận 3",riskLevel:"high",legalStatus:"Thiếu giấy phép ATTP",status:"active",violations:3,lastInspection:"09/01/2025",hygieneScore:58,certificateStatus:"Chưa có"},{id:"Q3-QA-004",name:"Quán Bánh Xèo Miền Tây",type:"Quán ăn",address:"90 Cách Mạng Tháng Tám, Phường 11",ward:"Phường 11",district:"Quận 3",riskLevel:"medium",legalStatus:"Đầy đủ",status:"active",violations:2,lastInspection:"10/01/2025",hygieneScore:70,certificateStatus:"Còn hạn"},{id:"Q3-QA-005",name:"Quán Mì Quảng Đà Nẵng",type:"Quán ăn",address:"112 Hai Bà Trưng, Phường Bến Thành",ward:"Phường Bến Thành",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"13/01/2025",hygieneScore:82,certificateStatus:"Còn hạn"},{id:"Q3-QA-006",name:"Quán Bánh Canh Cua",type:"Quán ăn",address:"145 Nguyễn Thị Minh Khai, Phường 5",ward:"Phường 5",district:"Quận 3",riskLevel:"medium",legalStatus:"Đầy đủ",status:"active",violations:1,lastInspection:"11/01/2025",hygieneScore:76,certificateStatus:"Còn hạn"},{id:"Q3-CF-001",name:"The Coffee House",type:"Quán cà phê",address:"178 Điện Biên Phủ, Phường 15",ward:"Phường 15",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"14/01/2025",hygieneScore:93,certificateStatus:"Còn hạn"},{id:"Q3-CF-002",name:"Phúc Long Coffee & Tea",type:"Quán cà phê",address:"234 Nam Kỳ Khởi Nghĩa, Phường 8",ward:"Phường 8",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"13/01/2025",hygieneScore:90,certificateStatus:"Còn hạn"},{id:"Q3-CF-003",name:"Cộng Cà Phê",type:"Quán cà phê",address:"67 Lê Văn Sỹ, Phường 14",ward:"Phường 14",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"12/01/2025",hygieneScore:87,certificateStatus:"Còn hạn"},{id:"Q3-CF-004",name:"Café Apartment",type:"Quán cà phê",address:"89 Nguyễn Văn Trỗi, Phường 10",ward:"Phường 10",district:"Quận 3",riskLevel:"medium",legalStatus:"Đầy đủ",status:"active",violations:1,lastInspection:"11/01/2025",hygieneScore:74,certificateStatus:"Còn hạn"},{id:"Q3-CF-005",name:"Cà Phê Vợt",type:"Quán cà phê",address:"23 Pasteur, Phường 6",ward:"Phường 6",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"14/01/2025",hygieneScore:86,certificateStatus:"Còn hạn"},{id:"Q3-ST-001",name:"Siêu thị Coopmart Cách Mạng Tháng Tám",type:"Siêu thị",address:"168 Cách Mạng Tháng Tám, Phường 11",ward:"Phường 11",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"15/01/2025",hygieneScore:96,certificateStatus:"Còn hạn"},{id:"Q3-ST-002",name:"VinMart Điện Biên Phủ",type:"Siêu thị",address:"456 Điện Biên Phủ, Phường 25",ward:"Phường 25",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"15/01/2025",hygieneScore:94,certificateStatus:"Còn hạn"},{id:"Q3-ST-003",name:"Circle K Nam Kỳ Khởi Nghĩa",type:"Siêu thị",address:"89 Nam Kỳ Khởi Nghĩa, Phường 7",ward:"Phường 7",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"14/01/2025",hygieneScore:91,certificateStatus:"Còn hạn"},{id:"Q3-CH-001",name:"Cửa hàng bánh mì Như Lan",type:"Cửa hàng",address:"50 Cao Thắng, Phường 3",ward:"Phường 3",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"13/01/2025",hygieneScore:84,certificateStatus:"Còn hạn"},{id:"Q3-CH-002",name:"Cửa hàng thực phẩm sạch Organica",type:"Cửa hàng",address:"234 Võ Văn Tần, Phường 5",ward:"Phường 5",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"12/01/2025",hygieneScore:89,certificateStatus:"Còn hạn"},{id:"Q3-CH-003",name:"Cửa hàng rau củ quả tươi",type:"Cửa hàng",address:"78 Lý Chính Thắng, Phường 9",ward:"Phường 9",district:"Quận 3",riskLevel:"medium",legalStatus:"Đầy đủ",status:"active",violations:1,lastInspection:"11/01/2025",hygieneScore:73,certificateStatus:"Còn hạn"},{id:"Q3-CH-004",name:"Cửa hàng tiện lợi GS25",type:"Cửa hàng",address:"123 Trường Sa, Phường 2",ward:"Phường 2",district:"Quận 3",riskLevel:"low",legalStatus:"Đầy đủ",status:"active",violations:0,lastInspection:"14/01/2025",hygieneScore:88,certificateStatus:"Còn hạn"},{id:"Q3-CB-001",name:"Xưởng chế biến thực phẩm Quang Minh",type:"Cơ sở chế biến",address:"456 Ba Tháng Hai, Phường 12",ward:"Phường 12",district:"Quận 3",riskLevel:"high",legalStatus:"Thiếu giấy phép ATTP",status:"active",violations:5,lastInspection:"08/01/2025",hygieneScore:55,certificateStatus:"Hết hạn"},{id:"Q3-CB-002",name:"Cơ sở sản xuất bánh kẹo Hồng Hà",type:"Cơ sở chế biến",address:"89 Nguyễn Thị Minh Khai, Phường 5",ward:"Phường 5",district:"Quận 3",riskLevel:"medium",legalStatus:"Đầy đủ",status:"active",violations:2,lastInspection:"10/01/2025",hygieneScore:71,certificateStatus:"Còn hạn"},{id:"Q3-CB-003",name:"Xưởng làm nước giải khát Thiên Nhiên",type:"Cơ sở chế biến",address:"234 Cách Mạng Tháng Tám, Phường 10",ward:"Phường 10",district:"Quận 3",riskLevel:"high",legalStatus:"Đầy đủ",status:"active",violations:4,lastInspection:"09/01/2025",hygieneScore:60,certificateStatus:"Còn hạn"},{id:"Q3-QN-001",name:"Quán nhậu Bốn Mùa",type:"Quán nhậu",address:"67 Võ Thị Sáu, Phường Võ Thị Sáu",ward:"Phường Võ Thị Sáu",district:"Quận 3",riskLevel:"high",legalStatus:"Đầy đủ",status:"active",violations:3,lastInspection:"09/01/2025",hygieneScore:63,certificateStatus:"Còn hạn"},{id:"Q3-QN-002",name:"Quán ốc Hải Sản Tươi Sống",type:"Quán nhậu",address:"145 Điện Biên Phủ, Phường Đa Kao",ward:"Phường Đa Kao",district:"Quận 3",riskLevel:"medium",legalStatus:"Đầy đủ",status:"active",violations:2,lastInspection:"10/01/2025",hygieneScore:69,certificateStatus:"Còn hạn"}];function Ne(){const n=q(),p=Y(),c=n.state,[d,s]=v.useState(!1),[a,u]=v.useState("thisMonth"),[x,H]=v.useState("all"),[m,Q]=v.useState(""),[b,T]=v.useState(!1),[l,L]=v.useState(!1),[t,o]=v.useState(""),[S,I]=v.useState([{id:"EXP-001",reportName:"Báo cáo tình hình cơ sở ATTP - Thành phố Hồ Chí Minh",format:"excel",status:"completed",createdBy:"Nguyễn Văn A",createdAt:"08/01/2025 14:30",fileSize:"2.3 MB"},{id:"EXP-002",reportName:"Báo cáo kiểm tra vệ sinh ATTP - Quận 3",format:"pdf",status:"completed",createdBy:"Trần Thị B",createdAt:"07/01/2025 10:15",fileSize:"1.8 MB"},{id:"EXP-003",reportName:"Tổng hợp nguồn tin rủi ro",format:"csv",status:"failed",createdBy:"Lê Văn C",createdAt:"05/01/2025 16:45"}]),[P,k]=v.useState({show:!1,type:"info",title:"",message:""}),[O,me]=v.useState({canView:!0,canExport:!0,canExportPDF:!0,canExportExcel:!0,canExportCSV:!0}),_=[{id:"RPT-2025-001",name:"Báo cáo tình hình cơ sở ATTP - Thành phố Hồ Chí Minh",type:"Cơ sở & Địa bàn",period:"Tháng 01/2025",region:"Thành phố Hồ Chí Minh",createdDate:"2025-01-08",createdBy:"Nguyễn Văn A",status:"completed",size:"2.3 MB"},{id:"RPT-2025-002",name:"Báo cáo kiểm tra vệ sinh ATTP - Quận 3",type:"Nhiệm vụ hiện trường",period:"Tuần 1/2025",region:"Quận 3",createdDate:"2025-01-07",createdBy:"Trần Thị B",status:"completed",size:"1.8 MB"},{id:"RPT-2025-003",name:"Tổng hợp nguồn tin rủi ro - Toàn thành phố",type:"Nguồn tin / Risk",period:"Tháng 12/2024",region:"Toàn thành phố",createdDate:"2025-01-05",createdBy:"Lê Văn C",status:"completed",size:"4.1 MB"},{id:"RPT-2025-004",name:"Báo cáo KPI cán bộ kiểm tra",type:"KPI & Hiệu suất",period:"Q4/2024",region:"Toàn thành phố",createdDate:"2025-01-04",createdBy:"Phạm Thị D",status:"completed",size:"856 KB"},{id:"RPT-2025-005",name:"Báo cáo kế hoạch tác nghiệp - Quận 5",type:"Kế hoạch",period:"Tháng 01/2025",region:"Quận 5",createdDate:"2025-01-03",createdBy:"Hoàng Văn E",status:"draft",size:"1.2 MB"}],G=[{id:1,name:"Báo cáo tình hình cơ sở theo khu vực",icon:ie,path:"/facility-report"},{id:2,name:"Báo cáo tiến độ nhiệm vụ",icon:re,path:"/task-progress-report"},{id:3,name:"Báo cáo nguồn tin và rủi ro",icon:D,path:"/risk-source-report"},{id:4,name:"Báo cáo hiệu suất cán bộ",icon:se,path:"/staff-performance-report"}],B=_.filter(r=>{const g=m===""||r.name.toLowerCase().includes(m.toLowerCase())||r.id.toLowerCase().includes(m.toLowerCase()),h=x==="all"||r.region===x;return g&&h}),U=r=>{const g={completed:{bg:"#10b98115",color:"#10b981",text:"Hoàn thành"},draft:{bg:"#f59e0b15",color:"#f59e0b",text:"Bản nháp"},pending:{bg:"#3b82f615",color:"#3b82f6",text:"Đang xử lý"}},h=g[r]||g.pending;return e.jsxDEV("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:"calc(var(--radius, 6px) * 0.75)",fontSize:"11px",fontWeight:600,fontFamily:"Inter, sans-serif",background:h.bg,color:h.color,textTransform:"uppercase",letterSpacing:"0.5px"},children:h.text},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:185,columnNumber:7},this)};return e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:"24px",fontFamily:"Inter, sans-serif"},children:[e.jsxDEV(J,{breadcrumbs:[{label:"Trang chủ",href:"/"},{label:"Báo cáo & KPI",href:"/reports"},{label:"Báo cáo"}],title:"Báo cáo",description:"Chạy và xem các báo cáo chuẩn của hệ thống",actions:e.jsxDEV("div",{style:{display:"flex",gap:"var(--spacing-3, 12px)"},children:e.jsxDEV("button",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-2, 8px)",padding:"var(--spacing-3, 12px) var(--spacing-5, 20px)",background:"var(--primary, #005cb6)",color:"#ffffff",border:"none",borderRadius:"var(--radius, 6px)",fontSize:"13px",fontWeight:500,fontFamily:"Inter, sans-serif",cursor:"pointer"},children:[e.jsxDEV(D,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:233,columnNumber:15},this),"Chạy báo cáo"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:217,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:216,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:207,columnNumber:7},this),e.jsxDEV("div",{style:{padding:"0 24px 24px 24px",display:"flex",flexDirection:"column",gap:"24px"},children:[(c==null?void 0:c.fromDashboard)&&e.jsxDEV("div",{style:{display:"flex",alignItems:"flex-start",gap:"var(--spacing-3, 12px)",padding:"var(--spacing-4, 16px)",background:"rgba(0, 92, 182, 0.05)",border:"1px solid rgba(0, 92, 182, 0.2)",borderRadius:"var(--radius, 6px)"},children:[e.jsxDEV(w,{size:20,style:{color:"var(--primary, #005cb6)",flexShrink:0,marginTop:"2px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:255,columnNumber:13},this),e.jsxDEV("div",{style:{flex:1},children:[e.jsxDEV("div",{style:{fontSize:"13px",fontWeight:600,color:"var(--foreground, #111827)",fontFamily:"Inter, sans-serif",marginBottom:"var(--spacing-2, 8px)"},children:["Báo cáo từ Dashboard: ",c.kpiTitle]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:257,columnNumber:15},this),e.jsxDEV("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--spacing-2, 8px)"},children:Object.entries(c.filters||{}).map(([r,g])=>e.jsxDEV("span",{style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-1, 4px)",padding:"4px 10px",background:"var(--card, #ffffff)",border:"1px solid rgba(0, 92, 182, 0.3)",borderRadius:"calc(var(--radius, 6px) * 0.75)",fontSize:"11px",fontWeight:500,color:"var(--primary, #005cb6)",fontFamily:"Inter, sans-serif"},children:[e.jsxDEV("strong",{children:[r,":"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:292,columnNumber:21},this)," ",g]},r,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:276,columnNumber:19},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:268,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:256,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>window.history.replaceState({},document.title),style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none",borderRadius:"calc(var(--radius, 6px) * 0.5)",color:"var(--muted-foreground, #6b7280)",cursor:"pointer",flexShrink:0},title:"Xóa bộ lọc",children:e.jsxDEV(R,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:314,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:297,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:244,columnNumber:11},this),e.jsxDEV("div",{style:{background:"var(--card, #ffffff)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"var(--radius, 6px)",padding:"var(--spacing-5, 20px)"},children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"var(--spacing-2, 8px)"},children:[e.jsxDEV("h3",{style:{fontSize:"15px",fontWeight:600,color:"var(--foreground, #111827)",fontFamily:"Inter, sans-serif",margin:0},children:"Báo cáo chuẩn của hệ thống"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:329,columnNumber:13},this),e.jsxDEV("p",{style:{fontSize:"11px",color:"var(--muted-foreground, #9ca3af)",fontFamily:"Inter, sans-serif",margin:0},children:"Click để chạy báo cáo với tham số"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:340,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:328,columnNumber:11},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"var(--spacing-3, 12px)",marginTop:"var(--spacing-4, 16px)"},children:G.map(r=>{const g=r.icon;return e.jsxDEV("button",{onClick:()=>p(r.path),style:{display:"flex",alignItems:"center",gap:"var(--spacing-3, 12px)",padding:"var(--spacing-4, 16px)",background:"var(--muted, #f9fafb)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"var(--radius, 6px)",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseEnter:h=>{h.currentTarget.style.background="var(--card, #ffffff)",h.currentTarget.style.borderColor="var(--primary, #005cb6)"},onMouseLeave:h=>{h.currentTarget.style.background="var(--muted, #f9fafb)",h.currentTarget.style.borderColor="var(--border, #e5e7eb)"},children:[e.jsxDEV("div",{style:{width:"40px",height:"40px",borderRadius:"calc(var(--radius, 6px) * 0.75)",background:"rgba(0, 92, 182, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsxDEV(g,{size:20,style:{color:"var(--primary, #005cb6)"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:398,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:386,columnNumber:19},this),e.jsxDEV("span",{style:{fontSize:"13px",fontWeight:500,color:"var(--foreground, #111827)",fontFamily:"Inter, sans-serif"},children:r.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:400,columnNumber:19},this)]},r.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:362,columnNumber:17},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:351,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:320,columnNumber:9},this),e.jsxDEV("div",{style:{background:"var(--card, #ffffff)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"var(--radius, 6px)",padding:"var(--spacing-4, 16px)"},children:e.jsxDEV("div",{style:{display:"flex",gap:"var(--spacing-3, 12px)",alignItems:"center",flexWrap:"wrap"},children:[e.jsxDEV("div",{style:{position:"relative",flex:"1 1 300px"},children:[e.jsxDEV(ne,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--muted-foreground, #9ca3af)",pointerEvents:"none"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:428,columnNumber:15},this),e.jsxDEV("input",{type:"text",placeholder:"Tìm báo cáo theo tên, mã...",value:m,onChange:r=>Q(r.target.value),style:{width:"100%",padding:"var(--spacing-3, 12px) var(--spacing-3, 12px) var(--spacing-3, 12px) 40px",border:"1px solid var(--border, #e5e7eb)",borderRadius:"var(--radius, 6px)",fontSize:"13px",fontFamily:"Inter, sans-serif",color:"var(--foreground, #111827)",background:"var(--card, #ffffff)"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:439,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:427,columnNumber:13},this),e.jsxDEV("select",{value:a,onChange:r=>u(r.target.value),style:{padding:"var(--spacing-3, 12px) var(--spacing-4, 16px)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"var(--radius, 6px)",fontSize:"13px",fontFamily:"Inter, sans-serif",color:"var(--foreground, #111827)",background:"var(--card, #ffffff)",cursor:"pointer"},children:[e.jsxDEV("option",{value:"thisMonth",children:"Tháng này"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:472,columnNumber:15},this),e.jsxDEV("option",{value:"lastMonth",children:"Tháng trước"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:473,columnNumber:15},this),e.jsxDEV("option",{value:"thisQuarter",children:"Quý này"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:474,columnNumber:15},this),e.jsxDEV("option",{value:"thisYear",children:"Năm nay"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:475,columnNumber:15},this),e.jsxDEV("option",{value:"custom",children:"Tùy chỉnh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:476,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:458,columnNumber:13},this),e.jsxDEV("select",{value:x,onChange:r=>H(r.target.value),style:{padding:"var(--spacing-3, 12px) var(--spacing-4, 16px)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"var(--radius, 6px)",fontSize:"13px",fontFamily:"Inter, sans-serif",color:"var(--foreground, #111827)",background:"var(--card, #ffffff)",cursor:"pointer"},children:[e.jsxDEV("option",{value:"all",children:"Tất cả khu vực"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:494,columnNumber:15},this),e.jsxDEV("option",{value:"Quận 1",children:"Quận 1"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:495,columnNumber:15},this),e.jsxDEV("option",{value:"Quận 3",children:"Quận 3"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:496,columnNumber:15},this),e.jsxDEV("option",{value:"Quận 5",children:"Quận 5"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:497,columnNumber:15},this),e.jsxDEV("option",{value:"Toàn thành phố",children:"Toàn thành phố"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:498,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:480,columnNumber:13},this),e.jsxDEV("button",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-2, 8px)",padding:"var(--spacing-3, 12px) var(--spacing-4, 16px)",background:"var(--card, #ffffff)",color:"var(--foreground, #111827)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"var(--radius, 6px)",fontSize:"13px",fontWeight:500,fontFamily:"Inter, sans-serif",cursor:"pointer"},children:[e.jsxDEV(oe,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:517,columnNumber:15},this),"Lọc nâng cao"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:501,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:425,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:417,columnNumber:9},this),e.jsxDEV("div",{style:{background:"var(--card, #ffffff)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"var(--radius, 6px)",overflow:"hidden"},children:[e.jsxDEV("table",{style:{width:"100%",borderCollapse:"collapse",fontFamily:"Inter, sans-serif"},children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{style:{background:"var(--muted, #f9fafb)",borderBottom:"1px solid var(--border, #e5e7eb)"},children:[e.jsxDEV("th",{style:{padding:"var(--spacing-4, 16px)",textAlign:"left",fontSize:"12px",fontWeight:600,fontFamily:"Inter, sans-serif",color:"var(--muted-foreground, #6b7280)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Mã báo cáo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:540,columnNumber:17},this),e.jsxDEV("th",{style:{padding:"var(--spacing-4, 16px)",textAlign:"left",fontSize:"12px",fontWeight:600,fontFamily:"Inter, sans-serif",color:"var(--muted-foreground, #6b7280)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Tên báo cáo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:554,columnNumber:17},this),e.jsxDEV("th",{style:{padding:"var(--spacing-4, 16px)",textAlign:"left",fontSize:"12px",fontWeight:600,fontFamily:"Inter, sans-serif",color:"var(--muted-foreground, #6b7280)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Loại"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:568,columnNumber:17},this),e.jsxDEV("th",{style:{padding:"var(--spacing-4, 16px)",textAlign:"left",fontSize:"12px",fontWeight:600,fontFamily:"Inter, sans-serif",color:"var(--muted-foreground, #6b7280)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Kỳ báo cáo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:582,columnNumber:17},this),e.jsxDEV("th",{style:{padding:"var(--spacing-4, 16px)",textAlign:"left",fontSize:"12px",fontWeight:600,fontFamily:"Inter, sans-serif",color:"var(--muted-foreground, #6b7280)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Khu vực"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:596,columnNumber:17},this),e.jsxDEV("th",{style:{padding:"var(--spacing-4, 16px)",textAlign:"center",fontSize:"12px",fontWeight:600,fontFamily:"Inter, sans-serif",color:"var(--muted-foreground, #6b7280)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Trạng thái"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:610,columnNumber:17},this),e.jsxDEV("th",{style:{padding:"var(--spacing-4, 16px)",textAlign:"center",fontSize:"12px",fontWeight:600,fontFamily:"Inter, sans-serif",color:"var(--muted-foreground, #6b7280)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Thao tác"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:624,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:534,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:533,columnNumber:13},this),e.jsxDEV("tbody",{children:B.map(r=>e.jsxDEV("tr",{style:{borderBottom:"1px solid var(--border, #e5e7eb)",transition:"background 0.15s ease"},onMouseEnter:g=>{g.currentTarget.style.background="var(--muted, #f9fafb)"},onMouseLeave:g=>{g.currentTarget.style.background="transparent"},children:[e.jsxDEV("td",{style:{padding:"var(--spacing-4, 16px)",fontSize:"13px",fontFamily:"Inter, sans-serif",color:"var(--foreground, #111827)"},children:e.jsxDEV("code",{style:{padding:"4px 8px",background:"var(--muted, #f3f4f6)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"calc(var(--radius, 6px) * 0.5)",fontSize:"11px",fontFamily:"'Courier New', monospace",fontWeight:600},children:r.id},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:663,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:655,columnNumber:19},this),e.jsxDEV("td",{style:{padding:"var(--spacing-4, 16px)",fontSize:"13px",fontFamily:"Inter, sans-serif",color:"var(--foreground, #111827)"},children:e.jsxDEV("div",{style:{display:"flex",alignItems:"flex-start",gap:"var(--spacing-2, 8px)"},children:[e.jsxDEV(D,{size:16,style:{color:"var(--muted-foreground, #6b7280)",marginTop:"2px",flexShrink:0}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:686,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{style:{fontWeight:500},children:r.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:688,columnNumber:25},this),e.jsxDEV("div",{style:{fontSize:"11px",color:"var(--muted-foreground, #9ca3af)",marginTop:"2px"},children:["Tạo bởi ",r.createdBy," • ",r.size]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:689,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:687,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:685,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:677,columnNumber:19},this),e.jsxDEV("td",{style:{padding:"var(--spacing-4, 16px)",fontSize:"13px",fontFamily:"Inter, sans-serif",color:"var(--muted-foreground, #6b7280)"},children:r.type},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:701,columnNumber:19},this),e.jsxDEV("td",{style:{padding:"var(--spacing-4, 16px)",fontSize:"13px",fontFamily:"Inter, sans-serif",color:"var(--muted-foreground, #6b7280)"},children:e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsxDEV(X,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:720,columnNumber:23},this),r.period]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:719,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:711,columnNumber:19},this),e.jsxDEV("td",{style:{padding:"var(--spacing-4, 16px)",fontSize:"13px",fontFamily:"Inter, sans-serif",color:"var(--muted-foreground, #6b7280)"},children:e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsxDEV(ae,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:733,columnNumber:23},this),r.region]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:732,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:724,columnNumber:19},this),e.jsxDEV("td",{style:{padding:"var(--spacing-4, 16px)",textAlign:"center"},children:U(r.status)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:737,columnNumber:19},this),e.jsxDEV("td",{style:{padding:"var(--spacing-4, 16px)",textAlign:"center"},children:e.jsxDEV("div",{style:{display:"flex",gap:"var(--spacing-2, 8px)",justifyContent:"center"},children:[e.jsxDEV("button",{onClick:()=>{r.id==="RPT-2025-001"?p("/facility-report",{state:{viewMode:"drill-down",selectedDistrict:"Thành phố Hồ Chí Minh"}}):r.id==="RPT-2025-002"&&p("/facility-report",{state:{viewMode:"drill-down",selectedDistrict:"Quận 3"}})},style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",background:"none",border:"1px solid var(--border, #e5e7eb)",borderRadius:"calc(var(--radius, 6px) * 0.75)",color:"var(--muted-foreground, #6b7280)",cursor:"pointer",transition:"all 0.2s ease"},title:"Xem báo cáo",children:e.jsxDEV(le,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:776,columnNumber:25},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:742,columnNumber:23},this),O.canExport?e.jsxDEV("button",{onClick:()=>{o(r.name),T(!0)},style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",background:"none",border:"1px solid var(--border, #e5e7eb)",borderRadius:"calc(var(--radius, 6px) * 0.75)",color:"var(--muted-foreground, #6b7280)",cursor:"pointer",transition:"all 0.2s ease"},title:"Xuất dữ liệu",children:e.jsxDEV(C,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:799,columnNumber:27},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:779,columnNumber:25},this):e.jsxDEV("button",{disabled:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",background:"var(--muted, #f3f4f6)",border:"1px solid var(--border, #e5e7eb)",borderRadius:"calc(var(--radius, 6px) * 0.75)",color:"var(--muted-foreground, #9ca3af)",cursor:"not-allowed",opacity:.5},title:"Bạn không có quyền xuất dữ liệu",children:e.jsxDEV(C,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:819,columnNumber:27},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:802,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:741,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:740,columnNumber:19},this)]},r.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:642,columnNumber:17},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:640,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:532,columnNumber:11},this),B.length===0&&e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"var(--spacing-3, 12px)",padding:"var(--spacing-8, 32px)",color:"var(--muted-foreground, #6b7280)",fontFamily:"Inter, sans-serif",fontSize:"13px"},children:[e.jsxDEV(D,{size:48,style:{opacity:.3}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:843,columnNumber:15},this),e.jsxDEV("div",{children:"Không tìm thấy báo cáo nào"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:844,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:830,columnNumber:13},this),e.jsxDEV("div",{style:{borderTop:"1px solid var(--border, #e5e7eb)",padding:"var(--spacing-4, 16px)",background:"var(--muted, #f9fafb)",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"var(--spacing-3, 12px)"},children:[e.jsxDEV("div",{style:{fontSize:"12px",color:"var(--muted-foreground, #6b7280)",fontFamily:"Inter, sans-serif"},children:["Hiển thị ",B.length," báo cáo"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:861,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>L(!0),style:{display:"flex",alignItems:"center",gap:"var(--spacing-2, 8px)",padding:"var(--spacing-2, 8px) var(--spacing-3, 12px)",background:"none",color:"var(--primary, #005cb6)",border:"none",borderRadius:"calc(var(--radius, 6px) * 0.75)",fontSize:"12px",fontWeight:500,fontFamily:"Inter, sans-serif",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:r=>{r.currentTarget.style.background="rgba(0, 92, 182, 0.1)"},onMouseLeave:r=>{r.currentTarget.style.background="none"},children:[e.jsxDEV(ce,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:894,columnNumber:15},this),"Xem lịch sử xuất dữ liệu"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:870,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:849,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:524,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:241,columnNumber:7},this),e.jsxDEV(de,{open:b,onClose:()=>T(!1),reportName:t,onExport:r=>{if(t==="Báo cáo tình hình cơ sở ATTP - Thành phố Hồ Chí Minh"){const g=[{area:"Thành phố Hồ Chí Minh",totalFacilities:V.length,activeFacilities:V.filter(i=>i.status==="active").length,highRisk:V.filter(i=>i.riskLevel==="high").length,violations:V.reduce((i,f)=>i+(f.violations||0),0),resolved:Math.floor(V.reduce((i,f)=>i+(f.violations||0),0)*.8),riskRate:V.filter(i=>i.riskLevel==="high").length/V.length*100}],h=V.map(i=>({code:i.id,name:i.name,type:i.type,address:i.address,ward:i.ward||"Phường Bến Nghé",district:"Thành phố Hồ Chí Minh",riskLevel:i.riskLevel,legalStatus:i.legalStatus||"Đầy đủ",status:i.status||"active"})),N={};V.forEach(i=>{N[i.type]||(N[i.type]={total:0,highRisk:0,violations:0}),N[i.type].total++,i.riskLevel==="high"&&N[i.type].highRisk++,i.violations&&i.violations>0&&(N[i.type].violations+=i.violations)});const z=Object.entries(N).map(([i,f])=>({type:i,total:f.total,highRisk:f.highRisk,violations:f.violations})),M={period:"Tháng 01/2025",area:"Thành phố Hồ Chí Minh",exportDate:W()},F=K(g,h,z,M),A={id:`EXP-${String(S.length+1).padStart(3,"0")}`,reportName:t,format:"excel",status:"completed",createdBy:"Nguyễn Văn A",createdAt:new Date().toLocaleString("vi-VN"),fileSize:"850 KB"};I([A,...S]),k({show:!0,type:"success",title:"Xuất Excel thành công!",message:`File: ${F}
Số sheets: 4 | Tổng records: ${V.length}`})}else if(t==="Báo cáo kiểm tra vệ sinh ATTP - Quận 3"){const g=[{area:"Quận 3",totalFacilities:y.length,activeFacilities:y.filter(i=>i.status==="active").length,highRisk:y.filter(i=>i.riskLevel==="high").length,violations:y.reduce((i,f)=>i+(f.violations||0),0),resolved:Math.floor(y.reduce((i,f)=>i+(f.violations||0),0)*.8),riskRate:y.filter(i=>i.riskLevel==="high").length/y.length*100}],h=y.map(i=>({code:i.id,name:i.name,type:i.type,address:i.address,ward:i.ward||"Phường Bến Nghé",district:"Quận 3",riskLevel:i.riskLevel,legalStatus:i.legalStatus||"Đầy đủ",status:i.status||"active"})),N={};y.forEach(i=>{N[i.type]||(N[i.type]={total:0,highRisk:0,violations:0}),N[i.type].total++,i.riskLevel==="high"&&N[i.type].highRisk++,i.violations&&i.violations>0&&(N[i.type].violations+=i.violations)});const z=Object.entries(N).map(([i,f])=>({type:i,total:f.total,highRisk:f.highRisk,violations:f.violations})),M={period:"Tháng 01/2025",area:"Quận 3",exportDate:W()},F=K(g,h,z,M),A={id:`EXP-${String(S.length+1).padStart(3,"0")}`,reportName:t,format:"excel",status:"completed",createdBy:"Nguyễn Văn A",createdAt:new Date().toLocaleString("vi-VN"),fileSize:"850 KB"};I([A,...S]),k({show:!0,type:"success",title:"Xuất Excel thành công!",message:`File: ${F}
Số sheets: 4 | Tổng records: ${y.length}`})}else{const g={id:`EXP-${String(S.length+1).padStart(3,"0")}`,reportName:t,format:r,status:"completed",createdBy:"Nguyễn Văn A",createdAt:new Date().toLocaleString("vi-VN"),fileSize:"2.5 MB"};I([g,...S]),k({show:!0,type:"success",title:"Xuất dữ liệu thành công",message:`File ${r.toUpperCase()} đã được tạo và sẵn sàng tải xuống.`})}}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:902,columnNumber:7},this),e.jsxDEV(ue,{open:l,onClose:()=>L(!1),history:S},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:1072,columnNumber:7},this),e.jsxDEV(ge,{show:P.show,type:P.type,title:P.title,message:P.message,onClose:()=>k({...P,show:!1})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:1079,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/ReportsPage.tsx",lineNumber:205,columnNumber:5},this)}export{Ne as default};
