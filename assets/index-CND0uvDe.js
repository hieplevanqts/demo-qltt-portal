const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/leaflet-fbicKXUd.js","assets/vendor-Cja35lIC.js","assets/vendor-BDNOyzxu.css","assets/leaflet-CIGW-MKW.css","assets/OverviewPage-Cog65Oc3.js","assets/system-admin-ex6_k_qZ.js","assets/icons-BAlVBlw-.js","assets/system-admin-B4Aj2jdp.css","assets/MapPage-oKMeAPey.js","assets/locationsApi-DsDxNHu0.js","assets/plans-D8Etc1yb.js","assets/evidence-DaHuJ-yO.js","assets/evidence-BGSMmHUN.css","assets/docs-B0haN8rX.js","assets/plans-BPRv_Xu5.css","assets/ConfirmDialog-BbBWOneB.js","assets/alert-dialog-B66IMAU8.js","assets/vietnamLocations-B74FGGy7.js","assets/lead-risk-BFz7WLqJ.js","assets/lead-risk-BALtOvxh.css","assets/admin-legacy-jWMCv_Ye.js","assets/admin-legacy-mElwSQpD.css","assets/todolist-BU1fHqyV.js","assets/todolist-CeZm_QnC.css","assets/kpi-CWG9dtA2.js","assets/kpi-7ax0WThD.css","assets/MapPage-rsVYK63X.css","assets/StoreDetailPage-Erl2B72C.js","assets/mockStores-DistbSc0.js","assets/storesApi-DbG_239M.js","assets/mockComplaints-CI6iyxaE.js","assets/StoreDetailPage-ClVGHw_d.css","assets/DataExportPage-ClHlvu3k.js","assets/RegistryHomePage-XMfuApTS.js","assets/RegistryHomePage-BY-X0-RG.css","assets/RegistryStoreListPage-DQO3gJ8b.js","assets/MapLocationPicker-DlTZRFpd.js","assets/MapLocationPicker-UfrOrh-E.css","assets/RegistryStoreListPage-ng3ppQLE.css","assets/RegistryDedupWorkbenchPage-t6GKTQCs.js","assets/RegistryPlaceholderPage-5OJcKmya.js","assets/RegistryPlaceholderPage-D-KxTqeu.css","assets/RegistryVerificationQueuePage-CuNnNEfP.js","assets/RegistryVerificationDetailPage-DuJ4VDC8.js","assets/RegistryApprovalQueuePage-DaUFhhLk.js","assets/RegistryApprovalDetailPage-D-3YxgUn.js","assets/RegistryImportPage-BcfDXLR7.js","assets/RegistryImportReviewPage-CPjoOWXf.js","assets/RegistryImportReviewPage-Li9-VO2Q.css","assets/RegistryAuditLogPage-Ck3BVZ7b.js","assets/EditRegistryPage-DCw8Oten.js","assets/EditRegistryPage-jgK8ijy-.css","assets/FullEditRegistryPage-CUkX7yta.js","assets/FullEditRegistryPage-qtZjtpST.css","assets/EvidenceRoutes-DvpbNkg_.js","assets/ReportsPage-DW_BgNv-.js","assets/DashboardPage-DYPGtok3.js","assets/Profile-pZA511-i.js","assets/Card-D8C2dTGg.js","assets/Card-KPdKHJAC.css","assets/Profile-Dzc-dYSa.css","assets/Preferences-vAfcZOTX.js","assets/ActivityLog-CVbxb_Fv.js","assets/ChangePassword-DrQOTaj6.js","assets/TaskBoard-Hw_ZxuJ4.js","assets/TaskBoard-TMCEC_B0.css"])))=>i.map(i=>d[i]);
var $n=Object.defineProperty;var On=(t,n,i)=>n in t?$n(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i;var oe=(t,n,i)=>On(t,typeof n!="symbol"?n+"":n,i);import{r as b,j as e,l as Ct,bf as De,b2 as le,e as et,L as F,f as tt,k as L,bg as Oe,bh as Un,bi as Wn,bj as qn,bk as Yn,bl as ye,bm as Jn,bn as $,bo as I,bp as Qe,bq as Zn,br as ei,bs as ti,bt as ni,bu as ii,bv as si,bw as ai,bx as ri,by as oi}from"./vendor-Cja35lIC.js";import{A as li,Q as ci,y as vn,E as Be,z as Ft,B as R,F as gn,G as bn,c as w,s as ne,D as mi,H as ui,m as di,n as pi,o as hi,L as Y,J as Ni,_ as P,K as fi,M as vi,N as gi,O as bi,R as Vi,S as k}from"./system-admin-ex6_k_qZ.js";import{N as wt,X as re,j as Me,bE as Ti,$ as de,ac as Xt,b7 as be,a4 as Vn,ak as Bt,T as J,n as Ve,a8 as pe,bF as xi,aJ as Ut,bc as Ei,Q as Tn,bC as xn,U as Hi,bg as yi,ae as Li,ag as Di,o as U,t as Ie,aV as Qi,bG as ji,al as Mt,bH as ie,b2 as nt,au as it,bI as he,b3 as st,k as Te,p as at,L as rt,G as ot,S as lt,K as ct,l as mt,B as ut,q as dt,r as pt,u as Ne,m as ht,s as Nt,a5 as te,bB as qe,bJ as Ye,bK as Pi,x as En,bL as Et,C as ft,aa as vt,be as Si,E as _i,J as ki,h as Ci,bM as wi,bN as Bi,bO as Mi,aG as Ii,a$ as Ai,a_ as Ri,R as zi,bP as Hn,aj as yn,bs as Fi,ai as Xi,aN as Ki,aM as Gi,i as $i}from"./icons-BAlVBlw-.js";import{f as ce,g as me,h as ue,i as X,j as Kt,k as Je,S as Wt,a as qt,b as Yt,c as Jt,d as je}from"./evidence-DaHuJ-yO.js";import{b as Z,a as Oi,P as Ui,f as Wi,c as qi,d as Yi}from"./plans-D8Etc1yb.js";import{u as Ji}from"./admin-legacy-jWMCv_Ye.js";import{i as Zi}from"./todolist-BU1fHqyV.js";import{k as es}from"./kpi-CWG9dtA2.js";import"./leaflet-fbicKXUd.js";import"./docs-B0haN8rX.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=i(r);fetch(r.href,a)}})();const Ln=b.createContext(void 0),Zt="mappa-layout-mode";function ts({children:t}){const[n,i]=b.useState(()=>{const a=localStorage.getItem(Zt);return a==="horizontal"||a==="vertical"?a:"horizontal"}),s=a=>{i(a),localStorage.setItem(Zt,a)},r=()=>{s(n==="horizontal"?"vertical":"horizontal")};return e.jsxDEV(Ln.Provider,{value:{layoutMode:n,setLayoutMode:s,toggleLayoutMode:r},children:t},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/contexts/LayoutContext.tsx",lineNumber:33,columnNumber:5},this)}function gt(){const t=b.useContext(Ln);if(t===void 0)throw new Error("useLayout must be used within a LayoutProvider");return t}function ns(){return e.jsxDEV(li,{children:e.jsxDEV(ci,{children:e.jsxDEV(ts,{children:e.jsxDEV(Ct,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/RootLayout.tsx",lineNumber:12,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/RootLayout.tsx",lineNumber:11,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/RootLayout.tsx",lineNumber:10,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/RootLayout.tsx",lineNumber:9,columnNumber:5},this)}const Dn="mappa-recent-searches",is=5,ss=[{id:"F001",type:"facility",title:"NhÃ  hÃ ng Phá»Ÿ HÃ  Ná»™i",subtitle:"Quáº­n Ba ÄÃ¬nh, HÃ  Ná»™i",metadata:"ÄÃ£ cáº¥p phÃ©p â€¢ Hoáº¡t Ä‘á»™ng",url:"/stores"},{id:"F002",type:"facility",title:"SiÃªu thá»‹ Vinmart+",subtitle:"Quáº­n Cáº§u Giáº¥y, HÃ  Ná»™i",metadata:"ÄÃ£ cáº¥p phÃ©p â€¢ Hoáº¡t Ä‘á»™ng",url:"/stores"},{id:"F003",type:"facility",title:"Cá»­a hÃ ng Ä‘iá»‡n mÃ¡y Nguyá»…n Kim",subtitle:"Quáº­n HoÃ n Kiáº¿m, HÃ  Ná»™i",metadata:"ÄÃ£ cáº¥p phÃ©p â€¢ Hoáº¡t Ä‘á»™ng",url:"/stores"},{id:"F004",type:"facility",title:"QuÃ¡n Cafe The Coffee House",subtitle:"Quáº­n Äá»‘ng Äa, HÃ  Ná»™i",metadata:"ÄÃ£ cáº¥p phÃ©p â€¢ Hoáº¡t Ä‘á»™ng",url:"/stores"},{id:"F005",type:"facility",title:"Trung tÃ¢m thÆ°Æ¡ng máº¡i AEON Mall",subtitle:"Quáº­n HÃ  ÄÃ´ng, HÃ  Ná»™i",metadata:"ÄÃ£ cáº¥p phÃ©p â€¢ Hoáº¡t Ä‘á»™ng",url:"/stores"},{id:"P001",type:"plan",title:"Káº¿ hoáº¡ch kiá»ƒm tra an toÃ n thá»±c pháº©m Táº¿t 2026",subtitle:"Quáº­n Ba ÄÃ¬nh",metadata:"Sáº¯p diá»…n ra â€¢ 15/01/2026",url:"/plans"},{id:"P002",type:"plan",title:"Káº¿ hoáº¡ch kiá»ƒm tra vá»‡ sinh mÃ´i trÆ°á»ng Q1/2026",subtitle:"ToÃ n thÃ nh phá»‘",metadata:"Äang thá»±c hiá»‡n â€¢ 10/01/2026",url:"/plans"},{id:"P003",type:"plan",title:"Káº¿ hoáº¡ch thanh tra an toÃ n Ä‘iá»‡n",subtitle:"Quáº­n HoÃ n Kiáº¿m",metadata:"HoÃ n thÃ nh â€¢ 05/12/2025",url:"/plans"},{id:"L001",type:"lead",title:"Pháº£n Ã¡nh thá»±c pháº©m khÃ´ng rÃµ nguá»“n gá»‘c",subtitle:"PhÆ°á»ng LÃ¡ng Háº¡, Äá»‘ng Äa",metadata:"Má»©c Ä‘á»™ cao â€¢ Má»›i nháº­n",url:"/leads"},{id:"L002",type:"lead",title:"Khiáº¿u náº¡i vá» giÃ¡ cáº£ khÃ´ng niÃªm yáº¿t",subtitle:"PhÆ°á»ng Ã” Chá»£ Dá»«a, Äá»‘ng Äa",metadata:"Má»©c Ä‘á»™ trung bÃ¬nh â€¢ Äang xá»­ lÃ½",url:"/leads"},{id:"L003",type:"lead",title:"Nguá»“n tin vá» hÃ ng giáº£",subtitle:"Quáº­n HoÃ n Kiáº¿m",metadata:"Má»©c Ä‘á»™ cao â€¢ Äang xÃ¡c minh",url:"/leads"},{id:"IB001",type:"inspection-batch",title:"Äá»£t kiá»ƒm tra ATTP cuá»‘i nÄƒm 2025",subtitle:"45 cÆ¡ sá»Ÿ",metadata:"HoÃ n thÃ nh â€¢ 28/12/2025",url:"/tasks"},{id:"IB002",type:"inspection-batch",title:"Äá»£t kiá»ƒm tra vá»‡ sinh mÃ´i trÆ°á»ng Q4",subtitle:"32 cÆ¡ sá»Ÿ",metadata:"Äang thá»±c hiá»‡n â€¢ 15/12/2025",url:"/tasks"},{id:"IS001",type:"inspection-session",title:"Kiá»ƒm tra NhÃ  hÃ ng Phá»Ÿ HÃ  Ná»™i",subtitle:"Quáº­n Ba ÄÃ¬nh",metadata:"HoÃ n thÃ nh â€¢ 20/12/2025",url:"/tasks"},{id:"IS002",type:"inspection-session",title:"Kiá»ƒm tra SiÃªu thá»‹ Vinmart+",subtitle:"Quáº­n Cáº§u Giáº¥y",metadata:"Äang thá»±c hiá»‡n â€¢ 08/01/2026",url:"/tasks"},{id:"LF001",type:"legal-file",title:"Giáº¥y phÃ©p ATTP - NhÃ  hÃ ng Phá»Ÿ HÃ  Ná»™i",subtitle:"Sá»‘: 001/GP-ATTP",metadata:"CÃ²n hiá»‡u lá»±c â€¢ Háº¿t háº¡n 31/12/2026",url:"/evidence"},{id:"LF002",type:"legal-file",title:"Giáº¥y chá»©ng nháº­n Ä‘Äƒng kÃ½ kinh doanh",subtitle:"Sá»‘: 0123456789",metadata:"CÃ²n hiá»‡u lá»±c",url:"/evidence"},{id:"VF001",type:"violation-file",title:"Há»“ sÆ¡ vi pháº¡m ATTP - QuÃ¡n Cafe ABC",subtitle:"Vi pháº¡m Ä‘iá»u 15, Nghá»‹ Ä‘á»‹nh 115/2018",metadata:"Äang xá»­ lÃ½ â€¢ Má»©c pháº¡t: 15 triá»‡u",url:"/evidence"},{id:"VF002",type:"violation-file",title:"Há»“ sÆ¡ vi pháº¡m giÃ¡ cáº£ - Cá»­a hÃ ng XYZ",subtitle:"KhÃ´ng niÃªm yáº¿t giÃ¡",metadata:"HoÃ n thÃ nh â€¢ ÄÃ£ xá»­ pháº¡t",url:"/evidence"},{id:"E001",type:"evidence",title:"GÃ³i chá»©ng cá»© kiá»ƒm tra ATTP ThÃ¡ng 12/2025",subtitle:"24 file Ä‘Ã­nh kÃ¨m",metadata:"Äáº§y Ä‘á»§ â€¢ ÄÃ£ lÆ°u trá»¯",url:"/evidence"},{id:"E002",type:"evidence",title:"GÃ³i chá»©ng cá»© vi pháº¡m hÃ ng giáº£",subtitle:"18 file Ä‘Ã­nh kÃ¨m",metadata:"Äang bá»• sung",url:"/evidence"}];function as(t){if(!t||t.trim().length===0)return[];const n=t.toLowerCase().trim();return ss.filter(i=>{var c,l;const s=i.title.toLowerCase().includes(n),r=(c=i.subtitle)==null?void 0:c.toLowerCase().includes(n),a=(l=i.metadata)==null?void 0:l.toLowerCase().includes(n);return s||r||a})}function It(){if(typeof window>"u")return[];try{const t=localStorage.getItem(Dn);if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?n:[]}catch(t){return console.error("Error loading recent searches:",t),[]}}function rs(t){if(!(typeof window>"u"))try{const i=It().filter(r=>r.id!==t.id),s=[t,...i].slice(0,is);localStorage.setItem(Dn,JSON.stringify(s))}catch(n){console.error("Error saving recent search:",n)}}const os="_searchContainer_2feyh_1",ls="_searchInputWrapper_2feyh_13",cs="_searchIcon_2feyh_27",ms="_searchInput_2feyh_13",us="_clearButton_2feyh_87",ds="_searchButton_2feyh_127",ps="_searchDropdown_2feyh_169",hs="_dropdownHeader_2feyh_255",Ns="_groupHeader_2feyh_279",fs="_searchResultItem_2feyh_313",vs="_resultIcon_2feyh_357",gs="_resultContent_2feyh_367",bs="_resultTitle_2feyh_377",Vs="_resultSubtitle_2feyh_399",Ts="_resultCode_2feyh_417",xs="_highlight_2feyh_441",Es="_noResults_2feyh_459",Hs="_noResultsIcon_2feyh_477",ys="_noResultsTitle_2feyh_489",Ls="_noResultsSubtitle_2feyh_503",Ds="_categoryList_2feyh_517",Qs="_categoryItem_2feyh_535",js="_dropdownFooter_2feyh_589",Ps="_viewAllButton_2feyh_599",Ss="_emptyState_2feyh_637",A={searchContainer:os,searchInputWrapper:ls,searchIcon:cs,searchInput:ms,clearButton:us,searchButton:ds,searchDropdown:ps,dropdownHeader:hs,groupHeader:Ns,searchResultItem:fs,resultIcon:vs,resultContent:gs,resultTitle:bs,resultSubtitle:Vs,resultCode:Ts,highlight:xs,noResults:Es,noResultsIcon:Hs,noResultsTitle:ys,noResultsSubtitle:Ls,categoryList:Ds,categoryItem:Qs,dropdownFooter:js,viewAllButton:Ps,emptyState:Ss},en=t=>{const n={size:18,className:A.resultIcon};switch(t){case"facility":return e.jsxDEV(Ve,{...n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:16,columnNumber:14},void 0);case"plan":return e.jsxDEV(Xt,{...n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:18,columnNumber:14},void 0);case"lead":return e.jsxDEV(de,{...n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:20,columnNumber:14},void 0);case"inspection-batch":return e.jsxDEV(be,{...n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:22,columnNumber:14},void 0);case"inspection-session":return e.jsxDEV(be,{...n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:24,columnNumber:14},void 0);case"legal-file":return e.jsxDEV(Bt,{...n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:26,columnNumber:14},void 0);case"violation-file":return e.jsxDEV(J,{...n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:28,columnNumber:14},void 0);case"evidence":return e.jsxDEV(Vn,{...n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:30,columnNumber:14},void 0);default:return e.jsxDEV(Bt,{...n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:32,columnNumber:14},void 0)}},_s=t=>{switch(t){case"facility":return"CÆ¡ sá»Ÿ";case"plan":return"Káº¿ hoáº¡ch";case"lead":return"Nguá»“n tin";case"inspection-batch":return"Äá»£t kiá»ƒm tra";case"inspection-session":return"PhiÃªn kiá»ƒm tra";case"legal-file":return"Há»“ sÆ¡ phÃ¡p lÃ½";case"violation-file":return"Há»“ sÆ¡ vi pháº¡m";case"evidence":return"GÃ³i chá»©ng cá»©";default:return""}},Ht=(t,n)=>{if(!n.trim())return t;const i=t.split(new RegExp(`(${n})`,"gi"));return e.jsxDEV(e.Fragment,{children:i.map((s,r)=>s.toLowerCase()===n.toLowerCase()?e.jsxDEV("mark",{className:A.highlight,children:s},r,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:68,columnNumber:11},void 0):e.jsxDEV("span",{children:s},r,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:70,columnNumber:11},void 0))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:65,columnNumber:5},void 0)};function ks(){const[t,n]=b.useState(!1),[i,s]=b.useState(""),[r,a]=b.useState([]),[c,l]=b.useState([]),f=b.useRef(null);b.useEffect(()=>{l(It())},[]),b.useEffect(()=>{const h=u=>{f.current&&!f.current.contains(u.target)&&n(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),b.useEffect(()=>{if(i.trim()){const h=as(i);a(h)}else a([])},[i]);const g=()=>{n(!0)},V=()=>{s(""),a([])},x=h=>{console.log("Navigate to:",h.url),rs(h),l(It()),n(!1),s("")},T=()=>{i.trim()&&(console.log("Search for all results:",i),n(!1))},D=h=>{h.key==="Enter"&&T()},p=r.reduce((h,u)=>(h[u.type]||(h[u.type]=[]),h[u.type].push(u),h),{}),H=c.length>0;return e.jsxDEV("div",{className:A.searchContainer,ref:f,children:[e.jsxDEV("div",{className:A.searchInputWrapper,children:[e.jsxDEV(wt,{className:A.searchIcon,size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:159,columnNumber:9},this),e.jsxDEV("input",{type:"text",className:A.searchInput,placeholder:"TÃ¬m cÆ¡ sá»Ÿ / há»“ sÆ¡ / káº¿ hoáº¡ch / Ä‘á»£t kiá»ƒm traâ€¦",value:i,onChange:h=>s(h.target.value),onFocus:g,onKeyDown:D},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:160,columnNumber:9},this),i&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{className:A.searchButton,onClick:T,title:"TÃ¬m kiáº¿m",children:e.jsxDEV(wt,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:176,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:171,columnNumber:13},this),e.jsxDEV("button",{className:A.clearButton,onClick:V,title:"XÃ³a",children:e.jsxDEV(re,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:179,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:178,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:158,columnNumber:7},this),t&&e.jsxDEV("div",{className:A.searchDropdown,children:[!i&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:A.dropdownHeader,children:[e.jsxDEV(Me,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:190,columnNumber:17},this),e.jsxDEV("span",{children:"TÃ¬m kiáº¿m gáº§n Ä‘Ã¢y"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:191,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:189,columnNumber:15},this),H?e.jsxDEV(e.Fragment,{children:c.map(h=>e.jsxDEV("button",{className:A.searchResultItem,onClick:()=>x(h),children:[en(h.type),e.jsxDEV("div",{className:A.resultContent,children:[e.jsxDEV("div",{className:A.resultTitle,children:h.title},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:203,columnNumber:25},this),h.subtitle&&e.jsxDEV("div",{className:A.resultSubtitle,children:h.subtitle},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:205,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:202,columnNumber:23},this),h.code&&e.jsxDEV("div",{className:A.resultCode,children:h.code},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:208,columnNumber:39},this)]},`${h.type}-${h.id}`,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:196,columnNumber:21},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:194,columnNumber:17},this):e.jsxDEV("div",{className:A.emptyState,children:"ChÆ°a cÃ³ tÃ¬m kiáº¿m gáº§n Ä‘Ã¢y"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:213,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:188,columnNumber:13},this),i&&r.length===0&&e.jsxDEV("div",{className:A.noResults,children:[e.jsxDEV(Ti,{className:A.noResultsIcon,size:48},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:222,columnNumber:15},this),e.jsxDEV("div",{className:A.noResultsTitle,children:"KhÃ´ng tÃ¬m tháº¥y káº¿t quáº£ phÃ¹ há»£p"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:223,columnNumber:15},this),e.jsxDEV("div",{className:A.noResultsSubtitle,children:"Thá»­ tÃ¬m kiáº¿m theo cÃ¡c danh má»¥c sau:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:224,columnNumber:15},this),e.jsxDEV("div",{className:A.categoryList,children:[e.jsxDEV("button",{className:A.categoryItem,onClick:()=>n(!1),children:[e.jsxDEV(de,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:229,columnNumber:19},this),e.jsxDEV("span",{children:"Nguá»“n tin / Rá»§i ro"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:230,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:228,columnNumber:17},this),e.jsxDEV("button",{className:A.categoryItem,onClick:()=>n(!1),children:[e.jsxDEV(Xt,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:233,columnNumber:19},this),e.jsxDEV("span",{children:"Káº¿ hoáº¡ch tÃ¡c nghiá»‡p"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:234,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:232,columnNumber:17},this),e.jsxDEV("button",{className:A.categoryItem,onClick:()=>n(!1),children:[e.jsxDEV(be,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:237,columnNumber:19},this),e.jsxDEV("span",{children:"Nhiá»‡m vá»¥ hiá»‡n trÆ°á»ng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:238,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:236,columnNumber:17},this),e.jsxDEV("button",{className:A.categoryItem,onClick:()=>n(!1),children:[e.jsxDEV(Vn,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:241,columnNumber:19},this),e.jsxDEV("span",{children:"Kho chá»©ng cá»©"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:242,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:240,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:227,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:221,columnNumber:13},this),i&&Object.keys(p).length>0&&e.jsxDEV(e.Fragment,{children:Object.entries(p).map(([h,u])=>e.jsxDEV("div",{children:[e.jsxDEV("div",{className:A.groupHeader,children:[_s(h)," (",u.length,")"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:252,columnNumber:19},this),u.map(d=>e.jsxDEV("button",{className:A.searchResultItem,onClick:()=>x(d),children:[en(d.type),e.jsxDEV("div",{className:A.resultContent,children:[e.jsxDEV("div",{className:A.resultTitle,children:Ht(d.title,i)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:263,columnNumber:25},this),d.subtitle&&e.jsxDEV("div",{className:A.resultSubtitle,children:Ht(d.subtitle,i)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:267,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:262,columnNumber:23},this),d.code&&e.jsxDEV("div",{className:A.resultCode,children:Ht(d.code,i)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:273,columnNumber:25},this)]},`${d.type}-${d.id}`,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:256,columnNumber:21},this))]},h,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:251,columnNumber:17},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:249,columnNumber:13},this),i&&r.length>0&&e.jsxDEV("div",{className:A.dropdownFooter,children:e.jsxDEV("button",{className:A.viewAllButton,onClick:T,children:["Xem táº¥t cáº£ ",r.length," káº¿t quáº£"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:286,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:285,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:186,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/GlobalSearch.tsx",lineNumber:157,columnNumber:5},this)}const Cs="_panel_4ghq7_1",ws="_panelHeader_4ghq7_33",Bs="_headerLeft_4ghq7_49",Ms="_panelTitle_4ghq7_63",Is="_closeButton_4ghq7_79",As="_filterBar_4ghq7_115",Rs="_filterButton_4ghq7_131",zs="_filterActive_4ghq7_167",Fs="_markAllButton_4ghq7_187",Xs="_notificationList_4ghq7_231",Ks="_notificationItem_4ghq7_299",Gs="_unread_4ghq7_335",$s="_notificationIcon_4ghq7_343",Os="_iconSuccess_4ghq7_365",Us="_iconError_4ghq7_373",Ws="_iconWarning_4ghq7_381",qs="_iconInfo_4ghq7_389",Ys="_notificationContent_4ghq7_397",Js="_notificationTitle_4ghq7_407",Zs="_notificationMessage_4ghq7_423",ea="_notificationTime_4ghq7_439",ta="_unreadDot_4ghq7_451",na="_emptyState_4ghq7_473",ia="_emptyIcon_4ghq7_491",sa="_emptyText_4ghq7_503",aa="_panelFooter_4ghq7_519",ra="_viewAllButton_4ghq7_529",z={panel:Cs,panelHeader:ws,headerLeft:Bs,panelTitle:Ms,closeButton:Is,filterBar:As,filterButton:Rs,filterActive:zs,markAllButton:Fs,notificationList:Xs,notificationItem:Ks,unread:Gs,notificationIcon:$s,iconSuccess:Os,iconError:Us,iconWarning:Ws,iconInfo:qs,notificationContent:Ys,notificationTitle:Js,notificationMessage:Zs,notificationTime:ea,unreadDot:ta,emptyState:na,emptyIcon:ia,emptyText:sa,panelFooter:aa,viewAllButton:ra},oa=[{id:"1",type:"plan-approved",title:"Káº¿ hoáº¡ch Ä‘Ã£ Ä‘Æ°á»£c phÃª duyá»‡t",message:"Káº¿ hoáº¡ch kiá»ƒm tra quÃ½ 1/2026 Ä‘Ã£ Ä‘Æ°á»£c lÃ£nh Ä‘áº¡o phÃª duyá»‡t",timestamp:"5 phÃºt trÆ°á»›c",read:!1},{id:"2",type:"task-assigned",title:"Nhiá»‡m vá»¥ má»›i Ä‘Æ°á»£c phÃ¢n cÃ´ng",message:"Báº¡n Ä‘Æ°á»£c phÃ¢n cÃ´ng kiá»ƒm tra cÆ¡ sá»Ÿ ABC Company",timestamp:"15 phÃºt trÆ°á»›c",read:!1},{id:"3",type:"evidence-deadline",title:"GÃ³i chá»©ng cá»© sáº¯p háº¿t háº¡n",message:"GÃ³i chá»©ng cá»© GCC-234 cáº§n chuyá»ƒn há»“ sÆ¡ trong 2 ngÃ y",timestamp:"1 giá» trÆ°á»›c",read:!1},{id:"4",type:"risk-created",title:"Rá»§i ro má»›i Ä‘Æ°á»£c táº¡o",message:'Rá»§i ro "HÃ ng giáº£" Ä‘Æ°á»£c xÃ¡c nháº­n táº¡i cÆ¡ sá»Ÿ CS-045',timestamp:"2 giá» trÆ°á»›c",read:!0},{id:"5",type:"file-pending",title:"Há»“ sÆ¡ chá» duyá»‡t",message:"Há»“ sÆ¡ phÃ¡p lÃ½ HS-2026-15 Ä‘ang chá» phÃª duyá»‡t",timestamp:"3 giá» trÆ°á»›c",read:!0},{id:"6",type:"plan-rejected",title:"Káº¿ hoáº¡ch bá»‹ tá»« chá»‘i",message:"Káº¿ hoáº¡ch KH-2026-02 cáº§n chá»‰nh sá»­a theo gÃ³p Ã½",timestamp:"HÃ´m qua",read:!0}],la=t=>{const n={size:20};switch(t){case"plan-approved":return e.jsxDEV(Ut,{...n,className:z.iconSuccess},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:69,columnNumber:14},void 0);case"plan-rejected":return e.jsxDEV(Tn,{...n,className:z.iconError},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:71,columnNumber:14},void 0);case"task-assigned":return e.jsxDEV(Ei,{...n,className:z.iconInfo},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:73,columnNumber:14},void 0);case"risk-created":return e.jsxDEV(de,{...n,className:z.iconWarning},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:75,columnNumber:14},void 0);case"evidence-deadline":return e.jsxDEV(Me,{...n,className:z.iconWarning},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:77,columnNumber:14},void 0);case"file-pending":return e.jsxDEV(Ut,{...n,className:z.iconInfo},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:79,columnNumber:14},void 0);default:return e.jsxDEV(pe,{...n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:81,columnNumber:14},void 0)}};function ca({onClose:t}){const[n,i]=b.useState(oa),[s,r]=b.useState("all"),a=n.filter(g=>!g.read).length,c=s==="unread"?n.filter(g=>!g.read):n,l=g=>{i(V=>V.map(x=>x.id===g?{...x,read:!0}:x))},f=()=>{i(g=>g.map(V=>({...V,read:!0})))};return e.jsxDEV("div",{className:z.panel,children:[e.jsxDEV("div",{className:z.panelHeader,children:[e.jsxDEV("div",{className:z.headerLeft,children:[e.jsxDEV(pe,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:112,columnNumber:11},this),e.jsxDEV("h3",{className:z.panelTitle,children:["ThÃ´ng bÃ¡o ",a>0&&`(${a} má»›i)`]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:111,columnNumber:9},this),e.jsxDEV("button",{className:z.closeButton,onClick:t,children:e.jsxDEV(re,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:118,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:117,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:110,columnNumber:7},this),e.jsxDEV("div",{className:z.filterBar,children:[e.jsxDEV("button",{className:`${z.filterButton} ${s==="all"?z.filterActive:""}`,onClick:()=>r("all"),children:"Táº¥t cáº£"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:123,columnNumber:9},this),e.jsxDEV("button",{className:`${z.filterButton} ${s==="unread"?z.filterActive:""}`,onClick:()=>r("unread"),children:"ChÆ°a Ä‘á»c"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:129,columnNumber:9},this),a>0&&e.jsxDEV("button",{className:z.markAllButton,onClick:f,children:[e.jsxDEV(xi,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:137,columnNumber:13},this),"Äá»c táº¥t cáº£"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:136,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:122,columnNumber:7},this),e.jsxDEV("div",{className:z.notificationList,children:c.length===0?e.jsxDEV("div",{className:z.emptyState,children:[e.jsxDEV(pe,{size:48,className:z.emptyIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:146,columnNumber:13},this),e.jsxDEV("p",{className:z.emptyText,children:"KhÃ´ng cÃ³ thÃ´ng bÃ¡o"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:147,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:145,columnNumber:11},this):c.map(g=>e.jsxDEV("div",{className:`${z.notificationItem} ${g.read?"":z.unread}`,onClick:()=>l(g.id),children:[e.jsxDEV("div",{className:z.notificationIcon,children:la(g.type)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:158,columnNumber:15},this),e.jsxDEV("div",{className:z.notificationContent,children:[e.jsxDEV("div",{className:z.notificationTitle,children:g.title},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:162,columnNumber:17},this),e.jsxDEV("div",{className:z.notificationMessage,children:g.message},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:163,columnNumber:17},this),e.jsxDEV("div",{className:z.notificationTime,children:g.timestamp},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:164,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:161,columnNumber:15},this),!g.read&&e.jsxDEV("div",{className:z.unreadDot},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:166,columnNumber:38},this)]},g.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:151,columnNumber:13},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:143,columnNumber:7},this),e.jsxDEV("div",{className:z.panelFooter,children:e.jsxDEV("button",{className:z.viewAllButton,children:"Xem táº¥t cáº£ thÃ´ng bÃ¡o"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:173,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:172,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/NotificationPanel.tsx",lineNumber:109,columnNumber:5},this)}const ma="_overlay_oshwk_5",ua="_modal_oshwk_53",da="_formWrapper_oshwk_103",pa="_header_oshwk_119",ha="_headerContent_oshwk_139",Na="_headerIcon_oshwk_153",fa="_headerText_oshwk_177",va="_title_oshwk_187",ga="_subtitle_oshwk_203",ba="_closeButton_oshwk_219",Va="_formBody_oshwk_261",Ta="_formSection_oshwk_281",xa="_sectionLabel_oshwk_293",Ea="_required_oshwk_307",Ha="_radioGroup_oshwk_317",ya="_radioOption_oshwk_329",La="_radioOptionSelected_oshwk_363",Da="_radioInput_oshwk_373",Qa="_radioContent_oshwk_389",ja="_radioLabel_oshwk_401",Pa="_input_oshwk_425",Sa="_textarea_oshwk_469",_a="_inputError_oshwk_519",ka="_textareaFooter_oshwk_537",Ca="_charCount_oshwk_551",wa="_errorText_oshwk_565",Ba="_helperText_oshwk_577",Ma="_fileInputContainer_oshwk_591",Ia="_fileInput_oshwk_591",Aa="_fileInputLabel_oshwk_617",Ra="_fileList_oshwk_659",za="_fileItem_oshwk_673",Fa="_footer_oshwk_709",Xa="_cancelButton_oshwk_731",Ka="_submitButton_oshwk_777",Ga="_spinner_oshwk_831",$a="_successState_oshwk_865",Oa="_successIcon_oshwk_883",Ua="_successTitle_oshwk_911",Wa="_successMessage_oshwk_927",qa="_doneButton_oshwk_945",_={overlay:ma,modal:ua,formWrapper:da,header:pa,headerContent:ha,headerIcon:Na,headerText:fa,title:va,subtitle:ga,closeButton:ba,formBody:Va,formSection:Ta,sectionLabel:xa,required:Ea,radioGroup:Ha,radioOption:ya,radioOptionSelected:La,radioInput:Da,radioContent:Qa,radioLabel:ja,input:Pa,textarea:Sa,inputError:_a,textareaFooter:ka,charCount:Ca,errorText:wa,helperText:Ba,fileInputContainer:Ma,fileInput:Ia,fileInputLabel:Aa,fileList:Ra,fileItem:za,footer:Fa,cancelButton:Xa,submitButton:Ka,spinner:Ga,successState:$a,successIcon:Oa,successTitle:Ua,successMessage:Wa,doneButton:qa};function Ya({onClose:t}){const[n,i]=b.useState("form"),[s,r]=b.useState({type:"bug",subject:"",description:"",email:"",attachments:[]}),[a,c]=b.useState({}),[l,f]=b.useState(!1),g=[{id:"bug",label:"BÃ¡o lá»—i"},{id:"feature",label:"Äá» xuáº¥t tÃ­nh nÄƒng"},{id:"general",label:"GÃ³p Ã½ chung"}],V=()=>{const H={};return s.subject.trim()||(H.subject="Vui lÃ²ng nháº­p tiÃªu Ä‘á»"),s.description.trim()?s.description.trim().length<10&&(H.description="Ná»™i dung pháº£i cÃ³ Ã­t nháº¥t 10 kÃ½ tá»±"):H.description="Vui lÃ²ng nháº­p ná»™i dung pháº£n há»“i",s.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)&&(H.email="Email khÃ´ng há»£p lá»‡"),c(H),Object.keys(H).length===0},x=async H=>{H.preventDefault(),V()&&(f(!0),await new Promise(h=>setTimeout(h,1500)),f(!1),i("success"))},T=()=>{if(n==="success"){t();return}t()},D=H=>{H.target===H.currentTarget&&T()},p=H=>{const h=H.target.files;h&&r({...s,attachments:Array.from(h)})};return e.jsxDEV("div",{className:_.overlay,onClick:D,children:e.jsxDEV("div",{className:_.modal,children:n==="form"?e.jsxDEV("form",{onSubmit:x,className:_.formWrapper,children:[e.jsxDEV("div",{className:_.header,children:[e.jsxDEV("div",{className:_.headerContent,children:[e.jsxDEV("div",{className:_.headerIcon,children:e.jsxDEV(xn,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:117,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:116,columnNumber:17},this),e.jsxDEV("div",{className:_.headerText,children:[e.jsxDEV("h2",{className:_.title,children:"Gá»­i pháº£n há»“i"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:120,columnNumber:19},this),e.jsxDEV("p",{className:_.subtitle,children:"Nháº­p thÃ´ng tin cÆ¡ sá»Ÿ báº¡n muá»‘n thÃªm vÃ o há»‡ thá»‘ng quáº£n lÃ½"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:121,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:119,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:115,columnNumber:15},this),e.jsxDEV("button",{className:_.closeButton,onClick:T,type:"button","aria-label":"ÄÃ³ng",children:e.jsxDEV(re,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:132,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:126,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:114,columnNumber:13},this),e.jsxDEV("div",{className:_.formBody,children:[e.jsxDEV("div",{className:_.formSection,children:[e.jsxDEV("label",{className:_.sectionLabel,children:["Loáº¡i pháº£n há»“i ",e.jsxDEV("span",{className:_.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:141,columnNumber:33},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:140,columnNumber:17},this),e.jsxDEV("div",{className:_.radioGroup,children:g.map(H=>e.jsxDEV("label",{className:`${_.radioOption} ${s.type===H.id?_.radioOptionSelected:""}`,children:[e.jsxDEV("input",{type:"radio",name:"feedbackType",value:H.id,checked:s.type===H.id,onChange:()=>r({...s,type:H.id}),className:_.radioInput},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:151,columnNumber:23},this),e.jsxDEV("div",{className:_.radioContent,children:e.jsxDEV("div",{className:_.radioLabel,children:H.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:160,columnNumber:25},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:159,columnNumber:23},this)]},H.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:145,columnNumber:21},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:143,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:139,columnNumber:15},this),e.jsxDEV("div",{className:_.formSection,children:[e.jsxDEV("label",{className:_.sectionLabel,htmlFor:"subject",children:["TiÃªu Ä‘á» ",e.jsxDEV("span",{className:_.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:170,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:169,columnNumber:17},this),e.jsxDEV("input",{id:"subject",type:"text",className:`${_.input} ${a.subject?_.inputError:""}`,placeholder:"Nháº­p tiÃªu Ä‘á» Ä‘Æ¡n giáº£n gá»n",value:s.subject,onChange:H=>{r({...s,subject:H.target.value}),a.subject&&c({...a,subject:void 0})},maxLength:100},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:172,columnNumber:17},this),a.subject&&e.jsxDEV("span",{className:_.errorText,children:a.subject},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:187,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:168,columnNumber:15},this),e.jsxDEV("div",{className:_.formSection,children:[e.jsxDEV("label",{className:_.sectionLabel,htmlFor:"description",children:["Ná»™i dung chi tiáº¿t ",e.jsxDEV("span",{className:_.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:194,columnNumber:37},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:193,columnNumber:17},this),e.jsxDEV("textarea",{id:"description",className:`${_.textarea} ${a.description?_.inputError:""}`,placeholder:"MÃ´ táº£ chi tiáº¿t váº¥n Ä‘á» hoáº·c kiáº¿n cá»§a báº¡n...",value:s.description,onChange:H=>{r({...s,description:H.target.value}),a.description&&c({...a,description:void 0})},rows:4,maxLength:1e3},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:196,columnNumber:17},this),e.jsxDEV("div",{className:_.textareaFooter,children:a.description?e.jsxDEV("span",{className:_.errorText,children:a.description},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:212,columnNumber:21},this):e.jsxDEV("span",{className:_.charCount,children:[s.description.length,"/1000"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:214,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:210,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:192,columnNumber:15},this),e.jsxDEV("div",{className:_.formSection,children:[e.jsxDEV("label",{className:_.sectionLabel,htmlFor:"email",children:"Email liÃªn há»‡ (tÃ¹y chá»n)"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:223,columnNumber:17},this),e.jsxDEV("input",{id:"email",type:"email",className:`${_.input} ${a.email?_.inputError:""}`,placeholder:"email@example.com",value:s.email,onChange:H=>{r({...s,email:H.target.value}),a.email&&c({...a,email:void 0})}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:226,columnNumber:17},this),a.email?e.jsxDEV("span",{className:_.errorText,children:a.email},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:240,columnNumber:19},this):e.jsxDEV("span",{className:_.helperText,children:"Äá»ƒ láº¡i email náº¿u báº¡n muá»‘n nháº­n pháº£n há»“i tá»« chÃºng tÃ´i"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:242,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:222,columnNumber:15},this),e.jsxDEV("div",{className:_.formSection,children:[e.jsxDEV("label",{className:_.sectionLabel,htmlFor:"attachments",children:"Tá»‡p Ä‘Ã­nh kÃ¨m (tÃ¹y chá»n)"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:250,columnNumber:17},this),e.jsxDEV("div",{className:_.fileInputContainer,children:[e.jsxDEV("input",{id:"attachments",type:"file",className:_.fileInput,multiple:!0,onChange:p},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:254,columnNumber:19},this),e.jsxDEV("label",{htmlFor:"attachments",className:_.fileInputLabel,children:[e.jsxDEV(Hi,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:265,columnNumber:21},this),"Táº£i lÃªn tá»‡p"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:261,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:253,columnNumber:17},this),s.attachments.length>0&&e.jsxDEV("div",{className:_.fileList,children:s.attachments.map((H,h)=>e.jsxDEV("div",{className:_.fileItem,children:[e.jsxDEV(yi,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:273,columnNumber:25},this),H.name]},h,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:272,columnNumber:23},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:270,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:249,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:137,columnNumber:13},this),e.jsxDEV("div",{className:_.footer,children:[e.jsxDEV("button",{type:"button",className:_.cancelButton,onClick:T,disabled:l,children:"Há»§y"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:284,columnNumber:15},this),e.jsxDEV("button",{type:"submit",className:_.submitButton,disabled:l,children:l?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:_.spinner},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:299,columnNumber:21},this),"Äang gá»­i..."]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:298,columnNumber:19},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Li,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:304,columnNumber:21},this),"Gá»­i pháº£n há»“i"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:303,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:292,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:283,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:112,columnNumber:11},this):e.jsxDEV("div",{className:_.successState,children:[e.jsxDEV("div",{className:_.successIcon,children:e.jsxDEV(Di,{size:64},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:314,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:313,columnNumber:13},this),e.jsxDEV("h3",{className:_.successTitle,children:"Cáº£m Æ¡n pháº£n há»“i cá»§a báº¡n!"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:316,columnNumber:13},this),e.jsxDEV("p",{className:_.successMessage,children:["ChÃºng tÃ´i Ä‘Ã£ nháº­n Ä‘Æ°á»£c pháº£n há»“i cá»§a báº¡n vÃ  sáº½ xem xÃ©t trong thá»i gian sá»›m nháº¥t.",s.email&&" Náº¿u cáº§n thiáº¿t, chÃºng tÃ´i sáº½ liÃªn há»‡ qua email báº¡n Ä‘Ã£ cung cáº¥p."]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:317,columnNumber:13},this),e.jsxDEV("button",{className:_.doneButton,onClick:t,children:"HoÃ n táº¥t"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:321,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:312,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:110,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/header/FeedbackModal.tsx",lineNumber:109,columnNumber:5},this)}const tn={scope:{divisionId:null,teamId:null,areaId:null,province:null,ward:null},locks:{division:!1,team:!1},availableDivisions:[],availableTeams:[],availableAreas:[],canChangeScope:!1,isLoading:!1,hasInitialized:!1,error:null},Qn=De({name:"qlttScope",initialState:tn,reducers:{setScope:(t,n)=>{t.scope=n.payload;try{localStorage.setItem("mappa-scope",JSON.stringify(n.payload)),console.log("âœ… QLTTScopeSlice: Scope saved to localStorage:",n.payload)}catch(i){console.error("âŒ QLTTScopeSlice: Failed to save scope to localStorage:",i)}},updateScope:(t,n)=>{t.scope={...t.scope,...n.payload};try{localStorage.setItem("mappa-scope",JSON.stringify(t.scope)),console.log("âœ… QLTTScopeSlice: Scope updated and saved:",t.scope)}catch(i){console.error("âŒ QLTTScopeSlice: Failed to save scope:",i)}},resetScope:t=>{t.scope=tn.scope;try{localStorage.removeItem("mappa-scope"),console.log("âœ… QLTTScopeSlice: Scope reset and localStorage cleared")}catch(n){console.error("âŒ QLTTScopeSlice: Failed to clear localStorage:",n)}},setAvailableDivisions:(t,n)=>{t.availableDivisions=n.payload},setAvailableTeams:(t,n)=>{t.availableTeams=n.payload},setAvailableAreas:(t,n)=>{t.availableAreas=n.payload},setLocks:(t,n)=>{t.locks=n.payload},setCanChangeScope:(t,n)=>{t.canChangeScope=n.payload},setIsLoading:(t,n)=>{t.isLoading=n.payload},setHasInitialized:(t,n)=>{t.hasInitialized=n.payload},setError:(t,n)=>{t.error=n.payload},loadScopeFromStorage:t=>{try{const n=localStorage.getItem("mappa-scope");if(n){const i=JSON.parse(n);i&&typeof i=="object"&&(t.scope=i,console.log("ğŸ”„ QLTTScopeSlice: Scope loaded from localStorage:",i))}}catch(n){console.error("âŒ QLTTScopeSlice: Failed to load scope from localStorage:",n),t.error="Failed to load scope from storage"}}}}),{setScope:Ae,updateScope:om,resetScope:lm,setAvailableDivisions:Ja,setAvailableTeams:Za,setAvailableAreas:er,setLocks:cm,setCanChangeScope:mm,setIsLoading:yt,setHasInitialized:nn,setError:Re,loadScopeFromStorage:tr}=Qn.actions,nr=Qn.reducer,ir="_scopeSelector_l4gfz_5",sr="_selectWrapper_l4gfz_17",ar="_selectIcon_l4gfz_55",rr="_select_l4gfz_17",Ee={scopeSelector:ir,selectWrapper:sr,selectIcon:ar,select:rr};function or(){const{scope:t,setScope:n,availableDivisions:i,availableTeams:s,availableAreas:r,isLoading:a}=vn(),c=Be(),[l,f]=b.useState(""),[g,V]=b.useState(""),[x,T]=b.useState("");b.useEffect(()=>{f(t.divisionId||""),V(t.teamId||""),T(t.areaId||"")},[t.divisionId,t.teamId,t.areaId]),b.useEffect(()=>{if(!a&&i.length>0&&!t.divisionId){const o=localStorage.getItem("division_id");if(o&&i.some(E=>E.id===o)){const E={divisionId:o,teamId:null,areaId:null,province:null,ward:null};n(E),c(Ae(E))}}},[i,a,t.divisionId,n,c]);const D=o=>{o.stopPropagation();const N=o.target.value||null;f(N||""),V(""),T(""),N?localStorage.setItem("division_id",N):localStorage.removeItem("division_id");const E={divisionId:N,teamId:null,areaId:null,province:null,ward:null};n(E),c(Ae(E))},p=o=>{o.stopPropagation();const N=o.target.value,E=N&&N.trim()!==""?N:null;V(E||""),T("");const Q={divisionId:t.divisionId||null,teamId:E,areaId:null,province:null,ward:null};n(Q),c(Ae(Q))},H=o=>{o.stopPropagation();const N=o.target.value||null;T(N||"");const E=r.find(m=>m.id===N),Q={divisionId:t.divisionId||null,teamId:t.teamId||null,areaId:N,province:(E==null?void 0:E.provinceCode)||null,ward:(E==null?void 0:E.wardCode)||null};n(Q),c(Ae(Q))},h=a,u=a||!l,d=a||!g;return e.jsxDEV("div",{className:Ee.scopeSelector,onClick:o=>o.stopPropagation(),onMouseDown:o=>o.stopPropagation(),"data-scope-selector":"true",children:e.jsxDEV("div",{className:Ee.selectWrapper,children:[e.jsxDEV(U,{className:Ee.selectIcon,size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/scope-selector/ScopeSelector.tsx",lineNumber:140,columnNumber:9},this),e.jsxDEV("select",{value:l||"",onChange:D,className:Ee.select,disabled:h,onClick:o=>o.stopPropagation(),onMouseDown:o=>o.stopPropagation(),children:[e.jsxDEV("option",{value:"",children:"Táº¥t cáº£ chi cá»¥c"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/scope-selector/ScopeSelector.tsx",lineNumber:149,columnNumber:11},this),i.map((o,N)=>e.jsxDEV("option",{value:o.id,children:o.name},`${o.id||"div"}-${N}`,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/scope-selector/ScopeSelector.tsx",lineNumber:151,columnNumber:13},this))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/scope-selector/ScopeSelector.tsx",lineNumber:141,columnNumber:9},this),e.jsxDEV("select",{value:g||"",onChange:p,className:Ee.select,disabled:u,onClick:o=>o.stopPropagation(),onMouseDown:o=>o.stopPropagation(),children:[e.jsxDEV("option",{value:"",children:"Táº¥t cáº£ Ä‘á»™i"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/scope-selector/ScopeSelector.tsx",lineNumber:165,columnNumber:11},this),s.map((o,N)=>e.jsxDEV("option",{value:o.id,children:o.name},`${o.id||"team"}-${N}`,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/scope-selector/ScopeSelector.tsx",lineNumber:167,columnNumber:13},this))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/scope-selector/ScopeSelector.tsx",lineNumber:157,columnNumber:9},this),e.jsxDEV("select",{value:x||"",onChange:H,className:Ee.select,disabled:d,onClick:o=>o.stopPropagation(),onMouseDown:o=>o.stopPropagation(),children:[e.jsxDEV("option",{value:"",children:"Táº¥t cáº£ Ä‘á»‹a bÃ n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/scope-selector/ScopeSelector.tsx",lineNumber:181,columnNumber:11},this),r.map((o,N)=>e.jsxDEV("option",{value:o.id,children:o.name},`${o.id||"area"}-${N}`,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/scope-selector/ScopeSelector.tsx",lineNumber:183,columnNumber:13},this))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/scope-selector/ScopeSelector.tsx",lineNumber:173,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/scope-selector/ScopeSelector.tsx",lineNumber:139,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/scope-selector/ScopeSelector.tsx",lineNumber:133,columnNumber:5},this)}const lr={user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,isRestoring:!1},jn=De({name:"auth",initialState:lr,reducers:{loginRequest:(t,n)=>{t.isLoading=!0,t.error=null},loginSuccess:(t,n)=>{t.isLoading=!1,t.token=n.payload.access_token,t.user=n.payload.user||null,t.isAuthenticated=!0,t.error=null},loginFailure:(t,n)=>{t.isLoading=!1,t.error=n.payload,t.isAuthenticated=!1,t.token=null,t.user=null},restoreSessionRequest:t=>{t.isLoading=!0,t.isRestoring=!0,t.error=null},restoreSessionSuccess:(t,n)=>{t.isLoading=!1,t.isRestoring=!1,t.token=n.payload.token,t.user=n.payload.user||null,t.isAuthenticated=!!n.payload.token,t.error=null},restoreSessionFailure:t=>{t.isLoading=!1,t.isRestoring=!1,t.isAuthenticated=!1,t.token=null,t.user=null,t.error=null},fetchUserInfoRequest:t=>{},fetchUserInfoSuccess:(t,n)=>{t.user={...t.user,...n.payload}},fetchUserInfoFailure:t=>{},logout:t=>{t.user=null,t.token=null,t.isAuthenticated=!1,t.error=null},clearError:t=>{t.error=null},setUser:(t,n)=>{t.user=n.payload,t.isAuthenticated=!!n.payload}}}),{loginRequest:Pn,loginSuccess:cr,loginFailure:mr,restoreSessionRequest:Ze,restoreSessionSuccess:sn,restoreSessionFailure:Lt,fetchUserInfoRequest:Ce,fetchUserInfoSuccess:ur,fetchUserInfoFailure:Dt,logout:an,clearError:dr,setUser:um}=jn.actions,pr=jn.reducer;class _e{static encrypt(n){try{let i="";for(let s=0;s<n.length;s++){const r=n.charCodeAt(s)^this.KEY.charCodeAt(s%this.KEY.length);i+=String.fromCharCode(r)}return btoa(i)}catch(i){return console.error("Encryption error:",i),n}}static decrypt(n){try{const i=atob(n);let s="";for(let r=0;r<i.length;r++){const a=i.charCodeAt(r)^this.KEY.charCodeAt(r%this.KEY.length);s+=String.fromCharCode(a)}return s}catch(i){return console.error("Decryption error:",i),n}}}oe(_e,"KEY","mappa-auth-key-2024");class ee{static setItem(n,i){this.storage.set(n,i)}static getItem(n){return this.storage.get(n)||null}static removeItem(n){this.storage.delete(n)}static clear(){this.storage.clear()}}oe(ee,"storage",new Map);class W{static async init(){if(!this.db)return new Promise((n,i)=>{const s=indexedDB.open(this.dbName,1);s.onerror=()=>i(s.error),s.onsuccess=()=>{this.db=s.result,n()},s.onupgradeneeded=r=>{const a=r.target.result;a.objectStoreNames.contains(this.storeName)||a.createObjectStore(this.storeName)}})}static async setItem(n,i){if(await this.init(),!this.db)throw new Error("IndexedDB not initialized");return new Promise((s,r)=>{const l=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(i,n);l.onerror=()=>r(l.error),l.onsuccess=()=>s()})}static async getItem(n){return await this.init(),this.db?new Promise((i,s)=>{const c=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(n);c.onerror=()=>s(c.error),c.onsuccess=()=>i(c.result||null)}):null}static async removeItem(n){if(await this.init(),!!this.db)return new Promise((i,s)=>{const c=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(n);c.onerror=()=>s(c.error),c.onsuccess=()=>i()})}static async clear(){if(await this.init(),!!this.db)return new Promise((n,i)=>{const a=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();a.onerror=()=>i(a.error),a.onsuccess=()=>n()})}}oe(W,"dbName","mappa-auth-db"),oe(W,"storeName","tokens"),oe(W,"db",null);class hr{constructor(n){oe(this,"config");oe(this,"keyPrefix");this.config=n,this.keyPrefix=n.keyPrefix||"mappa_auth_"}getKey(n){return`${this.keyPrefix}${n}`}async setToken(n,i){const s=this.getKey("access_token");let r=n;switch(this.config.encrypt&&this.config.strategy!=="httpOnlyCookie"&&(r=_e.encrypt(n)),this.config.strategy){case"httpOnlyCookie":console.warn("HttpOnly cookies must be set by server. Falling back to localStorage."),localStorage.setItem(s,r);break;case"encryptedLocalStorage":localStorage.setItem(s,r);const a=localStorage.getItem(s);if((!a||a!==r)&&console.error("âŒ TokenStorage: Token was not stored correctly!",{expectedLength:r.length,storedLength:(a==null?void 0:a.length)||0}),i){const c=Date.now()+i*1e3;localStorage.setItem(this.getKey("token_expires_at"),c.toString())}break;case"sessionStorage":if(sessionStorage.setItem(s,r),i){const c=Date.now()+i*1e3;sessionStorage.setItem(this.getKey("token_expires_at"),c.toString())}break;case"indexedDB":if(await W.setItem(s,r),i){const c=Date.now()+i*1e3;await W.setItem(this.getKey("token_expires_at"),c.toString())}break;case"memory":if(ee.setItem(s,r),i){const c=Date.now()+i*1e3;ee.setItem(this.getKey("token_expires_at"),c.toString())}break}}async getToken(){const n=this.getKey("access_token");let i=null;switch(this.config.strategy){case"httpOnlyCookie":i=localStorage.getItem(n);break;case"encryptedLocalStorage":i=localStorage.getItem(n),Object.keys(localStorage).filter(s=>s.includes("auth")||s.includes("token")||s.includes("mappa")),i===""&&(i=null);break;case"sessionStorage":i=sessionStorage.getItem(n);break;case"indexedDB":i=await W.getItem(n);break;case"memory":i=ee.getItem(n);break}if(i&&this.config.encrypt&&this.config.strategy!=="httpOnlyCookie")try{const s=_e.decrypt(i);return!s||s.length===0?i:s}catch(s){return console.error("âŒ TokenStorage: Decryption error:",s),i}return i}async getTokenExpiry(){const n=this.getKey("token_expires_at");let i=null;switch(this.config.strategy){case"httpOnlyCookie":case"encryptedLocalStorage":i=localStorage.getItem(n);break;case"sessionStorage":i=sessionStorage.getItem(n);break;case"indexedDB":i=await W.getItem(n);break;case"memory":i=ee.getItem(n);break}if(!i)return null;const s=parseInt(i,10);return isNaN(s)?null:s}async removeToken(){const n=this.getKey("access_token"),i=this.getKey("token_expires_at");switch(this.config.strategy){case"httpOnlyCookie":localStorage.removeItem(n),localStorage.removeItem(i);break;case"encryptedLocalStorage":localStorage.removeItem(n),localStorage.removeItem(i);break;case"sessionStorage":sessionStorage.removeItem(n),sessionStorage.removeItem(i);break;case"indexedDB":await W.removeItem(n),await W.removeItem(i);break;case"memory":ee.removeItem(n),ee.removeItem(i);break}}async setRefreshToken(n){const i=this.getKey("refresh_token");let s=n;switch(this.config.encrypt&&this.config.strategy!=="httpOnlyCookie"&&(s=_e.encrypt(n)),this.config.strategy){case"httpOnlyCookie":case"encryptedLocalStorage":localStorage.setItem(i,s);break;case"sessionStorage":sessionStorage.setItem(i,s);break;case"indexedDB":await W.setItem(i,s);break;case"memory":ee.setItem(i,s);break}}async getRefreshToken(){const n=this.getKey("refresh_token");let i=null;switch(this.config.strategy){case"httpOnlyCookie":case"encryptedLocalStorage":i=localStorage.getItem(n);break;case"sessionStorage":i=sessionStorage.getItem(n);break;case"indexedDB":i=await W.getItem(n);break;case"memory":i=ee.getItem(n);break}if(i&&this.config.encrypt&&this.config.strategy!=="httpOnlyCookie")try{return _e.decrypt(i)}catch(s){return console.error("Decryption error for refresh token:",s),null}return i}async isTokenExpired(n=0){const i=this.getKey("token_expires_at");let s=null;switch(this.config.strategy){case"httpOnlyCookie":case"encryptedLocalStorage":s=localStorage.getItem(i);break;case"sessionStorage":s=sessionStorage.getItem(i);break;case"indexedDB":s=await W.getItem(i);break;case"memory":s=ee.getItem(i);break}const r=Date.now(),a=s?parseInt(s,10):null,c=a?a-r:null;if(!s)return!1;const l=n*60*1e3,f=r>=a,g=!f&&c<=l;return f||g}async clear(){await this.removeToken();const n=this.getKey("refresh_token");switch(this.config.strategy){case"httpOnlyCookie":case"encryptedLocalStorage":localStorage.removeItem(n);break;case"sessionStorage":sessionStorage.removeItem(n);break;case"indexedDB":await W.removeItem(n);break;case"memory":ee.removeItem(n);break}}}const Le=new hr({strategy:"encryptedLocalStorage",encrypt:!0,keyPrefix:"mappa_auth_"}),q="https://mwuhuixkybbwrnoqcibg.supabase.co";async function Nr(t){try{let n=`${q}/auth/v1/token?grant_type=password`;t.expiresIn&&(n+=`&expires_in=${t.expiresIn}`,console.log("ğŸ”§ Login: Attempting to set custom expires_in:",t.expiresIn,"seconds"));const i={email:t.email,password:t.password};t.expiresIn&&(i.expires_in=t.expiresIn);const r=(await le.post(n,i,{headers:{"Content-Type":"application/json",apikey:Z,Authorization:`Bearer ${Z}`}})).data;if(r.expires_in){const a=Math.round(r.expires_in/60),c=(r.expires_in/3600).toFixed(2);console.log("ğŸ”‘ Login Response:",{hasAccessToken:!!r.access_token,hasRefreshToken:!!r.refresh_token,expiresIn:`${r.expires_in}s (${a} minutes / ${c} hours)`})}else console.warn("âš ï¸ Login Response: No expires_in provided");return r}catch(n){if(n.response){const i=n.response.data;throw new Error(i.error_description||i.message||i.error||`ÄÄƒng nháº­p tháº¥t báº¡i: ${n.response.status}`)}else throw n.request?new Error("KhÃ´ng thá»ƒ káº¿t ná»‘i Ä‘áº¿n server. Vui lÃ²ng kiá»ƒm tra káº¿t ná»‘i máº¡ng."):new Error(n.message||"CÃ³ lá»—i xáº£y ra khi Ä‘Äƒng nháº­p.")}}async function Gt(){await Le.clear()}async function Sn(t,n,i){n&&n<60&&console.warn("âš ï¸ StoreToken: expiresIn is very short:",n,"seconds. This might cause premature logout."),await Le.setToken(t,n),i&&await Le.setRefreshToken(i)}async function _n(){try{const t=await Le.getRefreshToken();if(!t)return null;const n=`${q}/auth/v1/token?grant_type=refresh_token`,i=await le.post(n,{refresh_token:t},{headers:{"Content-Type":"application/json",apikey:Z,Authorization:`Bearer ${Z}`}});return i.data.access_token&&await Sn(i.data.access_token,i.data.expires_in,i.data.refresh_token),i.data}catch(t){return console.error("âŒ RefreshToken: Error refreshing token:",t),null}}async function xe(){return await Le.getToken()}async function bt(t=0){return await Le.isTokenExpired(t)}async function Vt(t){var n,i,s,r;try{const a=`${q}/auth/v1/user`,l=(await le.get(a,{headers:{"Content-Type":"application/json",apikey:Z,Authorization:`Bearer ${t}`}})).data;let f=null;try{f=await fr(l.id,t)}catch(g){console.warn("âš ï¸ Failed to fetch user role name:",g)}return{id:l.id,email:l.email,name:((n=l.user_metadata)==null?void 0:n.name)||((i=l.user_metadata)==null?void 0:i.full_name)||l.email,roleDisplay:f||((s=l.user_metadata)==null?void 0:s.roleDisplay)||void 0,...l.user_metadata}}catch(a){return console.error("Error fetching user info:",a),((r=a.response)==null?void 0:r.status)===401&&await bt(0)&&await Gt(),null}}async function fr(t,n){var i,s,r;try{const a=`${q}/rest/v1/user_roles?user_id=eq.${t}&select=role_id&limit=1`,l=((i=(await le.get(a,{headers:{"Content-Type":"application/json",apikey:Z,Authorization:`Bearer ${n}`}})).data)==null?void 0:i.map(V=>V.role_id))||[];if(l.length===0)return null;const f=`${q}/rest/v1/roles?_id=eq.${l[0]}&select=name`;return((r=(s=(await le.get(f,{headers:{"Content-Type":"application/json",apikey:Z,Authorization:`Bearer ${n}`}})).data)==null?void 0:s[0])==null?void 0:r.name)||null}catch(a){return console.error("Error fetching user role name:",a),null}}async function $t(t,n){var i,s,r;try{const a=`${q}/rest/v1/user_roles?user_id=eq.${t}&select=role_id`,l=((i=(await le.get(a,{headers:{"Content-Type":"application/json",apikey:Z,Authorization:`Bearer ${n}`}})).data)==null?void 0:i.map(D=>D.role_id))||[];if(l.length===0)return[];const f=`${q}/rest/v1/role_permissions?role_id=in.(${l.join(",")})&select=permission_id`,V=((s=(await le.get(f,{headers:{"Content-Type":"application/json",apikey:Z,Authorization:`Bearer ${n}`}})).data)==null?void 0:s.map(D=>D.permission_id))||[];if(V.length===0)return[];const x=`${q}/rest/v1/permissions?_id=in.(${V.join(",")})&select=code`;return((r=(await le.get(x,{headers:{"Content-Type":"application/json",apikey:Z,Authorization:`Bearer ${n}`}})).data)==null?void 0:r.map(D=>D.code).filter(Boolean))||[]}catch(a){return console.error("Error fetching user permissions:",a),[]}}async function vr(){var t;try{console.log("ğŸ”„ RestoreSession: Starting session restore...");let n=await xe();if(!n)return null;if(await bt(0)){const r=await _n();if(r&&r.access_token)n=r.access_token;else return null}let s=null;try{s=await Vt(n)}catch(r){console.warn("âš ï¸ RestoreSession: Failed to fetch user info, but token is valid. Will fetch later.",(t=r==null?void 0:r.response)==null?void 0:t.status,r==null?void 0:r.message)}return{token:n,user:s}}catch(n){console.error("âŒ RestoreSession: Error restoring session:",(n==null?void 0:n.message)||n);try{const i=await xe();if(i)return{token:i,user:null}}catch{}return null}}const we="/demo-qltt-portal/assets/79505e63e97894ec2d06837c57cf53a19680f611-BwwpDaFM.png";function rn({onMobileMenuToggle:t}){var N;const n=et(),i=Be(),{user:s}=Ft(E=>E.auth),r=((N=s==null?void 0:s.permissions)==null?void 0:N.includes("TV_VIEW"))||!1,[a,c]=b.useState("light"),[l,f]=b.useState("vi"),[g,V]=b.useState(!1),[x,T]=b.useState(!1),[D,p]=b.useState(!1),{layoutMode:H,toggleLayoutMode:h}=gt(),u=()=>{n("/")},d=E=>{f(E),localStorage.setItem("app-language",E)},o=async()=>{try{await Gt(),i(an()),window.location.href="/auth/login"}catch(E){console.error("Logout error:",E),i(an()),window.location.href="/auth/login"}};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"h-16 bg-card border-b border-border flex items-center px-4 md:px-6 gap-4",children:[e.jsxDEV(R,{variant:"ghost",size:"icon",className:"md:hidden cursor-pointer",onClick:t,children:e.jsxDEV(Ie,{className:"h-5 w-5"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:98,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:92,columnNumber:9},this),H==="horizontal"&&e.jsxDEV("button",{onClick:u,className:"flex items-center gap-2 hover:opacity-80 transition-opacity flex-shrink-0 cursor-pointer",title:"Vá» trang Tá»•ng quan",children:[e.jsxDEV("img",{src:we,alt:"Mappa Logo",className:"w-10 h-10 object-contain flex-shrink-0"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:108,columnNumber:13},this),e.jsxDEV("div",{className:"hidden lg:flex items-center gap-3 min-w-0",children:[e.jsxDEV("div",{className:"flex flex-col items-start min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-semibold text-foreground whitespace-nowrap",children:["Xin chÃ o, ",(s==null?void 0:s.name)||"NgÆ°á»i dÃ¹ng"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:112,columnNumber:19},this),e.jsxDEV("span",{className:"relative flex h-3 w-3 flex-shrink-0",title:"Äang hoáº¡t Ä‘á»™ng",children:[e.jsxDEV("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:120,columnNumber:21},this),e.jsxDEV("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:121,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:116,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:111,columnNumber:17},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:(s==null?void 0:s.roleDisplay)||(s==null?void 0:s.name)||"Pháº§n má»m Quáº£n lÃ½ thá»‹ trÆ°á»ng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:124,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:110,columnNumber:15},this),e.jsxDEV(or,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:129,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:109,columnNumber:13},this),e.jsxDEV("span",{className:"hidden md:block lg:hidden font-semibold text-foreground whitespace-nowrap",children:"MAPPA"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:131,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:103,columnNumber:11},this),e.jsxDEV("div",{className:"hidden md:flex flex-1 max-w-[360px] mx-auto",children:e.jsxDEV(ks,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:137,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:136,columnNumber:9},this),e.jsxDEV("div",{className:"ml-auto flex items-center gap-1",children:[e.jsxDEV(ce,{children:[e.jsxDEV(me,{asChild:!0,children:e.jsxDEV(R,{variant:"ghost",size:"sm",className:"gap-1 h-9 cursor-pointer hover:!bg-transparent hover:!text-foreground",children:[e.jsxDEV(Qi,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:150,columnNumber:17},this),e.jsxDEV("span",{className:"hidden sm:inline text-sm font-medium",children:l==="vi"?"VI":"EN"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:151,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:145,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:144,columnNumber:13},this),e.jsxDEV(ue,{align:"end",children:[e.jsxDEV(X,{onClick:()=>d("vi"),children:e.jsxDEV("span",{className:"flex items-center gap-2",children:["Tiáº¿ng Viá»‡t ",l==="vi"&&"âœ“"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:158,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:157,columnNumber:15},this),e.jsxDEV(X,{onClick:()=>d("en"),children:e.jsxDEV("span",{className:"flex items-center gap-2",children:["English ",l==="en"&&"âœ“"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:163,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:162,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:143,columnNumber:11},this),e.jsxDEV(R,{variant:"ghost",size:"icon",className:"cursor-pointer hover:bg-transparent",onClick:()=>{T(!x),V(!1)},title:"Gá»­i pháº£n há»“i",children:e.jsxDEV(xn,{className:"h-5 w-5",style:{color:"#005cb6"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:181,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:171,columnNumber:11},this),e.jsxDEV(R,{variant:"ghost",size:"icon",className:"relative cursor-pointer hover:bg-transparent",onClick:()=>{V(!g),T(!1)},title:"ThÃ´ng bÃ¡o",children:[e.jsxDEV(pe,{className:"h-5 w-5",style:{color:"#005cb6"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:195,columnNumber:13},this),e.jsxDEV("span",{className:"absolute top-1 right-1 h-2 w-2 bg-destructive rounded-full"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:197,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:185,columnNumber:11},this),r&&e.jsxDEV(R,{variant:"ghost",size:"icon",className:"cursor-pointer hover:bg-transparent",onClick:()=>n("/tv"),title:"Cháº¿ Ä‘á»™ TV",children:e.jsxDEV(ji,{className:"h-5 w-5",style:{color:"#005cb6"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:210,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:203,columnNumber:13},this),e.jsxDEV(ce,{children:[e.jsxDEV(me,{asChild:!0,children:e.jsxDEV(R,{variant:"ghost",className:"gap-2 px-2 cursor-pointer hover:bg-transparent",size:"sm",children:e.jsxDEV("div",{className:"w-8 h-8 rounded-full overflow-hidden flex items-center justify-center bg-gradient-to-br from-primary to-chart-2",children:e.jsxDEV(Mt,{className:"h-4 w-4 text-primary-foreground"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:219,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:218,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:217,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:216,columnNumber:13},this),e.jsxDEV(ue,{align:"end",className:"w-72",children:[e.jsxDEV(Kt,{children:e.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxDEV("div",{className:"w-12 h-12 rounded-full overflow-hidden flex items-center justify-center bg-gradient-to-br from-primary to-chart-2 flex-shrink-0",children:e.jsxDEV(Mt,{className:"h-6 w-6 text-primary-foreground"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:227,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:226,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-semibold truncate",children:(s==null?void 0:s.name)||(s==null?void 0:s.email)||"NgÆ°á»i dÃ¹ng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:231,columnNumber:23},this),e.jsxDEV("span",{className:"relative flex h-2.5 w-2.5 flex-shrink-0",title:"Äang hoáº¡t Ä‘á»™ng",children:[e.jsxDEV("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:239,columnNumber:25},this),e.jsxDEV("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-green-500"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:240,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:235,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:230,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs font-normal text-muted-foreground mt-0.5 truncate",children:(s==null?void 0:s.email)||"Chá»©c vá»¥"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:243,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:229,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:225,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:224,columnNumber:15},this),e.jsxDEV(Je,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:249,columnNumber:15},this),e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:"/account/profile",style:{cursor:"pointer"},children:"Há»“ sÆ¡ cÃ¡ nhÃ¢n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:251,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:250,columnNumber:15},this),e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:"/account/change-password",style:{cursor:"pointer"},children:"Äá»•i máº­t kháº©u"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:256,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:255,columnNumber:15},this),e.jsxDEV(Je,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:260,columnNumber:15},this),e.jsxDEV(X,{onClick:o,className:"text-destructive",children:"ÄÄƒng xuáº¥t"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:261,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:223,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:215,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:141,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:90,columnNumber:7},this),g&&e.jsxDEV(ca,{onClose:()=>V(!1)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:271,columnNumber:9},this),x&&e.jsxDEV(Ya,{onClose:()=>T(!1)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:276,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/TopUtilityBar.tsx",lineNumber:89,columnNumber:5},this)}const kn=t=>{const n=new Map,i=[];t.forEach(r=>{n.set(r.id,{...r,children:[]})}),n.forEach(r=>{r.parentId&&n.has(r.parentId)?n.get(r.parentId).children.push(r):i.push(r)});const s=r=>{r.sort((a,c)=>(a.order??0)-(c.order??0)),r.forEach(a=>s(a.children))};return s(i),i},gr=(t,n)=>!t.permissionsAny||t.permissionsAny.length===0?!0:n.length===0?(console.warn("âš ï¸ User has no permissions - showing all menu items (fallback mode)"),!0):t.permissionsAny.some(i=>n.includes(i)),br=(t,n)=>!t.rolesAny||t.rolesAny.length===0||!n?!0:t.rolesAny.includes(n),Cn=(t,n,i)=>{const s=a=>{var c;return a.path==="/admin"||a.label==="Quáº£n trá»‹"||((c=a.label)==null?void 0:c.toLowerCase().includes("quáº£n trá»‹"))},r=(a,c=!1)=>{const l=c||s(a),f=c,g=f?!0:gr(a,n),V=br(a,i),T=a.isEnabled!==!1&&g&&V;a.path&&!T&&!f&&console.log("ğŸš« Menu item filtered out:",{path:a.path,label:a.label,isEnabled:a.isEnabled,permissionCheck:g,roleCheck:V,permissionsRequired:a.permissionsAny,userPermissions:n,rolesRequired:a.rolesAny,userRoleCode:i,isAdminChild:l,skipPermissionCheck:f});const D=a.children.map(p=>r(p,l)).filter(p=>!!p);return T||D.length>0?{...a,children:D}:null};return t.map(a=>r(a,!1)).filter(a=>!!a)},Qt=[{path:"/overview",label:"Tá»•ng quan",icon:ie,permissionCode:""},{path:"/map",label:"Báº£n Ä‘á»“ Ä‘iá»u hÃ nh",icon:nt,permissionCode:"MAP_VIEW"},{path:"/registry/stores",label:"CÆ¡ sá»Ÿ quáº£n lÃ½",icon:Ve,permissionCode:"STORES_VIEW"},{path:"/leads",label:"Nguá»“n tin",icon:J,permissionCode:"LEAD_RISK",hasSubmenu:!0,submenu:[{path:"/lead-risk/inbox",label:"Xá»­ lÃ½ nguá»“n tin háº±ng ngÃ y"},{path:"/lead-risk/dashboard",label:"Tá»•ng quan rá»§i ro"},{path:"/lead-risk/hotspots",label:"PhÃ¢n tÃ­ch Ä‘iá»ƒm nÃ³ng"},{path:"/lead-risk/quality-metrics",label:"PhÃ¢n tÃ­ch cháº¥t lÆ°á»£ng"},{path:"/lead-risk/workload-dashboard",label:"Quáº£n lÃ½ cÃ´ng viá»‡c"},{path:"/lead-risk/sla-dashboard",label:"GiÃ¡m sÃ¡t SLA"}]},{path:"/plans",label:"Káº¿ hoáº¡ch tÃ¡c nghiá»‡p",icon:it,permissionCode:"PLAN_VIEW",hasSubmenu:!0},{path:"/tasks",label:"Nhiá»‡m vá»¥ hiá»‡n trÆ°á»ng",icon:U,permissionCode:"TASKS_VIEW"},{path:"/evidence",label:"Kho chá»©ng cá»©",icon:he,permissionCode:"EVIDENCE_VIEW"},{path:"/reports",label:"BÃ¡o cÃ¡o & Thá»‘ng kÃª",icon:st,permissionCode:"",hasSubmenu:!0,submenu:[{path:"/dashboard",label:"Dashboard"},{path:"/reports",label:"BÃ¡o cÃ¡o"}]},{path:"/admin",label:"Quáº£n trá»‹",icon:Ne,permissionCode:"ADMIN_VIEW",hasSubmenu:!0,submenu:[{type:"item",path:"/system-admin",label:"Dashboard Quáº£n trá»‹",icon:ie},{type:"separator"},{type:"item",path:"/system-admin/master-data/org-units",label:"ÄÆ¡n vá»‹ tá»• chá»©c",icon:Ve},{type:"item",path:"/system-admin/master-data/departments",label:"PhÃ²ng ban",icon:Te},{type:"item",path:"/system-admin/master-data/admin-areas",label:"Danh má»¥c hÃ nh chÃ­nh",icon:U},{type:"item",path:"/system-admin/master-data/common-catalogs",label:"Danh má»¥c dÃ¹ng chung",icon:at},{type:"item",path:"/system-admin/master-data/dms-catalogs",label:"Danh má»¥c nghiá»‡p vá»¥ QLTT",icon:rt},{type:"item",path:"/system-admin/master-data/system-catalogs",label:"Danh má»¥c ká»¹ thuáº­t",icon:ot},{type:"separator"},{type:"item",path:"/system-admin/iam/users",label:"NgÆ°á»i dÃ¹ng",icon:Te},{type:"item",path:"/system-admin/iam/roles",label:"Vai trÃ²",icon:lt},{type:"item",path:"/system-admin/iam/permissions",label:"Danh má»¥c quyá»n",icon:ct},{type:"item",path:"/system-admin/iam/role-permissions",label:"PhÃ¢n quyá»n",icon:mt},{type:"item",path:"/system-admin/iam/modules",label:"PhÃ¢n há»‡",icon:ut},{type:"item",path:"/system-admin/iam/menus",label:"Menu",icon:Ie},{type:"separator"},{type:"item",path:"/system-admin/system-config/parameters",label:"ThÃ´ng sá»‘ há»‡ thá»‘ng",icon:dt},{type:"item",path:"/system-admin/system-config/organization-info",label:"ThÃ´ng tin tá»• chá»©c",icon:pt},{type:"item",path:"/system-admin/system-config/operations",label:"CÃ i Ä‘áº·t váº­n hÃ nh",icon:Ne},{type:"item",path:"/system-admin/system-config/notifications",label:"Máº«u thÃ´ng bÃ¡o",icon:pe},{type:"item",path:"/system-admin/system-config/security",label:"CÃ i Ä‘áº·t báº£o máº­t",icon:ht},{type:"item",path:"/system-admin/system-config/database/logs",label:"Database Logs",icon:he},{type:"item",path:"/system-admin/system-config/database/backups",label:"Database Backups",icon:Nt},{type:"separator"},{type:"item",path:"/system/modules",label:"Quáº£n trá»‹ Module"},{type:"item",path:"/system/menus",label:"Quáº£n trá»‹ Menu"},{type:"item",path:"/system/users",label:"NgÆ°á»i dÃ¹ng (cÅ©)"},{type:"item",path:"/system/roles",label:"Vai trÃ² (cÅ©)"},{type:"item",path:"/system/settings",label:"Cáº¥u hÃ¬nh há»‡ thá»‘ng"}]}],Vr={LayoutDashboard:ie,Map:nt,Building2:Ve,TriangleAlert:J,ClipboardList:it,MapPin:U,FileBox:he,BarChart3:st,Boxes:ut,Folder:at,HardDrive:Nt,KeyRound:ct,Landmark:pt,Layers:rt,GitBranch:ot,Menu:Ie,Settings:Ne,Shield:lt,ShieldCheck:ht,Sliders:dt,UserCheck:mt,Users:Te,Bell:pe},wn=t=>t?Vr[t]||ie:ie,Tr=new Set(["/system-admin/master-data","/system-admin/iam","/system-admin/system-config"]),xr=["dashboard","master-data","iam","system-config","tools"],Er=(t,n)=>{const i=(t.order??0)-(n.order??0);return i!==0?i:t.label.localeCompare(n.label)},Bn=t=>t.path?{path:t.path,label:t.label,...t.icon?{icon:wn(t.icon)}:{}}:{type:"label",label:t.label},Hr=t=>{const n=new Map;t.filter(a=>a.path&&!Tr.has(a.path)).forEach(a=>{const c=a.path??"";let l="tools";c==="/system-admin"?l="dashboard":c.startsWith("/system-admin/master-data")?l="master-data":c.startsWith("/system-admin/iam")?l="iam":c.startsWith("/system-admin/system-config")?l="system-config":(c.startsWith("/system/modules")||c.startsWith("/system/menus"))&&(l="tools");const f=n.get(l)??[];f.push(a),n.set(l,f)});const s=xr.filter(a=>(n.get(a)??[]).length>0),r=[];return s.forEach((a,c)=>{(n.get(a)??[]).sort(Er).forEach(f=>r.push(Bn(f))),c<s.length-1&&r.push({type:"separator"})}),r},yr=t=>t.map(n=>{const i=n.children.length>0?n.path==="/admin"||n.label==="Quáº£n trá»‹"?Hr(n.children):n.children.map(s=>Bn(s)):[];return{path:n.path||"",label:n.label,icon:n.path==="/admin"?Ne:wn(n.icon),permissionCode:"",hasSubmenu:i.length>0,submenu:i}});function Lr({mobileMenuOpen:t,onClose:n}){const i=tt(),{setLayoutMode:s}=gt(),{user:r}=gn(),[a,c]=L.useState(null),{menus:l}=bn(),f=(r==null?void 0:r.permissions)||[];L.useEffect(()=>{console.log("ğŸ” HorizontalNavBar - Debug Menu & Permissions:",{userPermissions:f,userRoleCode:r==null?void 0:r.roleCode,menusCount:(l==null?void 0:l.length)||0})},[f,r==null?void 0:r.roleCode,l]);const g=o=>!o||o===""?!0:f.length===0?(console.warn("âš ï¸ User has no permissions - showing all menus (fallback mode)"),!0):f.includes(o),V=L.useCallback(o=>{if(!o)return!1;const[N,E]=o.split("?");if(!(i.pathname===N||i.pathname.startsWith(N+"/")))return!1;if(!E)return!0;const m=new URLSearchParams(i.search),v=new URLSearchParams(E);for(const[j,y]of v.entries())if(m.get(j)!==y)return!1;return!0},[i.pathname,i.search]),x=L.useMemo(()=>l?kn(l):[],[l]),T=L.useMemo(()=>{const o=Cn(x,f,r==null?void 0:r.roleCode);return console.log("ğŸ” HorizontalNavBar - Filtered Registry Tree:",{originalCount:x.length,filteredCount:o.length,userPermissions:f,userRoleCode:r==null?void 0:r.roleCode}),o},[x,f,r==null?void 0:r.roleCode]),D=L.useMemo(()=>yr(T),[T]),p=Qt.filter(o=>g(o.permissionCode)),H=new Set(D.map(o=>o.path)),h=p.filter(o=>!H.has(o.path)),u=L.useMemo(()=>{const o=[...D,...h].sort((N,E)=>{var v,j;const Q=((v=Qt.find(y=>y.path===N.path))==null?void 0:v.order)??999,m=((j=Qt.find(y=>y.path===E.path))==null?void 0:j.order)??999;return Q-m});return console.log("ğŸ” HorizontalNavBar - Visible Modules:",{registryModulesCount:D.length,additionalMappaModulesCount:h.length,totalVisible:o.length,visiblePaths:o.map(N=>N.path)}),o},[D,h]),d={canCreateRisk:!1,canCreateInspectionRound:!1};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("nav",{className:"hidden md:flex h-14 bg-card border-b border-border items-center px-6 gap-1",children:[u.map(o=>{const N=o.icon,E=o.path==="/admin";let Q=!1;return o.path==="/plans"?Q=!1:o.path==="/tasks"?Q=i.pathname==="/tasks"&&i.pathname!=="/plans/inspection-session":o.hasSubmenu&&o.submenu?o.path==="/leads"?Q=i.pathname.startsWith("/lead-risk")||i.pathname==="/leads":o.path==="/registry/stores"?Q=i.pathname===o.path||i.pathname.startsWith(o.path+"/")||i.pathname.startsWith("/registry/full-edit"):o.path==="/admin"?Q=i.pathname.startsWith("/system")||i.pathname.startsWith("/system-admin")||i.pathname==="/admin":Q=i.pathname===o.path||i.pathname.startsWith(o.path+"/"):Q=i.pathname===o.path||i.pathname.startsWith(o.path+"/"),o.path==="/plans"?e.jsxDEV(ce,{children:[e.jsxDEV(me,{asChild:!0,children:e.jsxDEV(R,{variant:"ghost",className:w("gap-2 h-9 text-sm font-medium cursor-pointer",Q?"text-primary bg-primary/10":"text-foreground"),style:{cursor:"pointer"},children:[e.jsxDEV(N,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:401,columnNumber:21},this),o.label,e.jsxDEV(te,{className:"h-3 w-3 ml-1"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:403,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:393,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:392,columnNumber:17},this),e.jsxDEV(ue,{align:"start",className:"w-64",children:[e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:"/plans/list",className:"flex items-center gap-3 cursor-pointer",children:[e.jsxDEV(qe,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:409,columnNumber:23},this),e.jsxDEV("div",{className:"font-medium",children:"Káº¿ hoáº¡ch kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:410,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:408,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:407,columnNumber:19},this),e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:"/plans/inspection-rounds",className:"flex items-center gap-3 cursor-pointer",children:[e.jsxDEV(be,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:416,columnNumber:23},this),e.jsxDEV("div",{className:"font-medium",children:"Äá»£t kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:417,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:415,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:414,columnNumber:19},this),e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:"/plans/inspection-session",className:"flex items-center gap-3 cursor-pointer",children:[e.jsxDEV(Ye,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:423,columnNumber:23},this),e.jsxDEV("div",{className:"font-medium",children:"PhiÃªn lÃ m viá»‡c"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:424,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:422,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:421,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:406,columnNumber:17},this)]},o.path,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:391,columnNumber:15},this):o.hasSubmenu&&o.submenu?e.jsxDEV(ce,{children:[e.jsxDEV(me,{asChild:!0,children:e.jsxDEV(R,{variant:"ghost",className:w("gap-2 h-9 text-sm font-medium cursor-pointer",Q?"text-primary bg-primary/10":"text-foreground"),children:[e.jsxDEV(N,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:444,columnNumber:17},this),o.label,e.jsxDEV(te,{className:"h-3 w-3 ml-1"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:446,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:437,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:436,columnNumber:17},this),e.jsxDEV(ue,{align:"start",className:w("w-64",E&&"w-72 p-2"),children:o.submenu.map((m,v)=>{if(m.type==="separator")return e.jsxDEV(Je,{className:w(E&&"my-2")},`sep-${v}`,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:452,columnNumber:30},this);if(m.type==="label")return e.jsxDEV(Kt,{className:"text-xs uppercase text-muted-foreground",children:m.label},`label-${v}`,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:456,columnNumber:25},this);if(!m.path)return null;const j=m.icon,y=V(m.path);return e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:m.path,className:w(E?"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-foreground hover:bg-muted":"cursor-pointer",y&&(E?"bg-primary text-primary-foreground":"bg-primary/10 text-primary")),children:[j&&e.jsxDEV(j,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:479,columnNumber:40},this),m.label]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:469,columnNumber:25},this)},m.path,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:468,columnNumber:23},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:449,columnNumber:17},this)]},o.path,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:435,columnNumber:15},this):e.jsxDEV(F,{to:o.path,children:e.jsxDEV(R,{variant:"ghost",className:w("gap-2 h-9 text-sm font-medium cursor-pointer",Q?"text-primary bg-primary/10":"text-foreground"),children:[e.jsxDEV(N,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:500,columnNumber:17},this),o.label]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:493,columnNumber:15},this)},o.path,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:492,columnNumber:13},this)}),e.jsxDEV("div",{className:"ml-auto flex items-center gap-2",children:[e.jsxDEV(R,{variant:"outline",size:"icon",className:"cursor-pointer",onClick:()=>s("vertical"),title:"Chuyá»ƒn sang menu dá»c",children:e.jsxDEV(Pi,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:517,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:510,columnNumber:11},this),e.jsxDEV(ce,{children:[e.jsxDEV(me,{asChild:!0,children:e.jsxDEV(R,{className:"gap-2 h-9 cursor-pointer",children:[e.jsxDEV(En,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:524,columnNumber:17},this),"Táº¡o nhanh",e.jsxDEV(te,{className:"h-3 w-3"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:526,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:523,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:522,columnNumber:13},this),e.jsxDEV(ue,{align:"end",className:"w-56",children:[e.jsxDEV(X,{asChild:!0,children:e.jsxDEV("a",{href:"/stores/create",style:{cursor:"pointer"},children:"ThÃªm cÆ¡ sá»Ÿ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:532,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:531,columnNumber:17},this),e.jsxDEV(X,{asChild:!0,children:e.jsxDEV("a",{href:"/stores/import",style:{cursor:"pointer"},children:"Nháº­p dá»¯ liá»‡u cÆ¡ sá»Ÿ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:540,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:539,columnNumber:17},this),d.canCreateRisk,e.jsxDEV(X,{asChild:!0,children:e.jsxDEV("a",{href:"/leads/create-feedback",style:{cursor:"pointer"},children:"Táº¡o pháº£n Ã¡nh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:556,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:555,columnNumber:17},this),e.jsxDEV(X,{asChild:!0,children:e.jsxDEV("a",{href:"/plans/create-new",style:{cursor:"pointer"},children:"Táº¡o káº¿ hoáº¡ch kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:564,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:563,columnNumber:17},this),d.canCreateInspectionRound,e.jsxDEV(X,{asChild:!0,children:e.jsxDEV("a",{href:"/tasks/create",style:{cursor:"pointer"},children:"Táº¡o phiÃªn kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:580,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:579,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:529,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:521,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:508,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:356,columnNumber:7},this),t&&e.jsxDEV("div",{className:"fixed inset-0 z-50 md:hidden",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-black/50",onClick:n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:594,columnNumber:11},this),e.jsxDEV("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-card shadow-lg",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxDEV("span",{className:"font-semibold",children:"Menu"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:602,columnNumber:15},this),e.jsxDEV(R,{variant:"ghost",size:"icon",onClick:n,children:e.jsxDEV(re,{className:"h-5 w-5"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:604,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:603,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:601,columnNumber:13},this),e.jsxDEV("nav",{className:"p-2 overflow-y-auto",children:[u.map(o=>{const N=o.icon,E=o.path==="/admin";let Q=!1;if(o.path==="/plans"?Q=!1:o.path==="/tasks"?Q=i.pathname==="/tasks"&&i.pathname!=="/plans/inspection-session":o.hasSubmenu&&o.submenu?o.path==="/leads"?Q=i.pathname.startsWith("/lead-risk")||i.pathname==="/leads":o.path==="/registry/stores"?Q=i.pathname===o.path||i.pathname.startsWith(o.path+"/")||i.pathname.startsWith("/registry/full-edit"):o.path==="/admin"?Q=i.pathname.startsWith("/system")||i.pathname.startsWith("/system-admin")||i.pathname==="/admin":Q=i.pathname===o.path||i.pathname.startsWith(o.path+"/"):Q=i.pathname===o.path||i.pathname.startsWith(o.path+"/"),o.path==="/plans"){const m=a===o.path;return e.jsxDEV("div",{children:[e.jsxDEV("button",{onClick:()=>c(m?null:o.path),className:w("flex items-center justify-between w-full px-4 py-3 rounded-lg transition-colors mb-1 cursor-pointer",Q?"text-primary bg-muted":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(N,{className:"h-5 w-5"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:654,columnNumber:27},this),e.jsxDEV("span",{className:"font-medium",children:o.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:655,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:653,columnNumber:25},this),e.jsxDEV(te,{className:w("h-4 w-4 transition-transform",m&&"rotate-180")},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:657,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:644,columnNumber:23},this),m&&e.jsxDEV("div",{className:"ml-4 mb-2 space-y-1",children:[e.jsxDEV(F,{to:"/plans/list",onClick:n,className:w("flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-colors cursor-pointer",i.pathname==="/plans/list"||i.pathname.startsWith("/plans/KH-")||i.pathname.startsWith("/plans/create-new")?"text-primary bg-primary/10 font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[e.jsxDEV(qe,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:677,columnNumber:29},this),e.jsxDEV("span",{children:"Káº¿ hoáº¡ch kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:678,columnNumber:29},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:667,columnNumber:27},this),e.jsxDEV(F,{to:"/plans/inspection-rounds",onClick:n,className:w("flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-colors cursor-pointer",i.pathname==="/plans/inspection-rounds"||i.pathname.startsWith("/plans/inspection-rounds/")?"text-primary bg-primary/10 font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[e.jsxDEV(be,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:691,columnNumber:29},this),e.jsxDEV("span",{children:"Äá»£t kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:692,columnNumber:29},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:681,columnNumber:27},this),e.jsxDEV(F,{to:"/plans/inspection-session",onClick:n,className:w("flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-colors cursor-pointer",i.pathname==="/plans/inspection-session"?"text-primary bg-primary/10 font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[e.jsxDEV(Ye,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:705,columnNumber:29},this),e.jsxDEV("span",{children:"PhiÃªn lÃ m viá»‡c"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:706,columnNumber:29},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:695,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:666,columnNumber:25},this)]},o.path,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:643,columnNumber:21},this)}if(o.hasSubmenu&&o.submenu){const m=a===o.path;return e.jsxDEV("div",{children:[e.jsxDEV("button",{onClick:()=>c(m?null:o.path),className:w("flex items-center justify-between w-full px-4 py-3 rounded-lg transition-colors mb-1 cursor-pointer",Q?"text-primary bg-muted":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(N,{className:"h-5 w-5"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:730,columnNumber:27},this),e.jsxDEV("span",{className:"font-medium",children:o.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:731,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:729,columnNumber:25},this),e.jsxDEV(te,{className:w("h-4 w-4 transition-transform",m&&"rotate-180")},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:733,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:720,columnNumber:23},this),m&&e.jsxDEV("div",{className:"ml-4 mb-2 space-y-1",children:o.submenu.map((v,j)=>{if(v.type==="separator")return e.jsxDEV("div",{className:w("my-2 h-px bg-border",E&&"mx-2")},`sep-${j}`,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:745,columnNumber:38},this);if(v.type==="label")return e.jsxDEV("div",{className:"px-4 py-1 text-xs font-semibold uppercase text-muted-foreground",children:v.label},`label-${j}`,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:749,columnNumber:33},this);if(!v.path)return null;const y=v.icon,C=V(v.path);return e.jsxDEV(F,{to:v.path,onClick:n,className:w(E?"flex items-center gap-2 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer":"flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-colors cursor-pointer",C?E?"bg-primary text-primary-foreground":"text-primary bg-primary/10 font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[y&&e.jsxDEV(y,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:774,columnNumber:46},this),v.label]},v.path,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:761,columnNumber:31},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:742,columnNumber:25},this)]},o.path,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:719,columnNumber:21},this)}return e.jsxDEV(F,{to:o.path,onClick:n,className:w("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors mb-1 cursor-pointer",Q?"text-primary bg-muted":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[e.jsxDEV(N,{className:"h-5 w-5"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:798,columnNumber:21},this),e.jsxDEV("span",{className:"font-medium",children:o.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:799,columnNumber:21},this)]},o.path,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:787,columnNumber:19},this)}),e.jsxDEV("div",{className:"mt-6 px-4",children:[e.jsxDEV("div",{className:"text-xs font-semibold text-muted-foreground uppercase mb-2",children:"Táº¡o nhanh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:806,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("a",{href:"/stores/create",className:"flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-muted-foreground hover:text-foreground hover:bg-muted/50 w-full text-left cursor-pointer",children:"ThÃªm cÆ¡ sá»Ÿ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:811,columnNumber:21},this),e.jsxDEV("a",{href:"/stores/import",className:"flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-muted-foreground hover:text-foreground hover:bg-muted/50 w-full text-left cursor-pointer",children:"Nháº­p dá»¯ liá»‡u cÆ¡ sá»Ÿ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:817,columnNumber:21},this),d.canCreateRisk,e.jsxDEV("a",{href:"/leads/create-feedback",className:"flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-muted-foreground hover:text-foreground hover:bg-muted/50 w-full text-left cursor-pointer",children:"Táº¡o pháº£n Ã¡nh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:829,columnNumber:21},this),e.jsxDEV("a",{href:"/plans/create-new",className:"flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-muted-foreground hover:text-foreground hover:bg-muted/50 w-full text-left cursor-pointer",children:"Táº¡o káº¿ hoáº¡ch kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:835,columnNumber:21},this),d.canCreateInspectionRound,e.jsxDEV("a",{href:"/tasks/create",className:"flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-muted-foreground hover:text-foreground hover:bg-muted/50 w-full text-left cursor-pointer",children:"Táº¡o phiÃªn kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:847,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:809,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:805,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:608,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:600,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:592,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/HorizontalNavBar.tsx",lineNumber:354,columnNumber:5},this)}const jt=[{path:"/overview",label:"Tá»•ng quan",icon:ie,permissionCode:""},{path:"/map",label:"Báº£n Ä‘á»“ Ä‘iá»u hÃ nh",icon:nt,permissionCode:"MAP_VIEW"},{path:"/registry/stores",label:"CÆ¡ sá»Ÿ quáº£n lÃ½",icon:Ve,permissionCode:"STORES_VIEW"},{path:"/leads",label:"Nguá»“n tin",icon:J,permissionCode:"LEAD_RISK",hasSubmenu:!0,submenu:[{path:"/lead-risk/inbox",label:"Xá»­ lÃ½ nguá»“n tin háº±ng ngÃ y"},{path:"/lead-risk/dashboard",label:"Tá»•ng quan rá»§i ro"},{path:"/lead-risk/hotspots",label:"PhÃ¢n tÃ­ch Ä‘iá»ƒm nÃ³ng"},{path:"/lead-risk/quality-metrics",label:"PhÃ¢n tÃ­ch cháº¥t lÆ°á»£ng"},{path:"/lead-risk/workload-dashboard",label:"Quáº£n lÃ½ cÃ´ng viá»‡c"},{path:"/lead-risk/sla-dashboard",label:"GiÃ¡m sÃ¡t SLA"}]},{path:"/plans",label:"Káº¿ hoáº¡ch tÃ¡c nghiá»‡p",icon:it,permissionCode:"PLAN_VIEW",hasSubmenu:!0},{path:"/tasks",label:"Nhiá»‡m vá»¥ hiá»‡n trÆ°á»ng",icon:U,permissionCode:"TASKS_VIEW"},{path:"/evidence",label:"Kho chá»©ng cá»©",icon:he,permissionCode:"EVIDENCE_VIEW"},{path:"/reports",label:"BÃ¡o cÃ¡o & Thá»‘ng kÃª",icon:st,permissionCode:"",hasSubmenu:!0,submenu:[{path:"/dashboard",label:"Dashboard"},{path:"/reports",label:"BÃ¡o cÃ¡o"}]},{path:"/admin",label:"Quáº£n trá»‹",icon:Ne,permissionCode:"ADMIN_VIEW",hasSubmenu:!0,submenu:[{type:"item",path:"/system-admin",label:"Dashboard Quáº£n trá»‹",icon:ie},{type:"separator"},{type:"item",path:"/system-admin/master-data/org-units",label:"ÄÆ¡n vá»‹ tá»• chá»©c",icon:Ve},{type:"item",path:"/system-admin/master-data/departments",label:"PhÃ²ng ban",icon:Te},{type:"item",path:"/system-admin/master-data/admin-areas",label:"Danh má»¥c hÃ nh chÃ­nh",icon:U},{type:"item",path:"/system-admin/master-data/common-catalogs",label:"Danh má»¥c dÃ¹ng chung",icon:at},{type:"item",path:"/system-admin/master-data/dms-catalogs",label:"Danh má»¥c nghiá»‡p vá»¥ QLTT",icon:rt},{type:"item",path:"/system-admin/master-data/system-catalogs",label:"Danh má»¥c ká»¹ thuáº­t",icon:ot},{type:"separator"},{type:"item",path:"/system-admin/iam/users",label:"NgÆ°á»i dÃ¹ng",icon:Te},{type:"item",path:"/system-admin/iam/roles",label:"Vai trÃ²",icon:lt},{type:"item",path:"/system-admin/iam/permissions",label:"Danh má»¥c quyá»n",icon:ct},{type:"item",path:"/system-admin/iam/role-permissions",label:"PhÃ¢n quyá»n",icon:mt},{type:"item",path:"/system-admin/iam/modules",label:"PhÃ¢n há»‡",icon:ut},{type:"item",path:"/system-admin/iam/menus",label:"Menu",icon:Ie},{type:"separator"},{type:"item",path:"/system-admin/system-config/parameters",label:"ThÃ´ng sá»‘ há»‡ thá»‘ng",icon:dt},{type:"item",path:"/system-admin/system-config/organization-info",label:"ThÃ´ng tin tá»• chá»©c",icon:pt},{type:"item",path:"/system-admin/system-config/operations",label:"CÃ i Ä‘áº·t váº­n hÃ nh",icon:Ne},{type:"item",path:"/system-admin/system-config/notifications",label:"Máº«u thÃ´ng bÃ¡o",icon:pe},{type:"item",path:"/system-admin/system-config/security",label:"CÃ i Ä‘áº·t báº£o máº­t",icon:ht},{type:"item",path:"/system-admin/system-config/database/logs",label:"Database Logs",icon:he},{type:"item",path:"/system-admin/system-config/database/backups",label:"Database Backups",icon:Nt},{type:"separator"},{type:"item",path:"/system/modules",label:"Quáº£n trá»‹ Module"},{type:"item",path:"/system/menus",label:"Quáº£n trá»‹ Menu"},{type:"item",path:"/system/users",label:"NgÆ°á»i dÃ¹ng (cÅ©)"},{type:"item",path:"/system/roles",label:"Vai trÃ² (cÅ©)"},{type:"item",path:"/system/settings",label:"Cáº¥u hÃ¬nh há»‡ thá»‘ng"}]}],Dr={LayoutDashboard:ie,Map:nt,Building2:Ve,TriangleAlert:J,ClipboardList:it,MapPin:U,FileBox:he,BarChart3:st,Boxes:ut,Folder:at,HardDrive:Nt,KeyRound:ct,Landmark:pt,Layers:rt,GitBranch:ot,Menu:Ie,Settings:Ne,Shield:lt,ShieldCheck:ht,Sliders:dt,UserCheck:mt,Users:Te,Bell:pe},Mn=t=>t?Dr[t]||ie:ie,Qr=new Set(["/system-admin/master-data","/system-admin/iam","/system-admin/system-config"]),jr=["dashboard","master-data","iam","system-config","tools"],Pr=(t,n)=>{const i=(t.order??0)-(n.order??0);return i!==0?i:t.label.localeCompare(n.label)},In=t=>t.path?{path:t.path,label:t.label,...t.icon?{icon:Mn(t.icon)}:{}}:{type:"label",label:t.label},Sr=t=>{const n=new Map;t.filter(a=>a.path&&!Qr.has(a.path)).forEach(a=>{const c=a.path??"";let l="tools";c==="/system-admin"?l="dashboard":c.startsWith("/system-admin/master-data")?l="master-data":c.startsWith("/system-admin/iam")?l="iam":c.startsWith("/system-admin/system-config")?l="system-config":(c.startsWith("/system/modules")||c.startsWith("/system/menus"))&&(l="tools");const f=n.get(l)??[];f.push(a),n.set(l,f)});const s=jr.filter(a=>(n.get(a)??[]).length>0),r=[];return s.forEach((a,c)=>{(n.get(a)??[]).sort(Pr).forEach(f=>r.push(In(f))),c<s.length-1&&r.push({type:"separator"})}),r},_r=t=>t.map(n=>{const i=n.children.length>0?n.path==="/admin"||n.label==="Quáº£n trá»‹"?Sr(n.children):n.children.map(s=>In(s)):[];return{path:n.path||"",label:n.label,icon:n.path==="/admin"?Ne:Mn(n.icon),permissionCode:"",hasSubmenu:i.length>0,submenu:i}});function kr({collapsed:t=!1,onToggleCollapse:n}){const i=tt(),[s,r]=b.useState(!1),[a,c]=b.useState(null),[l,f]=b.useState(i.pathname.startsWith("/plans")||i.pathname.startsWith("/inspections")),{setLayoutMode:g}=gt(),{user:V}=gn(),{menus:x}=bn(),T=(V==null?void 0:V.permissions)||[];L.useEffect(()=>{console.log("ğŸ” VerticalSidebar - Debug Menu & Permissions:",{userPermissions:T,userRoleCode:V==null?void 0:V.roleCode,menusCount:(x==null?void 0:x.length)||0,menus:x})},[T,V==null?void 0:V.roleCode,x]);const D=m=>!m||m===""?!0:T.length===0?(console.warn("âš ï¸ User has no permissions - showing all menus (fallback mode)"),!0):T.includes(m),p=L.useCallback(m=>{if(!m)return!1;const[v,j]=m.split("?");if(!(i.pathname===v||i.pathname.startsWith(v+"/")))return!1;if(!j)return!0;const C=new URLSearchParams(i.search),S=new URLSearchParams(j);for(const[B,G]of S.entries())if(C.get(B)!==G)return!1;return!0},[i.pathname,i.search]),H=L.useMemo(()=>x?kn(x):[],[x]),h=L.useMemo(()=>{const m=Cn(H,T,V==null?void 0:V.roleCode);return console.log("ğŸ” VerticalSidebar - Filtered Registry Tree:",{originalCount:H.length,filteredCount:m.length,userPermissions:T,userRoleCode:V==null?void 0:V.roleCode}),m},[H,T,V==null?void 0:V.roleCode]),u=L.useMemo(()=>_r(h),[h]),d=jt.filter(m=>D(m.permissionCode)),o=new Set(u.map(m=>m.path)),N=d.filter(m=>!o.has(m.path)),E=L.useMemo(()=>{const m=[...u,...N].sort((v,j)=>{var S,B;const y=((S=jt.find(G=>G.path===v.path))==null?void 0:S.order)??999,C=((B=jt.find(G=>G.path===j.path))==null?void 0:B.order)??999;return y-C});return console.log("ğŸ” VerticalSidebar - Visible Modules:",{registryModulesCount:u.length,additionalMappaModulesCount:N.length,totalVisible:m.length,visiblePaths:m.map(v=>v.path)}),m},[u,N]),Q={canCreateRisk:!1,canCreateInspectionRound:!1};return e.jsxDEV("aside",{className:w("fixed left-0 top-0 bottom-0 bg-card border-r border-border z-40 transition-all duration-300 flex flex-col",t?"w-16":"w-64"),children:[e.jsxDEV("div",{className:"h-16 flex items-center justify-between px-4 border-b border-border",children:[!t&&e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("img",{src:we,alt:"Mappa Logo",className:"w-8 h-8 object-contain"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:377,columnNumber:13},this),e.jsxDEV("span",{className:"font-semibold text-foreground",children:"Mappa"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:378,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:376,columnNumber:11},this),t&&e.jsxDEV("img",{src:we,alt:"Mappa Logo",className:"w-8 h-8 object-contain mx-auto"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:382,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:374,columnNumber:7},this),e.jsxDEV("div",{className:"p-2 border-b border-border",children:e.jsxDEV(ce,{open:s,onOpenChange:r,children:[e.jsxDEV(me,{asChild:!0,children:e.jsxDEV(R,{className:w("w-full gap-2 cursor-pointer",t?"px-0":""),size:t?"icon":"sm",children:[e.jsxDEV(En,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:394,columnNumber:15},this),!t&&e.jsxDEV(e.Fragment,{children:["Táº¡o nhanh",e.jsxDEV(te,{className:"h-3 w-3 ml-auto"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:398,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:396,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:390,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:389,columnNumber:11},this),e.jsxDEV(ue,{side:"right",align:"start",className:"w-56",children:[e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:"/stores/create",style:{cursor:"pointer"},children:"ThÃªm cÆ¡ sá»Ÿ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:406,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:405,columnNumber:15},this),e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:"/stores/import",style:{cursor:"pointer"},children:"Nháº­p dá»¯ liá»‡u cÆ¡ sá»Ÿ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:414,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:413,columnNumber:15},this),Q.canCreateRisk,e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:"/leads/create-feedback",style:{cursor:"pointer"},children:"Táº¡o pháº£n Ã¡nh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:430,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:429,columnNumber:15},this),e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:"/plans/create-new",style:{cursor:"pointer"},children:"Táº¡o káº¿ hoáº¡ch kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:438,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:437,columnNumber:15},this),Q.canCreateInspectionRound,e.jsxDEV(X,{asChild:!0,children:e.jsxDEV("a",{href:"/tasks/create",style:{cursor:"pointer"},children:"Táº¡o phiÃªn kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:454,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:453,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:403,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:388,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:387,columnNumber:7},this),e.jsxDEV("nav",{className:"flex-1 p-2 overflow-y-auto",children:E.map(m=>{const v=m.icon,j=m.path==="/admin";let y=!1;if(m.path==="/plans"?y=!1:m.path==="/tasks"?y=i.pathname==="/tasks"&&i.pathname!=="/plans/inspection-session":m.hasSubmenu&&m.submenu?m.path==="/reports"?y=i.pathname==="/dashboard"||i.pathname==="/reports":m.path==="/admin"?y=i.pathname.startsWith("/system")||i.pathname.startsWith("/system-admin")||i.pathname==="/admin":y=i.pathname.startsWith("/lead-risk")||i.pathname==="/leads":m.path==="/registry/stores"?y=i.pathname===m.path||i.pathname.startsWith(m.path+"/")||i.pathname.startsWith("/registry/full-edit"):y=i.pathname===m.path||i.pathname.startsWith(m.path+"/"),m.path==="/plans")return t?e.jsxDEV(ce,{children:[e.jsxDEV(me,{asChild:!0,children:e.jsxDEV("div",{className:w("flex items-center justify-center px-3 py-2.5 rounded-lg transition-colors mb-1 cursor-pointer",y?"text-primary bg-primary/10 font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),style:{cursor:"pointer"},children:e.jsxDEV(v,{className:"h-5 w-5 shrink-0"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:511,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:502,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:501,columnNumber:19},this),e.jsxDEV(ue,{side:"right",align:"start",className:"w-64",children:[e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:"/plans/list",className:"flex items-center gap-3 cursor-pointer",children:[e.jsxDEV(qe,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:517,columnNumber:25},this),e.jsxDEV("div",{className:"font-medium",children:"Káº¿ hoáº¡ch kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:518,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:516,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:515,columnNumber:21},this),e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:"/plans/inspection-rounds",className:"flex items-center gap-3 cursor-pointer",children:[e.jsxDEV(be,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:524,columnNumber:25},this),e.jsxDEV("div",{className:"font-medium",children:"Äá»£t kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:525,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:523,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:522,columnNumber:21},this),e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:"/plans/inspection-session",className:"flex items-center gap-3 cursor-pointer",children:[e.jsxDEV(Ye,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:531,columnNumber:25},this),e.jsxDEV("div",{className:"font-medium",children:"PhiÃªn lÃ m viá»‡c"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:532,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:530,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:529,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:514,columnNumber:19},this)]},m.path,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:500,columnNumber:17},this):e.jsxDEV("div",{className:"mb-1",children:[e.jsxDEV("div",{className:w("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors cursor-pointer",y?"text-primary bg-primary/10 font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),style:{cursor:"pointer"},onClick:()=>f(!l),children:[e.jsxDEV(v,{className:"h-5 w-5 shrink-0"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:554,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm flex-1",children:m.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:555,columnNumber:19},this),e.jsxDEV(te,{className:w("h-4 w-4 transition-transform",l?"rotate-180":"")},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:556,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:544,columnNumber:17},this),l&&e.jsxDEV("div",{className:"ml-4 mt-1 space-y-1",children:[e.jsxDEV(F,{to:"/plans/list",children:e.jsxDEV("div",{className:w("flex items-center gap-3 px-3 py-2 rounded-lg transition-colors text-sm",i.pathname==="/plans/list"||i.pathname.startsWith("/plans/KH-")||i.pathname.startsWith("/plans/create-new")?"text-primary bg-primary/5 font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[e.jsxDEV(qe,{className:"h-4 w-4 shrink-0"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:576,columnNumber:25},this),e.jsxDEV("span",{children:"Káº¿ hoáº¡ch kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:577,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:568,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:567,columnNumber:21},this),e.jsxDEV(F,{to:"/plans/inspection-rounds",children:e.jsxDEV("div",{className:w("flex items-center gap-3 px-3 py-2 rounded-lg transition-colors text-sm",i.pathname==="/plans/inspection-rounds"||i.pathname.startsWith("/plans/inspection-rounds/")?"text-primary bg-primary/5 font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[e.jsxDEV(be,{className:"h-4 w-4 shrink-0"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:590,columnNumber:25},this),e.jsxDEV("span",{children:"Äá»£t kiá»ƒm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:591,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:582,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:581,columnNumber:21},this),e.jsxDEV(F,{to:"/plans/inspection-session",children:e.jsxDEV("div",{className:w("flex items-center gap-3 px-3 py-2 rounded-lg transition-colors text-sm",i.pathname==="/plans/inspection-session"?"text-primary bg-primary/5 font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[e.jsxDEV(Ye,{className:"h-4 w-4 shrink-0"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:604,columnNumber:25},this),e.jsxDEV("span",{children:"PhiÃªn lÃ m viá»‡c"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:605,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:596,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:595,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:566,columnNumber:19},this)]},m.path,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:542,columnNumber:15},this);if(m.hasSubmenu&&m.submenu){const C=a===m.path;return t?e.jsxDEV(ce,{children:[e.jsxDEV(me,{asChild:!0,children:e.jsxDEV("div",{className:w("flex items-center justify-center p-3 rounded-lg transition-colors mb-1 cursor-pointer",y?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:e.jsxDEV(v,{className:"h-5 w-5"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:631,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:623,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:622,columnNumber:19},this),e.jsxDEV(ue,{side:"right",align:"start",className:w("w-64",j&&"w-72 p-2"),children:[!j&&e.jsxDEV("div",{className:"px-2 py-1.5 text-sm font-semibold text-foreground",children:m.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:636,columnNumber:23},this),m.submenu.map((S,B)=>{if(S.type==="separator")return e.jsxDEV(Je,{className:w(j&&"my-2")},`sep-${B}`,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:642,columnNumber:32},this);if(S.type==="label")return e.jsxDEV(Kt,{className:"text-xs uppercase text-muted-foreground",children:S.label},`label-${B}`,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:646,columnNumber:27},this);if(!S.path)return null;const G=S.icon,ve=p(S.path);return e.jsxDEV(X,{asChild:!0,children:e.jsxDEV(F,{to:S.path,className:w(j?"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-foreground hover:bg-muted":"cursor-pointer",ve&&(j?"bg-primary text-primary-foreground":"bg-primary/10 text-primary")),children:[G&&e.jsxDEV(G,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:669,columnNumber:42},this),S.label]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:659,columnNumber:27},this)},S.path,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:658,columnNumber:25},this)})]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:634,columnNumber:19},this)]},m.path,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:621,columnNumber:17},this):e.jsxDEV("div",{children:[e.jsxDEV("button",{onClick:()=>c(C?null:m.path),className:w("flex items-center justify-between w-full px-3 py-2.5 rounded-lg transition-colors mb-1",y?"text-primary bg-primary/10 font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(v,{className:"h-5 w-5 shrink-0"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:693,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm",children:m.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:694,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:692,columnNumber:19},this),e.jsxDEV(te,{className:w("h-4 w-4 transition-transform",C&&"rotate-180")},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:696,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:683,columnNumber:17},this),C&&e.jsxDEV("div",{className:"ml-8 mb-2 space-y-1",children:m.submenu.map((S,B)=>{if(S.type==="separator")return e.jsxDEV("div",{className:w("my-2 h-px bg-border",j&&"mx-2")},`sep-${B}`,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:708,columnNumber:32},this);if(S.type==="label")return e.jsxDEV("div",{className:"px-3 py-1 text-xs font-semibold uppercase text-muted-foreground",children:S.label},`label-${B}`,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:712,columnNumber:27},this);if(!S.path)return null;const G=S.icon,ve=p(S.path);return e.jsxDEV(F,{to:S.path,className:w(j?"flex items-center gap-2 px-3 py-2 rounded-md text-sm transition-colors":"flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors",ve?j?"bg-primary text-primary-foreground":"text-primary bg-primary/10 font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[G&&e.jsxDEV(G,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:736,columnNumber:40},this),S.label]},S.path,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:724,columnNumber:25},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:705,columnNumber:19},this)]},m.path,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:682,columnNumber:15},this)}return e.jsxDEV(F,{to:m.path,children:e.jsxDEV("div",{className:w("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors mb-1",y?"text-primary bg-primary/10 font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[e.jsxDEV(v,{className:"h-5 w-5 shrink-0"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:758,columnNumber:17},this),!t&&e.jsxDEV("span",{className:"text-sm",children:m.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:759,columnNumber:32},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:750,columnNumber:15},this)},m.path,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:749,columnNumber:13},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:464,columnNumber:7},this),e.jsxDEV("div",{className:"p-2 border-t border-border",children:[!t&&e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV(R,{variant:"outline",size:"icon",className:"flex-1 cursor-pointer",title:"Menu dá»c (Ä‘ang chá»n)",children:e.jsxDEV(Et,{className:"h-4 w-4 rotate-90"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:776,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:770,columnNumber:13},this),e.jsxDEV(R,{variant:"ghost",size:"icon",className:"flex-1 cursor-pointer",onClick:()=>g("horizontal"),title:"Chuyá»ƒn sang menu ngang",children:e.jsxDEV(Et,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:785,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:778,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:769,columnNumber:11},this),t&&e.jsxDEV(R,{variant:"outline",size:"icon",className:"w-full cursor-pointer",onClick:()=>g("horizontal"),title:"Chuyá»ƒn sang menu ngang",children:e.jsxDEV(Et,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:797,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:790,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:767,columnNumber:7},this),n&&e.jsxDEV("div",{className:"p-2 border-t border-border",children:e.jsxDEV(R,{variant:"ghost",size:t?"icon":"sm",className:"w-full",onClick:n,children:t?e.jsxDEV(ft,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:812,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(vt,{className:"h-4 w-4"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:815,columnNumber:17},this),e.jsxDEV("span",{className:"ml-2",children:"Thu gá»n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:816,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:814,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:805,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:804,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/VerticalSidebar.tsx",lineNumber:367,columnNumber:5},this)}function on(){return e.jsxDEV("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 120px)",backgroundColor:"transparent"},children:e.jsxDEV("div",{style:{textAlign:"center"},children:[e.jsxDEV("div",{style:{width:"32px",height:"32px",border:"3px solid var(--border)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 0.8s linear infinite",margin:"0 auto 12px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:22,columnNumber:9},this),e.jsxDEV("p",{style:{fontFamily:"Inter, sans-serif",fontSize:"var(--text-sm)",color:"var(--muted-foreground)"},children:"Äang táº£i..."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:31,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:19,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:12,columnNumber:5},this)}function Cr(){const{layoutMode:t}=gt(),[n,i]=b.useState(!1),[s,r]=b.useState(!1);return e.jsxDEV("div",{className:"min-h-screen bg-background",children:t==="horizontal"?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(rn,{onMobileMenuToggle:()=>i(!n)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:53,columnNumber:11},this),e.jsxDEV(Lr,{mobileMenuOpen:n,onClose:()=>i(!1)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:54,columnNumber:11},this),e.jsxDEV("main",{className:"flex-1",children:e.jsxDEV(b.Suspense,{fallback:e.jsxDEV(on,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:59,columnNumber:33},this),children:e.jsxDEV(Ct,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:60,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:59,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:58,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:52,columnNumber:9},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(kr,{collapsed:s,onToggleCollapse:()=>r(!s)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:67,columnNumber:11},this),e.jsxDEV("div",{className:w("transition-all duration-300",s?"ml-16":"ml-64"),children:[e.jsxDEV(rn,{onMobileMenuToggle:()=>i(!n)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:77,columnNumber:13},this),e.jsxDEV("main",{className:"flex-1",children:e.jsxDEV(b.Suspense,{fallback:e.jsxDEV(on,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:79,columnNumber:35},this),children:e.jsxDEV(Ct,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:80,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:79,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:71,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:66,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/layouts/MainLayout.tsx",lineNumber:49,columnNumber:5},this)}const wr="_container_1d6j4_3",Br="_formSide_1d6j4_19",Mr="_brandingSide_1d6j4_39",Ir="_brandingContent_1d6j4_65",Ar="_textContent_1d6j4_87",Rr="_brandingTitle_1d6j4_101",zr="_brandingSubtitle_1d6j4_119",Fr="_dashboardPreview_1d6j4_141",Xr="_dashboardImage_1d6j4_159",Kr="_formContainer_1d6j4_173",Gr="_logoSection_1d6j4_191",$r="_logoImage_1d6j4_205",Or="_formHeader_1d6j4_219",Ur="_formTitle_1d6j4_231",Wr="_formSubtitle_1d6j4_247",qr="_errorBanner_1d6j4_265",Yr="_form_1d6j4_19",Jr="_field_1d6j4_315",Zr="_label_1d6j4_327",eo="_input_1d6j4_341",to="_passwordWrapper_1d6j4_397",no="_passwordToggle_1d6j4_413",io="_formActions_1d6j4_471",so="_checkbox_1d6j4_485",ao="_linkButton_1d6j4_517",ro="_submitButton_1d6j4_555",oo="_spinner_1d6j4_617",lo="_formFooter_1d6j4_645",co="_footerLink_1d6j4_663",mo="_separator_1d6j4_705",M={container:wr,formSide:Br,brandingSide:Mr,brandingContent:Ir,textContent:Ar,brandingTitle:Rr,brandingSubtitle:zr,dashboardPreview:Fr,dashboardImage:Xr,formContainer:Kr,logoSection:Gr,logoImage:$r,formHeader:Or,formTitle:Ur,formSubtitle:Wr,errorBanner:qr,form:Yr,field:Jr,label:Zr,input:eo,passwordWrapper:to,passwordToggle:no,formActions:io,checkbox:so,linkButton:ao,submitButton:ro,spinner:oo,formFooter:lo,footerLink:co,separator:mo},uo="/demo-qltt-portal/assets/1335c3f0fc5233b65c4a3fb13a990d8063ab0c64-B6qczdMg.png";function po(){const t=et(),n=tt(),i=Be(),{isAuthenticated:s,isLoading:r,error:a}=Ft(D=>D.auth),[c,l]=b.useState(""),[f,g]=b.useState(""),[V,x]=b.useState(!1);b.useEffect(()=>{var D,p;if(!r&&s){const H=((p=(D=n.state)==null?void 0:D.from)==null?void 0:p.pathname)||"/";t(H,{replace:!0})}},[s,r,t,n.state]),b.useEffect(()=>{if(a&&(c||f)){const D=setTimeout(()=>{i(dr())},100);return()=>clearTimeout(D)}},[c,f,a,i]);const T=D=>{D.preventDefault(),!(!c.trim()||!f.trim())&&i(Pn({email:c.trim(),password:f}))};return r?e.jsxDEV("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"var(--background)",fontFamily:"Inter, sans-serif"},children:[e.jsxDEV("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[e.jsxDEV("div",{style:{width:"48px",height:"48px",border:"4px solid var(--border)",borderTop:"4px solid var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:73,columnNumber:11},this),e.jsxDEV("div",{style:{fontSize:"14px",color:"var(--muted-foreground)",fontWeight:500},children:"Äang táº£i..."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:81,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:66,columnNumber:9},this),e.jsxDEV("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:87,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:58,columnNumber:7},this):s?null:e.jsxDEV("div",{className:M.container,children:[e.jsxDEV("div",{className:M.formSide,children:e.jsxDEV("div",{className:M.formContainer,children:[e.jsxDEV("div",{className:M.logoSection,children:e.jsxDEV("img",{src:we,alt:"MAPPA Logo",className:M.logoImage},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:109,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:108,columnNumber:11},this),e.jsxDEV("div",{className:M.formHeader,children:[e.jsxDEV("h2",{className:M.formTitle,children:"ÄÄƒng nháº­p"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:114,columnNumber:13},this),e.jsxDEV("p",{className:M.formSubtitle,children:"Nháº­p thÃ´ng tin tÃ i khoáº£n cá»§a báº¡n Ä‘á»ƒ tiáº¿p tá»¥c"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:115,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:113,columnNumber:11},this),a&&e.jsxDEV("div",{className:M.errorBanner,children:[e.jsxDEV(Tn,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:123,columnNumber:15},this),e.jsxDEV("span",{children:a},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:124,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:122,columnNumber:13},this),e.jsxDEV("form",{onSubmit:T,className:M.form,children:[e.jsxDEV("div",{className:M.field,children:[e.jsxDEV("label",{htmlFor:"email",className:M.label,children:"Email *"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:132,columnNumber:15},this),e.jsxDEV("input",{id:"email",type:"email",className:M.input,placeholder:"Nháº­p email Ä‘Äƒng nháº­p",value:c,onChange:D=>l(D.target.value),disabled:r,autoComplete:"email",autoFocus:!0},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:135,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:131,columnNumber:13},this),e.jsxDEV("div",{className:M.field,children:[e.jsxDEV("label",{htmlFor:"password",className:M.label,children:"Máº­t kháº©u *"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:150,columnNumber:15},this),e.jsxDEV("div",{className:M.passwordWrapper,children:[e.jsxDEV("input",{id:"password",type:V?"text":"password",className:M.input,placeholder:"Nháº­p máº­t kháº©u",value:f,onChange:D=>g(D.target.value),disabled:r,autoComplete:"current-password"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:154,columnNumber:17},this),e.jsxDEV("button",{type:"button",className:M.passwordToggle,onClick:()=>x(!V),disabled:r,tabIndex:-1,children:V?e.jsxDEV(Si,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:171,columnNumber:35},this):e.jsxDEV(_i,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:171,columnNumber:58},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:164,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:153,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:149,columnNumber:13},this),e.jsxDEV("div",{className:M.formActions,children:[e.jsxDEV("label",{className:M.checkbox,children:[e.jsxDEV("input",{type:"checkbox"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:179,columnNumber:17},this),e.jsxDEV("span",{children:"Ghi nhá»› Ä‘Äƒng nháº­p"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:180,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:178,columnNumber:15},this),e.jsxDEV("button",{type:"button",className:M.linkButton,onClick:()=>t("/auth/forgot-password"),children:"QuÃªn máº­t kháº©u?"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:182,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:177,columnNumber:13},this),e.jsxDEV("button",{type:"submit",className:M.submitButton,disabled:r||!c.trim()||!f.trim(),children:r?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ki,{size:18,className:M.spinner},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:199,columnNumber:19},this),"Äang Ä‘Äƒng nháº­p..."]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:198,columnNumber:17},this):"ÄÄƒng nháº­p"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:192,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:129,columnNumber:11},this),e.jsxDEV("div",{className:M.formFooter,children:[e.jsxDEV("button",{type:"button",className:M.footerLink,onClick:()=>t("/auth/help"),children:[e.jsxDEV(Ci,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:215,columnNumber:15},this),"Trá»£ giÃºp Ä‘Äƒng nháº­p"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:210,columnNumber:13},this),e.jsxDEV("span",{className:M.separator,children:"â€¢"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:218,columnNumber:13},this),e.jsxDEV("button",{type:"button",className:M.footerLink,onClick:()=>t("/auth/policy"),children:"ChÃ­nh sÃ¡ch báº£o máº­t"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:219,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:209,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:106,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:105,columnNumber:7},this),e.jsxDEV("div",{className:M.brandingSide,children:e.jsxDEV("div",{className:M.brandingContent,children:[e.jsxDEV("div",{className:M.textContent,children:[e.jsxDEV("h1",{className:M.brandingTitle,children:"Quáº£n lÃ½ hiá»‡u quáº£ há»‡ thá»‘ng thá»‹ trÆ°á»ng cá»§a báº¡n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:234,columnNumber:13},this),e.jsxDEV("p",{className:M.brandingSubtitle,children:"ÄÄƒng nháº­p Ä‘á»ƒ truy cáº­p dashboard MAPPA vÃ  quáº£n lÃ½ toÃ n bá»™ hoáº¡t Ä‘á»™ng cá»§a báº¡n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:237,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:233,columnNumber:11},this),e.jsxDEV("div",{className:M.dashboardPreview,children:e.jsxDEV("img",{src:uo,alt:"MAPPA Dashboard Preview",className:M.dashboardImage},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:243,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:242,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:232,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:231,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/auth/Login.tsx",lineNumber:103,columnNumber:5},this)}function ho({children:t}){const{isAuthenticated:n,isLoading:i,isRestoring:s,token:r}=Ft(H=>H.auth),a=Be(),c=tt(),[l,f]=b.useState(!1),[g,V]=b.useState(!1),[x,T]=b.useState(!1);b.useEffect(()=>{(async()=>{if(n){f(!0);return}if(!l)try{await xe()&&(s||a(Ze())),f(!0)}catch(h){console.error("âŒ ProtectedRoute: Error checking storage:",h),f(!0)}})()},[a,n,s]),b.useEffect(()=>{if(s||i||!n||!r)return;const H=async()=>{try{await bt(0)&&(await Gt(),window.location.replace("/auth/login"))}catch{}},h=setTimeout(H,2e3),u=setInterval(H,3e4);return()=>{clearTimeout(h),clearInterval(u)}},[n,r,s,i]),b.useEffect(()=>{if(s&&!x){const H=setTimeout(()=>{T(!0)},5e3);return()=>clearTimeout(H)}},[s,x]),b.useEffect(()=>{!i&&!s&&!n&&l&&!g&&(async()=>{try{await xe()&&(a(Ze()),f(!1))}finally{V(!0)}})()},[i,s,n,l,g,a]);const D=({message:H})=>e.jsxDEV("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"var(--background)",fontFamily:"Inter, sans-serif"},children:[e.jsxDEV("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[e.jsxDEV("div",{style:{width:"48px",height:"48px",border:"4px solid var(--border)",borderTop:"4px solid var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/auth/ProtectedRoute.tsx",lineNumber:111,columnNumber:9},this),e.jsxDEV("div",{style:{fontSize:"14px",color:"var(--muted-foreground)",fontWeight:500},children:H},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/auth/ProtectedRoute.tsx",lineNumber:116,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/auth/ProtectedRoute.tsx",lineNumber:110,columnNumber:7},this),e.jsxDEV("style",{children:"@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/auth/ProtectedRoute.tsx",lineNumber:118,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/auth/ProtectedRoute.tsx",lineNumber:106,columnNumber:5},this);return i||s&&!x||!n&&!l?e.jsxDEV(D,{message:"Äang táº£i..."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/auth/ProtectedRoute.tsx",lineNumber:124,columnNumber:26},this):!n&&!s&&!i?r?e.jsxDEV(D,{message:"Äang khÃ´i phá»¥c phiÃªn Ä‘Äƒng nháº­p..."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/auth/ProtectedRoute.tsx",lineNumber:127,columnNumber:23},this):g?e.jsxDEV(Oe,{to:"/auth/login",state:{from:c},replace:!0},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/auth/ProtectedRoute.tsx",lineNumber:129,columnNumber:14},this):e.jsxDEV(D,{message:"Äang kiá»ƒm tra phiÃªn Ä‘Äƒng nháº­p..."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/auth/ProtectedRoute.tsx",lineNumber:131,columnNumber:12},this):e.jsxDEV(e.Fragment,{children:t},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/auth/ProtectedRoute.tsx",lineNumber:134,columnNumber:10},this)}const No={USE_TV_SUPABASE:!0},At={"ToÃ n quá»‘c":{center:[16,108],zoom:5,bounds:[[8,102],[23.5,110]]},"HÃ  Ná»™i":{center:[21.0278,105.8342],bounds:[[20.9,105.7],[21.15,106.05]]},"TP.HCM":{center:[10.7769,106.7009],bounds:[[10.65,106.5],[10.9,106.9]]},"ÄÃ  Náºµng":{center:[16.0544,108.2022],bounds:[[15.95,108.05],[16.15,108.35]]},"Háº£i PhÃ²ng":{center:[20.8449,106.6881],bounds:[[20.7,106.45],[20.95,106.85]]},"Cáº§n ThÆ¡":{center:[10.0452,105.7469],bounds:[[9.9,105.55],[10.2,105.9]]},"BÃ¬nh DÆ°Æ¡ng":{center:[11.3254,106.477],bounds:[[11,106.2],[11.55,106.8]]},"Äá»“ng Nai":{center:[10.9574,106.8427],bounds:[[10.7,106.6],[11.2,107.1]]},"Long An":{center:[10.6956,106.2431],bounds:[[10.4,105.95],[10.95,106.55]]},"BÃ  Rá»‹a-VÅ©ng TÃ u":{center:[10.5417,107.2429],bounds:[[10.2,106.9],[10.85,107.55]]},"KhÃ¡nh HÃ²a":{center:[12.2388,109.1967],bounds:[[11.75,108.8],[12.7,109.55]]}};function Rt(t){const n=At[t];if(!n||!n.bounds){const c=(n==null?void 0:n.center)||[16,108];return{lat:c[0]+(Math.random()-.5)*.2,lng:c[1]+(Math.random()-.5)*.2}}const[[i,s],[r,a]]=n.bounds;return{lat:i+Math.random()*(r-i),lng:s+Math.random()*(a-s)}}const ge=[{code:"01",name:"HÃ  Ná»™i",fullName:"ThÃ nh phá»‘ HÃ  Ná»™i",wards:[{code:"01001",name:"PhÆ°á»ng HoÃ n Kiáº¿m"},{code:"01002",name:"PhÆ°á»ng Cá»­a Nam"},{code:"01003",name:"PhÆ°á»ng Ba ÄÃ¬nh"},{code:"01004",name:"PhÆ°á»ng Ngá»c HÃ "},{code:"01005",name:"PhÆ°á»ng Giáº£ng VÃµ"},{code:"01006",name:"PhÆ°á»ng Äá»‘ng Äa"},{code:"01007",name:"PhÆ°á»ng Kim LiÃªn"},{code:"01008",name:"PhÆ°á»ng VÄƒn Miáº¿u"},{code:"01009",name:"PhÆ°á»ng LÃ¡ng"},{code:"01010",name:"PhÆ°á»ng Ã” Chá»£ Dá»«a"},{code:"01011",name:"PhÆ°á»ng Há»“ng HÃ "},{code:"01012",name:"PhÆ°á»ng TÃ¢y Há»“"},{code:"01013",name:"PhÆ°á»ng BÆ°á»Ÿi"},{code:"01014",name:"PhÆ°á»ng YÃªn Phá»¥"},{code:"01015",name:"PhÆ°á»ng Long BiÃªn"},{code:"01016",name:"PhÆ°á»ng Bá»“ Äá»"},{code:"01017",name:"PhÆ°á»ng Viá»‡t HÆ°ng"},{code:"01018",name:"PhÆ°á»ng PhÃºc Lá»£i"},{code:"01019",name:"PhÆ°á»ng HÃ  ÄÃ´ng"},{code:"01020",name:"PhÆ°á»ng DÆ°Æ¡ng Ná»™i"},{code:"01021",name:"PhÆ°á»ng YÃªn NghÄ©a"},{code:"01022",name:"PhÆ°á»ng PhÃº LÆ°Æ¡ng"},{code:"01023",name:"PhÆ°á»ng Kiáº¿n HÆ°ng"},{code:"01024",name:"PhÆ°á»ng Thanh XuÃ¢n"},{code:"01025",name:"PhÆ°á»ng KhÆ°Æ¡ng ÄÃ¬nh"},{code:"01026",name:"PhÆ°á»ng PhÆ°Æ¡ng Liá»‡t"},{code:"01027",name:"PhÆ°á»ng Háº¡ ÄÃ¬nh"},{code:"01028",name:"PhÆ°á»ng HoÃ ng Mai"},{code:"01029",name:"PhÆ°á»ng TÆ°Æ¡ng Mai"},{code:"01030",name:"PhÆ°á»ng VÄ©nh HÆ°ng"},{code:"01031",name:"PhÆ°á»ng LÄ©nh Nam"},{code:"01032",name:"PhÆ°á»ng Thanh TrÃ¬"},{code:"01033",name:"PhÆ°á»ng YÃªn Sá»Ÿ"},{code:"01034",name:"PhÆ°á»ng Äáº¡i Kim"},{code:"01035",name:"PhÆ°á»ng HoÃ ng Liá»‡t"},{code:"01036",name:"PhÆ°á»ng Tá»« LiÃªm"},{code:"01037",name:"PhÆ°á»ng XuÃ¢n PhÆ°Æ¡ng"},{code:"01038",name:"PhÆ°á»ng TÃ¢y Má»—"},{code:"01039",name:"PhÆ°á»ng Äáº¡i Má»—"},{code:"01040",name:"PhÆ°á»ng Má»¹ ÄÃ¬nh"},{code:"01041",name:"PhÆ°á»ng Cáº§u Giáº¥y"},{code:"01042",name:"PhÆ°á»ng NghÄ©a ÄÃ´"},{code:"01043",name:"PhÆ°á»ng Dá»‹ch Vá»ng"},{code:"01044",name:"PhÆ°á»ng YÃªn HÃ²a"},{code:"01045",name:"PhÆ°á»ng Thanh XuÃ¢n Báº¯c"},{code:"01046",name:"PhÆ°á»ng Thanh XuÃ¢n Nam"},{code:"01047",name:"PhÆ°á»ng Trung HÃ²a"},{code:"01048",name:"PhÆ°á»ng NhÃ¢n ChÃ­nh"},{code:"01049",name:"PhÆ°á»ng ThÆ°á»£ng ÄÃ¬nh"},{code:"01050",name:"PhÆ°á»ng Äá»‹nh CÃ´ng"},{code:"01051",name:"PhÆ°á»ng GiÃ¡p BÃ¡t"},{code:"01052",name:"PhÆ°á»ng Minh Khai"},{code:"01053",name:"PhÆ°á»ng VÄ©nh Tuy"},{code:"01054",name:"PhÆ°á»ng Mai Äá»™ng"},{code:"01055",name:"PhÆ°á»ng Hai BÃ  TrÆ°ng"},{code:"01056",name:"PhÆ°á»ng Báº¡ch Mai"},{code:"01057",name:"PhÆ°á»ng Phá»‘ Huáº¿"},{code:"01058",name:"PhÆ°á»ng Thanh NhÃ n"},{code:"01059",name:"PhÆ°á»ng TrÆ°Æ¡ng Äá»‹nh"},{code:"01060",name:"PhÆ°á»ng Äá»“ng TÃ¢m"},{code:"01061",name:"PhÆ°á»ng Kim NgÆ°u"},{code:"01062",name:"PhÆ°á»ng VÃ¢n Há»“"},{code:"01063",name:"PhÆ°á»ng Quá»³nh LÃ´i"},{code:"01064",name:"PhÆ°á»ng Quá»³nh Mai"},{code:"01065",name:"PhÆ°á»ng LÃª Äáº¡i HÃ nh"},{code:"01066",name:"PhÆ°á»ng PhÃºc TÃ¢n"},{code:"01067",name:"PhÆ°á»ng ChÆ°Æ¡ng DÆ°Æ¡ng"},{code:"01068",name:"PhÆ°á»ng PhÃºc XÃ¡"},{code:"01069",name:"PhÆ°á»ng ÄÃ´ng Ngáº¡c"},{code:"01070",name:"PhÆ°á»ng XuÃ¢n Äá»‰nh"},{code:"01071",name:"PhÆ°á»ng Thá»¥y PhÆ°Æ¡ng"},{code:"01072",name:"PhÆ°á»ng TÃ¢y Tá»±u"},{code:"01073",name:"PhÆ°á»ng Minh Khai (Báº¯c Tá»« LiÃªm)"},{code:"01074",name:"PhÆ°á»ng Cá»• Nhuáº¿"},{code:"01075",name:"PhÆ°á»ng Äá»©c Tháº¯ng"},{code:"01076",name:"PhÆ°á»ng LiÃªn Máº¡c"},{code:"01077",name:"PhÆ°á»ng ThÆ°á»£ng CÃ¡t"},{code:"01078",name:"PhÆ°á»ng PhÃº Diá»…n"},{code:"01079",name:"PhÆ°á»ng XuÃ¢n Táº£o"},{code:"01080",name:"PhÆ°á»ng Nháº­t TÃ¢n"},{code:"01081",name:"XÃ£ SÃ³c SÆ¡n"},{code:"01082",name:"XÃ£ Ná»™i BÃ i"},{code:"01083",name:"XÃ£ Kim Anh"},{code:"01084",name:"XÃ£ PhÃ¹ Linh"},{code:"01085",name:"XÃ£ TiÃªn DÆ°á»£c"},{code:"01086",name:"XÃ£ Minh PhÃº"},{code:"01087",name:"XÃ£ Minh TrÃ­"},{code:"01088",name:"XÃ£ ÄÃ´ng Anh"},{code:"01089",name:"XÃ£ Báº¯c Há»“ng"},{code:"01090",name:"XÃ£ Nam Há»“ng"},{code:"01091",name:"XÃ£ NguyÃªn KhÃª"},{code:"01092",name:"XÃ£ Uy Ná»—"},{code:"01093",name:"XÃ£ Gia LÃ¢m"},{code:"01094",name:"XÃ£ TrÃ¢u Quá»³"},{code:"01095",name:"XÃ£ DÆ°Æ¡ng XÃ¡"},{code:"01096",name:"XÃ£ Äa Tá»‘n"},{code:"01097",name:"XÃ£ Kim SÆ¡n"},{code:"01098",name:"XÃ£ PhÃº Thá»‹"},{code:"01099",name:"XÃ£ Thanh TrÃ¬"},{code:"01100",name:"XÃ£ Tá»© Hiá»‡p"},{code:"01101",name:"XÃ£ VÄ©nh Quá»³nh"},{code:"01102",name:"XÃ£ Ngá»c Há»“i"},{code:"01103",name:"XÃ£ ThÆ°á»ng TÃ­n"},{code:"01104",name:"XÃ£ Nhá»‹ KhÃª"},{code:"01105",name:"XÃ£ VÄƒn BÃ¬nh"},{code:"01106",name:"XÃ£ LiÃªn PhÆ°Æ¡ng"},{code:"01107",name:"XÃ£ PhÃº XuyÃªn"},{code:"01108",name:"XÃ£ PhÃº YÃªn"},{code:"01109",name:"XÃ£ Äáº¡i XuyÃªn"},{code:"01110",name:"XÃ£ HoÃ i Äá»©c"},{code:"01111",name:"XÃ£ An KhÃ¡nh"},{code:"01112",name:"XÃ£ Äá»©c ThÆ°á»£ng"},{code:"01113",name:"XÃ£ Äan PhÆ°á»£ng"},{code:"01114",name:"XÃ£ LiÃªn HÃ "},{code:"01115",name:"XÃ£ Thá» An"},{code:"01116",name:"XÃ£ Quá»‘c Oai"},{code:"01117",name:"XÃ£ HÆ°ng Äáº¡o"},{code:"01118",name:"XÃ£ HÃ²a Tháº¡ch"},{code:"01119",name:"XÃ£ Tháº¡ch Tháº¥t"},{code:"01120",name:"XÃ£ Kim Quan"},{code:"01121",name:"XÃ£ Ba VÃ¬"},{code:"01122",name:"XÃ£ Táº£n LÄ©nh"},{code:"01123",name:"XÃ£ VÃ¢n HÃ²a"},{code:"01124",name:"XÃ£ SÆ¡n TÃ¢y"},{code:"01125",name:"XÃ£ ÄÆ°á»ng LÃ¢m"},{code:"01126",name:"XÃ£ Thanh Má»¹"}]},{code:"02",name:"Huáº¿",fullName:"Tá»‰nh Thá»«a ThiÃªn Huáº¿",wards:[{code:"02001",name:"PhÆ°á»ng PhÃº HÃ²a"},{code:"02002",name:"PhÆ°á»ng PhÃº CÃ¡t"},{code:"02003",name:"PhÆ°á»ng PhÃº Hiá»‡p"},{code:"02004",name:"PhÆ°á»ng PhÃº Háº­u"},{code:"02005",name:"PhÆ°á»ng Thuáº­n HÃ²a"},{code:"02006",name:"PhÆ°á»ng Thuáº­n Lá»™c"},{code:"02007",name:"PhÆ°á»ng Thuá»· Biá»u"},{code:"02008",name:"PhÆ°á»ng Thuá»· XuÃ¢n"},{code:"02009",name:"PhÆ°á»ng An Cá»±u"},{code:"02010",name:"PhÆ°á»ng An HÃ²a"},{code:"02011",name:"PhÆ°á»ng HÆ°Æ¡ng SÆ¡"},{code:"02012",name:"PhÆ°á»ng Thuáº­n ThÃ nh"},{code:"02013",name:"PhÆ°á»ng PhÆ°á»ng ÄÃºc"},{code:"02014",name:"PhÆ°á»ng VÄ© Dáº¡"},{code:"02015",name:"PhÆ°á»ng PhÃº Nhuáº­n"},{code:"02016",name:"PhÆ°á»ng PhÃº Thuáº­n"},{code:"02017",name:"PhÆ°á»ng XuÃ¢n PhÃº"},{code:"02018",name:"PhÆ°á»ng TrÆ°á»ng An"},{code:"02019",name:"PhÆ°á»ng PhÆ°á»›c VÄ©nh"},{code:"02020",name:"PhÆ°á»ng An ÄÃ´ng"},{code:"02021",name:"PhÆ°á»ng An TÃ¢y"}]},{code:"03",name:"Quáº£ng Ninh",fullName:"Tá»‰nh Quáº£ng Ninh",wards:[{code:"03001",name:"PhÆ°á»ng BÃ£i ChÃ¡y"},{code:"03002",name:"PhÆ°á»ng Cao Tháº¯ng"},{code:"03003",name:"PhÆ°á»ng Cao Xanh"},{code:"03004",name:"PhÆ°á»ng Giáº¿ng ÄÃ¡y"},{code:"03005",name:"PhÆ°á»ng HÃ  KhÃ¡nh"},{code:"03006",name:"PhÆ°á»ng HÃ  Kháº©u"},{code:"03007",name:"PhÆ°á»ng HÃ  Láº§m"},{code:"03008",name:"PhÆ°á»ng HÃ  Phong"},{code:"03009",name:"PhÆ°á»ng HÃ  Trung"},{code:"03010",name:"PhÆ°á»ng HÃ  Tu"},{code:"03011",name:"PhÆ°á»ng Há»“ng HÃ "},{code:"03012",name:"PhÆ°á»ng Há»“ng Háº£i"},{code:"03013",name:"PhÆ°á»ng HÃ¹ng Tháº¯ng"},{code:"03014",name:"PhÆ°á»ng Tuáº§n ChÃ¢u"},{code:"03015",name:"PhÆ°á»ng Viá»‡t HÆ°ng"},{code:"03016",name:"PhÆ°á»ng Yáº¿t KiÃªu"},{code:"03017",name:"PhÆ°á»ng Cáº©m ÄÃ´ng"},{code:"03018",name:"PhÆ°á»ng Cáº©m SÆ¡n"},{code:"03019",name:"PhÆ°á»ng Cáº©m Tháº¡ch"},{code:"03020",name:"PhÆ°á»ng Cáº©m ThÃ nh"},{code:"03021",name:"PhÆ°á»ng Cáº©m Thá»‹nh"},{code:"03022",name:"PhÆ°á»ng Cáº©m Thuá»·"},{code:"03023",name:"PhÆ°á»ng Cáº©m Trung"},{code:"03024",name:"PhÆ°á»ng Cáº©m TÃ¢y"},{code:"03025",name:"PhÆ°á»ng MÃ´ng DÆ°Æ¡ng"}]},{code:"04",name:"Cao Báº±ng",fullName:"Tá»‰nh Cao Báº±ng",wards:[{code:"04001",name:"PhÆ°á»ng SÃ´ng Báº±ng"},{code:"04002",name:"PhÆ°á»ng SÃ´ng Hiáº¿n"},{code:"04003",name:"PhÆ°á»ng Há»£p Giang"},{code:"04004",name:"PhÆ°á»ng TÃ¢n Giang"},{code:"04005",name:"PhÆ°á»ng Ngá»c XuÃ¢n"},{code:"04006",name:"PhÆ°á»ng Äá» ThÃ¡m"},{code:"04007",name:"PhÆ°á»ng HoÃ  Chung"},{code:"04008",name:"PhÆ°á»ng Duyá»‡t Trung"},{code:"04009",name:"XÃ£ VÄ©nh Quang"},{code:"04010",name:"XÃ£ HÆ°ng Äáº¡o"},{code:"04011",name:"XÃ£ Chu Trinh"}]},{code:"05",name:"Láº¡ng SÆ¡n",fullName:"Tá»‰nh Láº¡ng SÆ¡n",wards:[{code:"05001",name:"PhÆ°á»ng HoÃ ng VÄƒn Thá»¥"},{code:"05002",name:"PhÆ°á»ng Tam Thanh"},{code:"05003",name:"PhÆ°á»ng VÄ©nh Tráº¡i"},{code:"05004",name:"PhÆ°á»ng ÄÃ´ng Kinh"},{code:"05005",name:"PhÆ°á»ng Chi LÄƒng"},{code:"05006",name:"XÃ£ HoÃ ng Äá»“ng"},{code:"05007",name:"XÃ£ Quáº£ng Láº¡c"},{code:"05008",name:"XÃ£ Mai Pha"}]},{code:"06",name:"Lai ChÃ¢u",fullName:"Tá»‰nh Lai ChÃ¢u",wards:[{code:"06001",name:"PhÆ°á»ng Quyáº¿t Tháº¯ng"},{code:"06002",name:"PhÆ°á»ng TÃ¢n Phong"},{code:"06003",name:"PhÆ°á»ng ÄoÃ n Káº¿t"},{code:"06004",name:"PhÆ°á»ng Quyáº¿t Tiáº¿n"},{code:"06005",name:"XÃ£ SÃ¹ng PhÃ i"},{code:"06006",name:"XÃ£ TÃ¢n Phong"},{code:"06007",name:"XÃ£ San ThÃ ng"}]},{code:"07",name:"Äiá»‡n BiÃªn",fullName:"Tá»‰nh Äiá»‡n BiÃªn",wards:[{code:"07001",name:"PhÆ°á»ng Noong Bua"},{code:"07002",name:"PhÆ°á»ng Him Lam"},{code:"07003",name:"PhÆ°á»ng Thanh BÃ¬nh"},{code:"07004",name:"PhÆ°á»ng TÃ¢n Thanh"},{code:"07005",name:"PhÆ°á»ng MÆ°á»ng Thanh"},{code:"07006",name:"PhÆ°á»ng Nam Thanh"},{code:"07007",name:"PhÆ°á»ng Thanh TrÆ°á»ng"}]},{code:"08",name:"SÆ¡n La",fullName:"Tá»‰nh SÆ¡n La",wards:[{code:"08001",name:"PhÆ°á»ng Chiá»ng Lá»"},{code:"08002",name:"PhÆ°á»ng TÃ´ Hiá»‡u"},{code:"08003",name:"PhÆ°á»ng Quyáº¿t Tháº¯ng"},{code:"08004",name:"PhÆ°á»ng Quyáº¿t TÃ¢m"},{code:"08005",name:"XÃ£ Chiá»ng Cá»"},{code:"08006",name:"XÃ£ Chiá»ng Äen"},{code:"08007",name:"XÃ£ Chiá»ng XÃ´m"}]},{code:"09",name:"Thanh HÃ³a",fullName:"Tá»‰nh Thanh HÃ³a",wards:[{code:"09001",name:"PhÆ°á»ng Äiá»‡n BiÃªn"},{code:"09002",name:"PhÆ°á»ng Lam SÆ¡n"},{code:"09003",name:"PhÆ°á»ng Ba ÄÃ¬nh"},{code:"09004",name:"PhÆ°á»ng Ngá»c Tráº¡o"},{code:"09005",name:"PhÆ°á»ng ÄÃ´ng Thá»"},{code:"09006",name:"PhÆ°á»ng Nam Ngáº¡n"},{code:"09007",name:"PhÆ°á»ng TrÆ°á»ng Thi"},{code:"09008",name:"PhÆ°á»ng ÄÃ´ng Vá»‡"},{code:"09009",name:"PhÆ°á»ng PhÃº SÆ¡n"},{code:"09010",name:"PhÆ°á»ng TÃ¢n SÆ¡n"},{code:"09011",name:"PhÆ°á»ng ÄÃ´ng CÆ°Æ¡ng"},{code:"09012",name:"PhÆ°á»ng ÄÃ´ng SÆ¡n"},{code:"09013",name:"PhÆ°á»ng TÃ¢y SÆ¡n"},{code:"09014",name:"PhÆ°á»ng Quáº£ng HÆ°ng"},{code:"09015",name:"PhÆ°á»ng Quáº£ng Tháº¯ng"},{code:"09016",name:"PhÆ°á»ng Quáº£ng ThÃ nh"}]},{code:"10",name:"Nghá»‡ An",fullName:"Tá»‰nh Nghá»‡ An",wards:[{code:"10001",name:"XÃ£ Anh SÆ¡n"},{code:"10002",name:"XÃ£ YÃªn XuÃ¢n"},{code:"10003",name:"XÃ£ NhÃ¢n HÃ²a"},{code:"10004",name:"XÃ£ Anh SÆ¡n ÄÃ´ng"},{code:"10005",name:"XÃ£ VÄ©nh TÆ°á»ng"},{code:"10006",name:"XÃ£ ThÃ nh BÃ¬nh Thá»"},{code:"10007",name:"XÃ£ Con CuÃ´ng"},{code:"10008",name:"XÃ£ MÃ´n SÆ¡n"},{code:"10009",name:"XÃ£ Máº­u Tháº¡ch"},{code:"10010",name:"XÃ£ Cam Phá»¥c"},{code:"10011",name:"XÃ£ ChÃ¢u KhÃª"},{code:"10012",name:"XÃ£ Diá»…n ChÃ¢u"},{code:"10013",name:"XÃ£ Äá»©c ChÃ¢u"},{code:"10014",name:"XÃ£ Quáº£ng ChÃ¢u"},{code:"10015",name:"XÃ£ Háº£i ChÃ¢u"},{code:"10016",name:"XÃ£ TÃ¢n ChÃ¢u"},{code:"10017",name:"XÃ£ An ChÃ¢u"},{code:"10018",name:"XÃ£ Minh ChÃ¢u"},{code:"10019",name:"XÃ£ HÃ¹ng ChÃ¢u"},{code:"10020",name:"XÃ£ ÄÃ´ LÆ°Æ¡ng"},{code:"10021",name:"XÃ£ Báº¡ch Ngá»c"},{code:"10022",name:"XÃ£ VÄƒn Hiáº¿n"},{code:"10023",name:"XÃ£ Báº¡ch HÃ "},{code:"10024",name:"XÃ£ Thuáº§n Trung"},{code:"10025",name:"XÃ£ LÆ°Æ¡ng SÆ¡n"},{code:"10026",name:"XÃ£ HÆ°ng NguyÃªn"},{code:"10027",name:"XÃ£ YÃªn Trung"},{code:"10028",name:"XÃ£ HÆ°ng NguyÃªn Nam"},{code:"10029",name:"XÃ£ Lam ThÃ nh"},{code:"10030",name:"XÃ£ ChiÃªu LÆ°u"},{code:"10031",name:"XÃ£ Há»¯u Kiá»‡m"},{code:"10032",name:"XÃ£ MÆ°á»ng TÃ­p"},{code:"10033",name:"XÃ£ MÆ°á»ng XÃ©n"},{code:"10034",name:"XÃ£ Na Loi"},{code:"10035",name:"XÃ£ Na Ngoi"},{code:"10036",name:"XÃ£ Náº­m Cáº¯n"},{code:"10037",name:"XÃ£ Kim LiÃªn"},{code:"10038",name:"XÃ£ Váº¡n An"},{code:"10039",name:"XÃ£ Nam ÄÃ n"},{code:"10040",name:"XÃ£ Äáº¡i Huá»‡"},{code:"10041",name:"XÃ£ ThiÃªn Nháº«n"},{code:"10042",name:"XÃ£ NghÄ©a ÄÃ n"},{code:"10043",name:"XÃ£ NghÄ©a Thá»"},{code:"10044",name:"XÃ£ NghÄ©a LÃ¢m"},{code:"10045",name:"XÃ£ NghÄ©a Mai"},{code:"10046",name:"XÃ£ NghÄ©a HÆ°ng"},{code:"10047",name:"XÃ£ NghÄ©a KhÃ¡nh"},{code:"10048",name:"XÃ£ NghÄ©a Lá»™c"},{code:"10049",name:"XÃ£ Nghi Lá»™c"},{code:"10050",name:"XÃ£ PhÃºc Lá»™c"},{code:"10051",name:"XÃ£ ÄÃ´ng Lá»™c"},{code:"10052",name:"XÃ£ Trung Lá»™c"},{code:"10053",name:"XÃ£ Háº£i Lá»™c"},{code:"10054",name:"XÃ£ VÄƒn Kiá»u"},{code:"10055",name:"XÃ£ MÆ°á»ng QuÃ ng"},{code:"10056",name:"XÃ£ Quáº¿ Phong"},{code:"10057",name:"XÃ£ ThÃ´ng Thá»¥"},{code:"10058",name:"XÃ£ Tiá»n Phong"},{code:"10059",name:"XÃ£ Tri Lá»…"},{code:"10060",name:"XÃ£ Quá»³ ChÃ¢u"},{code:"10061",name:"XÃ£ ChÃ¢u Tiáº¿n"},{code:"10062",name:"XÃ£ HÃ¹ng ChÃ¢n"},{code:"10063",name:"XÃ£ Quá»³ Há»£p"},{code:"10064",name:"XÃ£ Tam Há»£p"},{code:"10065",name:"XÃ£ ChÃ¢u Lá»™c"},{code:"10066",name:"XÃ£ ChÃ¢u Há»“ng"},{code:"10067",name:"XÃ£ MÆ°á»ng Ham"},{code:"10068",name:"XÃ£ MÆ°á»ng Chá»ng"},{code:"10069",name:"XÃ£ Minh Há»£p"},{code:"10070",name:"XÃ£ Quá»³nh LÆ°u"},{code:"10071",name:"XÃ£ Quá»³nh VÄƒn"},{code:"10072",name:"XÃ£ Quá»³nh Anh"},{code:"10073",name:"XÃ£ Quá»³nh Tam"},{code:"10074",name:"XÃ£ Quá»³nh PhÃº"},{code:"10075",name:"XÃ£ Quá»³nh SÆ¡n"},{code:"10076",name:"XÃ£ Quá»³nh Tháº¯ng"},{code:"10077",name:"XÃ£ TÃ¢n Ká»³"},{code:"10078",name:"XÃ£ TÃ¢n PhÃº"},{code:"10079",name:"XÃ£ TÃ¢n An"},{code:"10080",name:"XÃ£ NghÄ©a Äá»“ng"},{code:"10081",name:"XÃ£ Giai XuÃ¢n"},{code:"10082",name:"XÃ£ NghÄ©a HÃ nh"},{code:"10083",name:"XÃ£ TiÃªn Äá»“ng"},{code:"10084",name:"XÃ£ ÄÃ´ng Hiáº¿u"},{code:"10085",name:"XÃ£ BÃ­ch HÃ o"},{code:"10086",name:"XÃ£ CÃ¡t Ngáº¡n"},{code:"10087",name:"XÃ£ Äáº¡i Äá»“ng"},{code:"10088",name:"XÃ£ Háº¡nh LÃ¢m"},{code:"10089",name:"XÃ£ Hoa QuÃ¢n"},{code:"10090",name:"XÃ£ Kim Báº£ng"},{code:"10091",name:"XÃ£ SÆ¡n LÃ¢m"},{code:"10092",name:"XÃ£ Tam Äá»“ng"},{code:"10093",name:"XÃ£ XuÃ¢n LÃ¢m"},{code:"10094",name:"XÃ£ Nga My"},{code:"10095",name:"XÃ£ NhÃ´n Mai"},{code:"10096",name:"XÃ£ Tam Quang"},{code:"10097",name:"XÃ£ Tam ThÃ¡i"},{code:"10098",name:"XÃ£ TÆ°Æ¡ng DÆ°Æ¡ng"},{code:"10099",name:"XÃ£ YÃªn HÃ²a"},{code:"10100",name:"XÃ£ YÃªn Na"},{code:"10101",name:"XÃ£ YÃªn ThÃ nh"},{code:"10102",name:"XÃ£ Quan ThÃ nh"},{code:"10103",name:"XÃ£ Há»£p Minh"},{code:"10104",name:"XÃ£ VÃ¢n Tá»¥"},{code:"10105",name:"XÃ£ VÃ¢n Du"},{code:"10106",name:"XÃ£ Quang Äá»“ng"},{code:"10107",name:"XÃ£ Giai Láº¡c"},{code:"10108",name:"XÃ£ BÃ¬nh Minh"},{code:"10109",name:"XÃ£ ÄÃ´ng ThÃ nh"},{code:"10110",name:"PhÆ°á»ng HoÃ ng Mai"},{code:"10111",name:"PhÆ°á»ng Quá»³nh Mai"},{code:"10112",name:"PhÆ°á»ng TÃ¢n Mai"},{code:"10113",name:"PhÆ°á»ng ThÃ¡i HÃ²a"},{code:"10114",name:"PhÆ°á»ng TÃ¢y Hiáº¿u"},{code:"10115",name:"PhÆ°á»ng TrÆ°á»ng Vinh"},{code:"10116",name:"PhÆ°á»ng ThÃ nh Vinh"},{code:"10117",name:"PhÆ°á»ng Vinh HÆ°ng"},{code:"10118",name:"PhÆ°á»ng Vinh PhÃº"},{code:"10119",name:"PhÆ°á»ng Vinh Lá»™c"},{code:"10120",name:"PhÆ°á»ng Cá»­a LÃ²"},{code:"10121",name:"XÃ£ Keng Äu"},{code:"10122",name:"XÃ£ Má»¹ LÃ½"},{code:"10123",name:"XÃ£ Báº¯c LÃ½"},{code:"10124",name:"XÃ£ Huá»“i Tá»¥"},{code:"10125",name:"XÃ£ MÆ°á»ng Lá»‘ng"},{code:"10126",name:"XÃ£ BÃ¬nh Chuáº©n"},{code:"10127",name:"XÃ£ Há»¯u KhuÃ´ng"},{code:"10128",name:"XÃ£ LÆ°á»£ng Minh"},{code:"10129",name:"XÃ£ ChÃ¢u BÃ¬nh"}]},{code:"11",name:"HÃ  TÄ©nh",fullName:"Tá»‰nh HÃ  TÄ©nh",wards:[{code:"11001",name:"PhÆ°á»ng Tráº§n PhÃº"},{code:"11002",name:"PhÆ°á»ng Nam HÃ "},{code:"11003",name:"PhÆ°á»ng Báº¯c HÃ "},{code:"11004",name:"PhÆ°á»ng Nguyá»…n Du"},{code:"11005",name:"PhÆ°á»ng TÃ¢n Giang"},{code:"11006",name:"PhÆ°á»ng Äáº¡i NÃ i"},{code:"11007",name:"PhÆ°á»ng HÃ  Huy Táº­p"},{code:"11008",name:"PhÆ°á»ng Tháº¡ch MÃ´n"},{code:"11009",name:"PhÆ°á»ng Tháº¡ch Trung"},{code:"11010",name:"PhÆ°á»ng Tháº¡ch QuÃ½"},{code:"11011",name:"PhÆ°á»ng Tháº¡ch Linh"},{code:"11012",name:"PhÆ°á»ng VÄƒn YÃªn"}]},{code:"12",name:"TuyÃªn Quang",fullName:"Tá»‰nh TuyÃªn Quang",wards:[{code:"12001",name:"PhÆ°á»ng Phan Thiáº¿t"},{code:"12002",name:"PhÆ°á»ng Minh XuÃ¢n"},{code:"12003",name:"PhÆ°á»ng TÃ¢n Quang"},{code:"12004",name:"PhÆ°á»ng NÃ´ng Tiáº¿n"},{code:"12005",name:"PhÆ°á»ng á»¶ La"},{code:"12006",name:"PhÆ°á»ng TÃ¢n HÃ "},{code:"12007",name:"PhÆ°á»ng HÆ°ng ThÃ nh"},{code:"12008",name:"XÃ£ An TÆ°á»ng"},{code:"12009",name:"XÃ£ LÆ°á»¡ng VÆ°á»£ng"},{code:"12010",name:"XÃ£ ThÃ¡i Long"}]},{code:"13",name:"LÃ o Cai",fullName:"Tá»‰nh LÃ o Cai",wards:[{code:"13001",name:"PhÆ°á»ng DuyÃªn Háº£i"},{code:"13002",name:"PhÆ°á»ng LÃ o Cai"},{code:"13003",name:"PhÆ°á»ng Cá»‘c Láº¿u"},{code:"13004",name:"PhÆ°á»ng Kim TÃ¢n"},{code:"13005",name:"PhÆ°á»ng Báº¯c Lá»‡nh"},{code:"13006",name:"PhÆ°á»ng Pom HÃ¡n"},{code:"13007",name:"PhÆ°á»ng XuÃ¢n TÄƒng"},{code:"13008",name:"PhÆ°á»ng BÃ¬nh Minh"},{code:"13009",name:"XÃ£ Thá»‘ng Nháº¥t"},{code:"13010",name:"XÃ£ Äá»“ng Tuyá»ƒn"},{code:"13011",name:"XÃ£ Váº¡n HoÃ "}]},{code:"14",name:"ThÃ¡i NguyÃªn",fullName:"Tá»‰nh ThÃ¡i NguyÃªn",wards:[{code:"14001",name:"PhÆ°á»ng Quang Trung"},{code:"14002",name:"PhÆ°á»ng Phan ÄÃ¬nh PhÃ¹ng"},{code:"14003",name:"PhÆ°á»ng TrÆ°ng VÆ°Æ¡ng"},{code:"14004",name:"PhÆ°á»ng Quang Vinh"},{code:"14005",name:"PhÆ°á»ng TÃºc DuyÃªn"},{code:"14006",name:"PhÆ°á»ng HoÃ ng VÄƒn Thá»¥"},{code:"14007",name:"PhÆ°á»ng Tráº§n PhÃº"},{code:"14008",name:"PhÆ°á»ng TÃ¢n Thá»‹nh"},{code:"14009",name:"PhÆ°á»ng Thá»‹nh ÄÃ¡n"},{code:"14010",name:"PhÆ°á»ng Äá»“ng Quang"},{code:"14011",name:"PhÆ°á»ng Gia SÃ ng"},{code:"14012",name:"PhÆ°á»ng TÃ¢n Láº­p"},{code:"14013",name:"PhÆ°á»ng Cam GiÃ¡"},{code:"14014",name:"PhÆ°á»ng PhÃº XÃ¡"},{code:"14015",name:"PhÆ°á»ng HÆ°Æ¡ng SÆ¡n"}]},{code:"15",name:"PhÃº Thá»",fullName:"Tá»‰nh PhÃº Thá»",wards:[{code:"15001",name:"PhÆ°á»ng TiÃªn CÃ¡t"},{code:"15002",name:"PhÆ°á»ng Thá» SÆ¡n"},{code:"15003",name:"PhÆ°á»ng Thanh Miáº¿u"},{code:"15004",name:"PhÆ°á»ng Báº¡ch Háº¡c"},{code:"15005",name:"PhÆ°á»ng Báº¿n GÃ³t"},{code:"15006",name:"PhÆ°á»ng VÃ¢n CÆ¡"},{code:"15007",name:"PhÆ°á»ng Gia Cáº©m"},{code:"15008",name:"PhÆ°á»ng Minh PhÆ°Æ¡ng"},{code:"15009",name:"PhÆ°á»ng Minh NÃ´ng"},{code:"15010",name:"PhÆ°á»ng VÄƒn Lung"},{code:"15011",name:"PhÆ°á»ng NÃ´ng Trang"},{code:"15012",name:"PhÆ°á»ng TÃ¢n DÃ¢n"}]},{code:"16",name:"Báº¯c Ninh",fullName:"Tá»‰nh Báº¯c Ninh",wards:[{code:"16001",name:"PhÆ°á»ng VÅ© Ninh"},{code:"16002",name:"PhÆ°á»ng ÄÃ¡p Cáº§u"},{code:"16003",name:"PhÆ°á»ng Thá»‹ Cáº§u"},{code:"16004",name:"PhÆ°á»ng Kinh Báº¯c"},{code:"16005",name:"PhÆ°á»ng Vá»‡ An"},{code:"16006",name:"PhÆ°á»ng Tiá»n An"},{code:"16007",name:"PhÆ°á»ng Äáº¡i PhÃºc"},{code:"16008",name:"PhÆ°á»ng Ninh XÃ¡"},{code:"16009",name:"PhÆ°á»ng Suá»‘i Hoa"},{code:"16010",name:"PhÆ°á»ng VÃµ CÆ°á»ng"},{code:"16011",name:"PhÆ°á»ng HÃ²a Long"},{code:"16012",name:"PhÆ°á»ng Váº¡n An"},{code:"16013",name:"PhÆ°á»ng KhÃºc XuyÃªn"},{code:"16014",name:"PhÆ°á»ng Phong KhÃª"},{code:"16015",name:"PhÆ°á»ng Kim ChÃ¢n"}]},{code:"17",name:"HÆ°ng YÃªn",fullName:"Tá»‰nh HÆ°ng YÃªn",wards:[{code:"17001",name:"PhÆ°á»ng Lam SÆ¡n"},{code:"17002",name:"PhÆ°á»ng Hiáº¿n Nam"},{code:"17003",name:"PhÆ°á»ng An Táº£o"},{code:"17004",name:"PhÆ°á»ng LÃª Lá»£i"},{code:"17005",name:"PhÆ°á»ng Minh Khai"},{code:"17006",name:"PhÆ°á»ng Quang Trung"},{code:"17007",name:"PhÆ°á»ng Há»“ng ChÃ¢u"},{code:"17008",name:"XÃ£ Trung NghÄ©a"},{code:"17009",name:"XÃ£ LiÃªn PhÆ°Æ¡ng"},{code:"17010",name:"XÃ£ HÃ¹ng CÆ°á»ng"}]},{code:"18",name:"Háº£i PhÃ²ng",fullName:"ThÃ nh phá»‘ Háº£i PhÃ²ng",wards:[{code:"18001",name:"PhÆ°á»ng QuÃ¡n Toan"},{code:"18002",name:"PhÆ°á»ng Háº¡ LÃ½"},{code:"18003",name:"PhÆ°á»ng Minh Khai"},{code:"18004",name:"PhÆ°á»ng Tráº¡i Cau"},{code:"18005",name:"PhÆ°á»ng Phan Bá»™i ChÃ¢u"},{code:"18006",name:"PhÆ°á»ng HoÃ ng VÄƒn Thá»¥"},{code:"18007",name:"PhÆ°á»ng Sá»Ÿ Dáº§u"},{code:"18008",name:"PhÆ°á»ng ThÆ°á»£ng LÃ½"},{code:"18009",name:"PhÆ°á»ng HÃ ng KÃªnh"},{code:"18010",name:"PhÆ°á»ng CÃ¡t DÃ i"},{code:"18011",name:"PhÆ°á»ng An BiÃªn"},{code:"18012",name:"PhÆ°á»ng Lam SÆ¡n"},{code:"18013",name:"PhÆ°á»ng An DÆ°Æ¡ng"},{code:"18014",name:"PhÆ°á»ng Tráº§n NguyÃªn HÃ£n"},{code:"18015",name:"PhÆ°á»ng Há»“ Nam"},{code:"18016",name:"PhÆ°á»ng Tráº¡i Chuá»‘i"},{code:"18017",name:"PhÆ°á»ng ÄÃ´ng KhÃª"},{code:"18018",name:"PhÆ°á»ng CÃ¡t Bi"},{code:"18019",name:"PhÆ°á»ng NghÄ©a XÃ¡"},{code:"18020",name:"PhÆ°á»ng MÃ¡y Chai"}]},{code:"19",name:"Ninh BÃ¬nh",fullName:"Tá»‰nh Ninh BÃ¬nh",wards:[{code:"19001",name:"PhÆ°á»ng ÄÃ´ng ThÃ nh"},{code:"19002",name:"PhÆ°á»ng TÃ¢n ThÃ nh"},{code:"19003",name:"PhÆ°á»ng Thanh BÃ¬nh"},{code:"19004",name:"PhÆ°á»ng VÃ¢n Giang"},{code:"19005",name:"PhÆ°á»ng BÃ­ch ÄÃ o"},{code:"19006",name:"PhÆ°á»ng PhÃºc ThÃ nh"},{code:"19007",name:"PhÆ°á»ng Nam BÃ¬nh"},{code:"19008",name:"PhÆ°á»ng Nam ThÃ nh"},{code:"19009",name:"PhÆ°á»ng Ninh KhÃ¡nh"},{code:"19010",name:"XÃ£ Ninh Nháº¥t"},{code:"19011",name:"XÃ£ Ninh Tiáº¿n"},{code:"19012",name:"XÃ£ Ninh PhÃºc"}]},{code:"20",name:"Quáº£ng Trá»‹",fullName:"Tá»‰nh Quáº£ng Trá»‹",wards:[{code:"20001",name:"PhÆ°á»ng 1"},{code:"20002",name:"PhÆ°á»ng 2"},{code:"20003",name:"PhÆ°á»ng 3"},{code:"20004",name:"PhÆ°á»ng 4"},{code:"20005",name:"PhÆ°á»ng 5"},{code:"20006",name:"XÃ£ ÄÃ´ng Giang"},{code:"20007",name:"XÃ£ ÄÃ´ng Lá»…"},{code:"20008",name:"XÃ£ ÄÃ´ng LÆ°Æ¡ng"}]},{code:"21",name:"ÄÃ  Náºµng",fullName:"ThÃ nh phá»‘ ÄÃ  Náºµng",wards:[{code:"21001",name:"PhÆ°á»ng Tháº¡ch Thang"},{code:"21002",name:"PhÆ°á»ng Háº£i ChÃ¢u I"},{code:"21003",name:"PhÆ°á»ng Háº£i ChÃ¢u II"},{code:"21004",name:"PhÆ°á»ng PhÆ°á»›c Ninh"},{code:"21005",name:"PhÆ°á»ng HÃ²a Thuáº­n TÃ¢y"},{code:"21006",name:"PhÆ°á»ng HÃ²a Thuáº­n ÄÃ´ng"},{code:"21007",name:"PhÆ°á»ng Nam DÆ°Æ¡ng"},{code:"21008",name:"PhÆ°á»ng BÃ¬nh HiÃªn"},{code:"21009",name:"PhÆ°á»ng BÃ¬nh Thuáº­n"},{code:"21010",name:"PhÆ°á»ng HÃ²a CÆ°á»ng Báº¯c"},{code:"21011",name:"PhÆ°á»ng HÃ²a CÆ°á»ng Nam"},{code:"21012",name:"PhÆ°á»ng Thanh BÃ¬nh"},{code:"21013",name:"PhÆ°á»ng Thuáº­n PhÆ°á»›c"},{code:"21014",name:"PhÆ°á»ng TÃ¢n ChÃ­nh"},{code:"21015",name:"PhÆ°á»ng Thanh KhÃª TÃ¢y"},{code:"21016",name:"PhÆ°á»ng Thanh KhÃª ÄÃ´ng"},{code:"21017",name:"PhÆ°á»ng XuÃ¢n HÃ "},{code:"21018",name:"PhÆ°á»ng TÃ¢n An"},{code:"21019",name:"PhÆ°á»ng ChÃ­nh GiÃ¡n"},{code:"21020",name:"PhÆ°á»ng VÄ©nh Trung"},{code:"21021",name:"PhÆ°á»ng Thá» Quang"},{code:"21022",name:"PhÆ°á»ng Náº¡i HiÃªn ÄÃ´ng"},{code:"21023",name:"PhÆ°á»ng MÃ¢n ThÃ¡i"},{code:"21024",name:"PhÆ°á»ng An Háº£i Báº¯c"},{code:"21025",name:"PhÆ°á»ng An Háº£i ÄÃ´ng"}]},{code:"22",name:"Quáº£ng NgÃ£i",fullName:"Tá»‰nh Quáº£ng NgÃ£i",wards:[{code:"22001",name:"PhÆ°á»ng LÃª Há»“ng Phong"},{code:"22002",name:"PhÆ°á»ng Tráº§n PhÃº"},{code:"22003",name:"PhÆ°á»ng Quáº£ng PhÃº"},{code:"22004",name:"PhÆ°á»ng NghÄ©a ChÃ¡nh"},{code:"22005",name:"PhÆ°á»ng Tráº§n HÆ°ng Äáº¡o"},{code:"22006",name:"PhÆ°á»ng Nguyá»…n NghiÃªm"},{code:"22007",name:"PhÆ°á»ng NghÄ©a Lá»™"},{code:"22008",name:"PhÆ°á»ng ChÃ¡nh Lá»™"},{code:"22009",name:"XÃ£ NghÄ©a DÅ©ng"},{code:"22010",name:"XÃ£ NghÄ©a DÃµng"}]},{code:"23",name:"Gia Lai",fullName:"Tá»‰nh Gia Lai",wards:[{code:"23001",name:"PhÆ°á»ng YÃªn Äá»—"},{code:"23002",name:"PhÆ°á»ng DiÃªn Há»“ng"},{code:"23003",name:"PhÆ°á»ng Ia Kring"},{code:"23004",name:"PhÆ°á»ng Há»™i ThÆ°Æ¡ng"},{code:"23005",name:"PhÆ°á»ng Há»™i PhÃº"},{code:"23006",name:"PhÆ°á»ng PhÃ¹ Äá»•ng"},{code:"23007",name:"PhÆ°á»ng Hoa LÆ°"},{code:"23008",name:"PhÆ°á»ng TÃ¢y SÆ¡n"},{code:"23009",name:"PhÆ°á»ng Thá»‘ng Nháº¥t"},{code:"23010",name:"PhÆ°á»ng Äá»‘ng Äa"},{code:"23011",name:"PhÆ°á»ng TrÃ  BÃ¡"},{code:"23012",name:"PhÆ°á»ng Tháº¯ng Lá»£i"},{code:"23013",name:"PhÆ°á»ng YÃªn Tháº¿"},{code:"23014",name:"PhÆ°á»ng Chi LÄƒng"}]},{code:"24",name:"KhÃ¡nh HÃ²a",fullName:"Tá»‰nh KhÃ¡nh HÃ²a",wards:[{code:"24001",name:"PhÆ°á»ng VÄ©nh HÃ²a"},{code:"24002",name:"PhÆ°á»ng VÄ©nh PhÆ°á»›c"},{code:"24003",name:"PhÆ°á»ng VÄ©nh Thá»"},{code:"24004",name:"PhÆ°á»ng XÆ°Æ¡ng HuÃ¢n"},{code:"24005",name:"PhÆ°á»ng VÄ©nh TrÆ°á»ng"},{code:"24006",name:"PhÆ°á»ng Váº¡n Tháº¯ng"},{code:"24007",name:"PhÆ°á»ng Váº¡n Tháº¡nh"},{code:"24008",name:"PhÆ°á»ng PhÆ°Æ¡ng SÃ i"},{code:"24009",name:"PhÆ°á»ng PhÆ°Æ¡ng SÆ¡n"},{code:"24010",name:"PhÆ°á»ng PhÆ°á»›c Háº£i"},{code:"24011",name:"PhÆ°á»ng PhÆ°á»›c TÃ¢n"},{code:"24012",name:"PhÆ°á»ng Lá»™c Thá»"},{code:"24013",name:"PhÆ°á»ng PhÆ°á»›c Tiáº¿n"},{code:"24014",name:"PhÆ°á»ng TÃ¢n Láº­p"},{code:"24015",name:"PhÆ°á»ng PhÆ°á»›c HÃ²a"},{code:"24016",name:"PhÆ°á»ng VÄ©nh NguyÃªn"},{code:"24017",name:"PhÆ°á»ng VÄ©nh Tháº¡nh"},{code:"24018",name:"PhÆ°á»ng VÄ©nh Trung"},{code:"24019",name:"PhÆ°á»ng VÄ©nh LÆ°Æ¡ng"},{code:"24020",name:"PhÆ°á»ng VÄ©nh Hiá»‡p"}]},{code:"25",name:"LÃ¢m Äá»“ng",fullName:"Tá»‰nh LÃ¢m Äá»“ng",wards:[{code:"25001",name:"PhÆ°á»ng 1"},{code:"25002",name:"PhÆ°á»ng 2"},{code:"25003",name:"PhÆ°á»ng 3"},{code:"25004",name:"PhÆ°á»ng 4"},{code:"25005",name:"PhÆ°á»ng 5"},{code:"25006",name:"PhÆ°á»ng 6"},{code:"25007",name:"PhÆ°á»ng 7"},{code:"25008",name:"PhÆ°á»ng 8"},{code:"25009",name:"PhÆ°á»ng 9"},{code:"25010",name:"PhÆ°á»ng 10"},{code:"25011",name:"PhÆ°á»ng 11"},{code:"25012",name:"PhÆ°á»ng 12"},{code:"25013",name:"XÃ£ XuÃ¢n Thá»"},{code:"25014",name:"XÃ£ XuÃ¢n TrÆ°á»ng"},{code:"25015",name:"PhÆ°á»ng Lá»™c PhÃ¡t"},{code:"25016",name:"PhÆ°á»ng Lá»™c Tiáº¿n"},{code:"25017",name:"PhÆ°á»ng B Lao"},{code:"25018",name:"PhÆ°á»ng Äáº¡m Bri"},{code:"25019",name:"PhÆ°á»ng Lá»™c SÆ¡n"}]},{code:"26",name:"Äáº¯k Láº¯k",fullName:"Tá»‰nh Äáº¯k Láº¯k",wards:[{code:"26001",name:"PhÆ°á»ng TÃ¢n Lá»£i"},{code:"26002",name:"PhÆ°á»ng TÃ¢n HÃ²a"},{code:"26003",name:"PhÆ°á»ng TÃ¢n An"},{code:"26004",name:"PhÆ°á»ng Thá»‘ng Nháº¥t"},{code:"26005",name:"PhÆ°á»ng ThÃ nh Nháº¥t"},{code:"26006",name:"PhÆ°á»ng Tháº¯ng Lá»£i"},{code:"26007",name:"PhÆ°á»ng TÃ¢n Láº­p"},{code:"26008",name:"PhÆ°á»ng TÃ¢n Tiáº¿n"},{code:"26009",name:"PhÆ°á»ng Tá»± An"},{code:"26010",name:"PhÆ°á»ng Ea Tam"},{code:"26011",name:"PhÆ°á»ng KhÃ¡nh XuÃ¢n"},{code:"26012",name:"XÃ£ HÃ²a Thuáº­n"},{code:"26013",name:"XÃ£ CÆ° ÃŠBur"},{code:"26014",name:"XÃ£ Ea Tu"}]},{code:"27",name:"Há»“ ChÃ­ Minh",fullName:"ThÃ nh phá»‘ Há»“ ChÃ­ Minh",wards:[{code:"27001",name:"PhÆ°á»ng Báº¿n NghÃ©"},{code:"27002",name:"PhÆ°á»ng Báº¿n ThÃ nh"},{code:"27003",name:"PhÆ°á»ng Nguyá»…n ThÃ¡i BÃ¬nh"},{code:"27004",name:"PhÆ°á»ng Pháº¡m NgÅ© LÃ£o"},{code:"27005",name:"PhÆ°á»ng Cáº§u Ã”ng LÃ£nh"},{code:"27006",name:"PhÆ°á»ng CÃ´ Giang"},{code:"27007",name:"PhÆ°á»ng Nguyá»…n CÆ° Trinh"},{code:"27008",name:"PhÆ°á»ng Cáº§u Kho"},{code:"27009",name:"PhÆ°á»ng Äa Kao"},{code:"27010",name:"PhÆ°á»ng TÃ¢n Äá»‹nh"},{code:"27011",name:"PhÆ°á»ng 1"},{code:"27012",name:"PhÆ°á»ng 2"},{code:"27013",name:"PhÆ°á»ng 3"},{code:"27014",name:"PhÆ°á»ng 4"},{code:"27015",name:"PhÆ°á»ng 5"},{code:"27016",name:"PhÆ°á»ng 6"},{code:"27017",name:"PhÆ°á»ng 7"},{code:"27018",name:"PhÆ°á»ng 8"},{code:"27019",name:"PhÆ°á»ng 9"},{code:"27020",name:"PhÆ°á»ng 10"},{code:"27021",name:"PhÆ°á»ng VÃµ Thá»‹ SÃ¡u"},{code:"27022",name:"PhÆ°á»ng Linh XuÃ¢n"},{code:"27023",name:"PhÆ°á»ng BÃ¬nh Chiá»ƒu"},{code:"27024",name:"PhÆ°á»ng Linh Trung"},{code:"27025",name:"PhÆ°á»ng Tam BÃ¬nh"},{code:"27026",name:"PhÆ°á»ng Tam PhÃº"},{code:"27027",name:"PhÆ°á»ng Hiá»‡p BÃ¬nh PhÆ°á»›c"},{code:"27028",name:"PhÆ°á»ng Hiá»‡p BÃ¬nh ChÃ¡nh"},{code:"27029",name:"PhÆ°á»ng Linh Chiá»ƒu"},{code:"27030",name:"PhÆ°á»ng Linh TÃ¢y"},{code:"27031",name:"PhÆ°á»ng Linh ÄÃ´ng"},{code:"27032",name:"PhÆ°á»ng BÃ¬nh Thá»"},{code:"27033",name:"PhÆ°á»ng TrÆ°á»ng Thá»"},{code:"27034",name:"PhÆ°á»ng Long BÃ¬nh"},{code:"27035",name:"PhÆ°á»ng Long Tháº¡nh Má»¹"},{code:"27036",name:"PhÆ°á»ng TÃ¢n PhÃº"},{code:"27037",name:"PhÆ°á»ng Hiá»‡p PhÃº"},{code:"27038",name:"PhÆ°á»ng TÄƒng NhÆ¡n PhÃº A"},{code:"27039",name:"PhÆ°á»ng TÄƒng NhÆ¡n PhÃº B"},{code:"27040",name:"PhÆ°á»ng PhÆ°á»›c Long B"},{code:"27041",name:"PhÆ°á»ng PhÆ°á»›c Long A"},{code:"27042",name:"PhÆ°á»ng TrÆ°á»ng Tháº¡nh"},{code:"27043",name:"PhÆ°á»ng Long PhÆ°á»›c"},{code:"27044",name:"PhÆ°á»ng Long TrÆ°á»ng"},{code:"27045",name:"PhÆ°á»ng PhÆ°á»›c BÃ¬nh"},{code:"27046",name:"PhÆ°á»ng PhÃº Há»¯u"},{code:"27047",name:"PhÆ°á»ng Tháº£o Äiá»n"},{code:"27048",name:"PhÆ°á»ng An PhÃº"},{code:"27049",name:"PhÆ°á»ng An KhÃ¡nh"},{code:"27050",name:"PhÆ°á»ng BÃ¬nh TrÆ°ng ÄÃ´ng"}]},{code:"28",name:"Äá»“ng Nai",fullName:"Tá»‰nh Äá»“ng Nai",wards:[{code:"28001",name:"PhÆ°á»ng Tráº£ng DÃ i"},{code:"28002",name:"PhÆ°á»ng TÃ¢n Phong"},{code:"28003",name:"PhÆ°á»ng TÃ¢n BiÃªn"},{code:"28004",name:"PhÆ°á»ng Há»‘ Nai"},{code:"28005",name:"PhÆ°á»ng TÃ¢n HÃ²a"},{code:"28006",name:"PhÆ°á»ng TÃ¢n Hiá»‡p"},{code:"28007",name:"PhÆ°á»ng Bá»­u Long"},{code:"28008",name:"PhÆ°á»ng TÃ¢n Tiáº¿n"},{code:"28009",name:"PhÆ°á»ng Tam Hiá»‡p"},{code:"28010",name:"PhÆ°á»ng Long BÃ¬nh"},{code:"28011",name:"PhÆ°á»ng Quang Vinh"},{code:"28012",name:"PhÆ°á»ng TÃ¢n Mai"},{code:"28013",name:"PhÆ°á»ng Thá»‘ng Nháº¥t"},{code:"28014",name:"PhÆ°á»ng Trung DÅ©ng"},{code:"28015",name:"PhÆ°á»ng Tam HÃ²a"},{code:"28016",name:"PhÆ°á»ng HÃ²a BÃ¬nh"},{code:"28017",name:"PhÆ°á»ng Quyáº¿t Tháº¯ng"},{code:"28018",name:"PhÆ°á»ng Thanh BÃ¬nh"},{code:"28019",name:"PhÆ°á»ng BÃ¬nh Äa"},{code:"28020",name:"PhÆ°á»ng An BÃ¬nh"}]},{code:"29",name:"TÃ¢y Ninh",fullName:"Tá»‰nh TÃ¢y Ninh",wards:[{code:"29001",name:"PhÆ°á»ng 1"},{code:"29002",name:"PhÆ°á»ng 2"},{code:"29003",name:"PhÆ°á»ng 3"},{code:"29004",name:"PhÆ°á»ng 4"},{code:"29005",name:"PhÆ°á»ng Hiá»‡p Ninh"},{code:"29006",name:"PhÆ°á»ng Ninh SÆ¡n"},{code:"29007",name:"PhÆ°á»ng Ninh Tháº¡nh"},{code:"29008",name:"XÃ£ Tháº¡nh TÃ¢n"},{code:"29009",name:"XÃ£ TÃ¢n BÃ¬nh"},{code:"29010",name:"XÃ£ BÃ¬nh Minh"}]},{code:"30",name:"Cáº§n ThÆ¡",fullName:"ThÃ nh phá»‘ Cáº§n ThÆ¡",wards:[{code:"30001",name:"PhÆ°á»ng TÃ¢n An"},{code:"30002",name:"PhÆ°á»ng An HÃ²a"},{code:"30003",name:"PhÆ°á»ng Thá»›i BÃ¬nh"},{code:"30004",name:"PhÆ°á»ng An Nghiá»‡p"},{code:"30005",name:"PhÆ°á»ng An CÆ°"},{code:"30006",name:"PhÆ°á»ng An PhÃº"},{code:"30007",name:"PhÆ°á»ng XuÃ¢n KhÃ¡nh"},{code:"30008",name:"PhÆ°á»ng HÆ°ng Lá»£i"},{code:"30009",name:"PhÆ°á»ng An KhÃ¡nh"},{code:"30010",name:"PhÆ°á»ng An BÃ¬nh"},{code:"30011",name:"PhÆ°á»ng LÃª BÃ¬nh"},{code:"30012",name:"PhÆ°á»ng HÆ°ng PhÃº"},{code:"30013",name:"PhÆ°á»ng HÆ°ng Tháº¡nh"},{code:"30014",name:"PhÆ°á»ng Ba LÃ¡ng"},{code:"30015",name:"PhÆ°á»ng ThÆ°á»ng Tháº¡nh"},{code:"30016",name:"PhÆ°á»ng PhÆ°á»›c Thá»›i"},{code:"30017",name:"PhÆ°á»ng TrÆ°á»ng Láº¡c"}]},{code:"31",name:"VÄ©nh Long",fullName:"Tá»‰nh VÄ©nh Long",wards:[{code:"31001",name:"PhÆ°á»ng 1"},{code:"31002",name:"PhÆ°á»ng 2"},{code:"31003",name:"PhÆ°á»ng 3"},{code:"31004",name:"PhÆ°á»ng 4"},{code:"31005",name:"PhÆ°á»ng 5"},{code:"31006",name:"PhÆ°á»ng 8"},{code:"31007",name:"PhÆ°á»ng 9"},{code:"31008",name:"XÃ£ TrÆ°á»ng An"},{code:"31009",name:"XÃ£ TÃ¢n NgÃ£i"},{code:"31010",name:"XÃ£ TÃ¢n HÃ²a"},{code:"31011",name:"XÃ£ TÃ¢n Há»™i"}]},{code:"32",name:"Äá»“ng ThÃ¡p",fullName:"Tá»‰nh Äá»“ng ThÃ¡p",wards:[{code:"32001",name:"PhÆ°á»ng 1"},{code:"32002",name:"PhÆ°á»ng 2"},{code:"32003",name:"PhÆ°á»ng 3"},{code:"32004",name:"PhÆ°á»ng 4"},{code:"32005",name:"PhÆ°á»ng 6"},{code:"32006",name:"PhÆ°á»ng 11"},{code:"32007",name:"PhÆ°á»ng Má»¹ PhÃº"},{code:"32008",name:"XÃ£ TÃ¢n Thuáº­n TÃ¢y"},{code:"32009",name:"XÃ£ TÃ¢n Thuáº­n ÄÃ´ng"},{code:"32010",name:"XÃ£ Tá»‹nh Thá»›i"}]},{code:"33",name:"CÃ  Mau",fullName:"Tá»‰nh CÃ  Mau",wards:[{code:"33001",name:"PhÆ°á»ng 1"},{code:"33002",name:"PhÆ°á»ng 2"},{code:"33003",name:"PhÆ°á»ng 4"},{code:"33004",name:"PhÆ°á»ng 5"},{code:"33005",name:"PhÆ°á»ng 6"},{code:"33006",name:"PhÆ°á»ng 7"},{code:"33007",name:"PhÆ°á»ng 8"},{code:"33008",name:"PhÆ°á»ng 9"},{code:"33009",name:"PhÆ°á»ng TÃ¢n ThÃ nh"},{code:"33010",name:"XÃ£ An XuyÃªn"},{code:"33011",name:"XÃ£ TÃ¢n XuyÃªn"}]},{code:"34",name:"An Giang",fullName:"Tá»‰nh An Giang",wards:[{code:"34001",name:"PhÆ°á»ng Má»¹ BÃ¬nh"},{code:"34002",name:"PhÆ°á»ng Má»¹ Long"},{code:"34003",name:"PhÆ°á»ng ÄÃ´ng XuyÃªn"},{code:"34004",name:"PhÆ°á»ng Má»¹ XuyÃªn"},{code:"34005",name:"PhÆ°á»ng BÃ¬nh Äá»©c"},{code:"34006",name:"PhÆ°á»ng BÃ¬nh KhÃ¡nh"},{code:"34007",name:"PhÆ°á»ng Má»¹ PhÆ°á»›c"},{code:"34008",name:"PhÆ°á»ng Má»¹ QuÃ½"},{code:"34009",name:"PhÆ°á»ng Má»¹ Tháº¡nh"},{code:"34010",name:"PhÆ°á»ng Má»¹ Thá»›i"},{code:"34011",name:"PhÆ°á»ng Má»¹ HoÃ "},{code:"34012",name:"XÃ£ Má»¹ KhÃ¡nh"},{code:"34013",name:"XÃ£ Má»¹ HoÃ  HÆ°ng"},{code:"34014",name:"PhÆ°á»ng ChÃ¢u PhÃº B"},{code:"34015",name:"PhÆ°á»ng ChÃ¢u PhÃº A"},{code:"34016",name:"PhÆ°á»ng VÄ©nh Má»¹"},{code:"34017",name:"PhÆ°á»ng NÃºi Sam"},{code:"34018",name:"PhÆ°á»ng VÄ©nh NgÆ°Æ¡n"},{code:"34019",name:"XÃ£ VÄ©nh Táº¿"},{code:"34020",name:"XÃ£ VÄ©nh ChÃ¢u"}]}],O=ge,fo={"TP.HCM":["Quáº­n 1","Quáº­n 3","Quáº­n 5","Quáº­n 10","PhÃº Nhuáº­n","TÃ¢n BÃ¬nh","BÃ¬nh Tháº¡nh","GÃ² Váº¥p","Thá»§ Äá»©c","BÃ¬nh TÃ¢n"],"HÃ  Ná»™i":["HoÃ n Kiáº¿m","Ba ÄÃ¬nh","Äá»‘ng Äa","Hai BÃ  TrÆ°ng","Cáº§u Giáº¥y","Thanh XuÃ¢n","TÃ¢y Há»“","Long BiÃªn","HoÃ ng Mai","Nam Tá»« LiÃªm"],"ÄÃ  Náºµng":["Háº£i ChÃ¢u","Thanh KhÃª","SÆ¡n TrÃ ","NgÅ© HÃ nh SÆ¡n","LiÃªn Chiá»ƒu","Cáº©m Lá»‡","HÃ²a Vang"],"Cáº§n ThÆ¡":["Ninh Kiá»u","BÃ¬nh Thá»§y","CÃ¡i RÄƒng","Ã” MÃ´n","Thá»‘t Ná»‘t"],"Háº£i PhÃ²ng":["Há»“ng BÃ ng","NgÃ´ Quyá»n","LÃª ChÃ¢n","Háº£i An","Kiáº¿n An","Äá»“ SÆ¡n"],"BÃ¬nh DÆ°Æ¡ng":["Thá»§ Dáº§u Má»™t","DÄ© An","Thuáº­n An","TÃ¢n UyÃªn","Báº¿n CÃ¡t"],"Äá»“ng Nai":["BiÃªn HÃ²a","Long KhÃ¡nh","NhÆ¡n Tráº¡ch","VÄ©nh Cá»­u"],"Long An":["TÃ¢n An","Kiáº¿n TÆ°á»ng","Äá»©c HÃ²a","Báº¿n Lá»©c"],"BÃ  Rá»‹a-VÅ©ng TÃ u":["VÅ©ng TÃ u","BÃ  Rá»‹a","PhÃº Má»¹","Long Äiá»n"],"KhÃ¡nh HÃ²a":["Nha Trang","Cam Ranh","Ninh HÃ²a","Váº¡n Ninh"]},vo={"Quáº­n 1":["PhÆ°á»ng Báº¿n NghÃ©","PhÆ°á»ng Báº¿n ThÃ nh","PhÆ°á»ng Nguyá»…n ThÃ¡i BÃ¬nh","PhÆ°á»ng Pháº¡m NgÅ© LÃ£o","PhÆ°á»ng Cáº§u Ã”ng LÃ£nh","PhÆ°á»ng Nguyá»…n CÆ° Trinh","PhÆ°á»ng TÃ¢n Äá»‹nh","PhÆ°á»ng Äa Kao","PhÆ°á»ng CÃ´ Giang","PhÆ°á»ng Cáº§u Kho"],"Quáº­n 3":["PhÆ°á»ng 1","PhÆ°á»ng 2","PhÆ°á»ng 3","PhÆ°á»ng 4","PhÆ°á»ng 5","PhÆ°á»ng 6","PhÆ°á»ng 7","PhÆ°á»ng 8","PhÆ°á»ng 9","PhÆ°á»ng 10"],"Quáº­n 5":["PhÆ°á»ng 1","PhÆ°á»ng 2","PhÆ°á»ng 3","PhÆ°á»ng 4","PhÆ°á»ng 5","PhÆ°á»ng 6","PhÆ°á»ng 7","PhÆ°á»ng 8","PhÆ°á»ng 9","PhÆ°á»ng 10"],"PhÃº Nhuáº­n":["PhÆ°á»ng 1","PhÆ°á»ng 2","PhÆ°á»ng 3","PhÆ°á»ng 4","PhÆ°á»ng 5","PhÆ°á»ng 7","PhÆ°á»ng 8","PhÆ°á»ng 9","PhÆ°á»ng 10","PhÆ°á»ng 11","PhÆ°á»ng 12","PhÆ°á»ng 13","PhÆ°á»ng 15","PhÆ°á»ng 17"]},K=["HÃ ng giáº£ â€“ HÃ ng nhÃ¡i","Gian láº­n thÆ°Æ¡ng máº¡i","An toÃ n thá»±c pháº©m","Vi pháº¡m vá» giÃ¡","Kinh doanh trÃ¡i phÃ©p","BuÃ´n láº­u â€“ Váº­n chuyá»ƒn trÃ¡i phÃ©p","ThÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ & Máº¡ng xÃ£ há»™i","Quáº£ng cÃ¡o sai pháº¡m","Thuá»‘c â€“ Má»¹ pháº©m â€“ Thiáº¿t bá»‹ y táº¿","HÃ ng hÃ³a khÃ´ng rÃµ nguá»“n gá»‘c","Vi pháº¡m trong dá»‹p cao Ä‘iá»ƒm","Nghi váº¥n / Dáº¥u hiá»‡u báº¥t thÆ°á»ng"],ze=["https://images.unsplash.com/photo-1648494239866-58fc47467534?w=1080","https://images.unsplash.com/photo-1730503807844-6b01c05f9c0f?w=1080","https://images.unsplash.com/photo-1739204618173-3e89def7140f?w=1080","https://images.unsplash.com/photo-1556740758-90de374c12ad?w=1080","https://images.unsplash.com/photo-1542744173-8e7e53415bb0?w=1080","https://images.unsplash.com/photo-1553413077-190dd305871c?w=1080","https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=1080","https://images.unsplash.com/photo-1587293852726-70cdb56c2866?w=1080"];function fe(t){const n=new Date;return n.setDate(n.getDate()-Math.floor(Math.random()*t)),n.toISOString()}function Tt(t){const n=ge.find(l=>l.name===t);if(n&&n.wards.length>0){const l=n.wards[Math.floor(Math.random()*n.wards.length)],f=Rt(t);return{id:`${t}-${l.code}`,province:t,district:"",ward:l.name,lat:f.lat,lng:f.lng}}const i=fo[t]||["Quáº­n 1"],s=i[Math.floor(Math.random()*i.length)],r=vo[s]||["PhÆ°á»ng 1","PhÆ°á»ng 2","PhÆ°á»ng 3"],a=r[Math.floor(Math.random()*r.length)],c=Rt(t);return{id:`${t}-${s}-${a}`,province:t,district:s,ward:a,lat:c.lat,lng:c.lng}}function xt(t,n){const i=Rt(t.name);return{id:`${t.name}-${n.code}`,province:t.name,district:"",ward:n.name,lat:i.lat,lng:i.lng}}function go(){const t=[];let n=1;O.forEach(i=>{i.wards.forEach(s=>{for(let r=0;r<2;r++){const a=xt(i,s),c=Math.random()>.7?"P1":Math.random()>.5?"P2":"P3";t.push({id:`HS-${String(n++).padStart(4,"0")}`,title:`Äiá»ƒm nÃ³ng ${a.ward}`,created_at:fe(90),dia_ban:a,chuyen_de:K[Math.floor(Math.random()*K.length)],lat:a.lat,lng:a.lng,severity:c,risk_score:c==="P1"?80+Math.random()*20:c==="P2"?50+Math.random()*30:20+Math.random()*30})}})});for(let i=0;i<300;i++){const s=O[Math.floor(Math.random()*O.length)],r=Tt(s.name),a=Math.random()>.7?"P1":Math.random()>.5?"P2":"P3";t.push({id:`HS-${String(n++).padStart(4,"0")}`,title:`Äiá»ƒm nÃ³ng ${r.ward}`,created_at:fe(90),dia_ban:r,chuyen_de:K[Math.floor(Math.random()*K.length)],lat:r.lat,lng:r.lng,severity:a,risk_score:a==="P1"?80+Math.random()*20:a==="P2"?50+Math.random()*30:20+Math.random()*30})}return t}function bo(){const t=[],n=["Má»›i","ÄÃ£ xÃ¡c minh","Äang xá»­ lÃ½"];let i=1;O.forEach(s=>{s.wards.forEach(r=>{for(let a=0;a<3;a++){const c=xt(s,r);t.push({id:`LD-${String(i++).padStart(4,"0")}`,title:`Nguá»“n tin ${c.ward}`,created_at:fe(90),dia_ban:c,chuyen_de:K[Math.floor(Math.random()*K.length)],lat:c.lat,lng:c.lng,status:n[Math.floor(Math.random()*n.length)],risk_score:Math.random()*100})}})});for(let s=0;s<500;s++){const r=O[Math.floor(Math.random()*O.length)],a=Tt(r.name);t.push({id:`LD-${String(i++).padStart(4,"0")}`,title:`Nguá»“n tin ${a.ward}`,created_at:fe(90),dia_ban:a,chuyen_de:K[Math.floor(Math.random()*K.length)],lat:a.lat,lng:a.lng,status:n[Math.floor(Math.random()*n.length)],risk_score:Math.random()*100})}return t}function Vo(){const t=[],n=["P1","P2","P3"],i=["Má»›i","Äang xá»­ lÃ½","HoÃ n thÃ nh","QuÃ¡ háº¡n"];let s=1;O.forEach(r=>{r.wards.forEach(a=>{for(let c=0;c<2;c++){const l=xt(r,a),f=new Date(fe(90)),g=new Date(f);g.setDate(g.getDate()+Math.floor(Math.random()*30)-10);const V=Math.random()>.7,x=V?"QuÃ¡ háº¡n":i[Math.floor(Math.random()*(i.length-1))];t.push({id:`TK-${String(s++).padStart(4,"0")}`,title:`Nhiá»‡m vá»¥ ${l.ward}`,created_at:f.toISOString(),due_date:g.toISOString(),dia_ban:l,chuyen_de:K[Math.floor(Math.random()*K.length)],lat:l.lat,lng:l.lng,priority:n[Math.floor(Math.random()*n.length)],status:x,is_overdue:V})}})});for(let r=0;r<400;r++){const a=O[Math.floor(Math.random()*O.length)],c=Tt(a.name),l=new Date(fe(90)),f=new Date(l);f.setDate(f.getDate()+Math.floor(Math.random()*30)-10);const g=Math.random()>.7,V=g?"QuÃ¡ háº¡n":i[Math.floor(Math.random()*(i.length-1))];t.push({id:`TK-${String(s++).padStart(4,"0")}`,title:`Nhiá»‡m vá»¥ ${c.ward}`,created_at:l.toISOString(),due_date:f.toISOString(),dia_ban:c,chuyen_de:K[Math.floor(Math.random()*K.length)],lat:c.lat,lng:c.lng,priority:n[Math.floor(Math.random()*n.length)],status:V,is_overdue:g})}return t}function To(){const t=[],n=["Chá» duyá»‡t","ÄÃ£ duyá»‡t","Tá»« chá»‘i"];let i=1;O.forEach(s=>{s.wards.forEach(r=>{const a=xt(s,r);t.push({id:`EV-${String(i++).padStart(4,"0")}`,title:`Minh chá»©ng ${a.ward}`,created_at:fe(90),dia_ban:a,chuyen_de:K[Math.floor(Math.random()*K.length)],lat:a.lat,lng:a.lng,status:n[Math.floor(Math.random()*n.length)],image_url:ze[i%ze.length],type:Math.random()>.8?"video":"image"})})});for(let s=0;s<200;s++){const r=O[Math.floor(Math.random()*O.length)],a=Tt(r.name);t.push({id:`EV-${String(i++).padStart(4,"0")}`,title:`Minh chá»©ng ${a.ward}`,created_at:fe(90),dia_ban:a,chuyen_de:K[Math.floor(Math.random()*K.length)],lat:a.lat,lng:a.lng,status:n[Math.floor(Math.random()*n.length)],image_url:ze[s%ze.length],type:Math.random()>.8?"video":"image"})}return t}const ke={hotspots:go(),leads:bo(),tasks:Vo(),evidences:To()};console.log({totalProvinces:O.length,totalWards:O.reduce((t,n)=>t+n.wards.length,0),hotspots:ke.hotspots.length,leads:ke.leads.length,tasks:ke.tasks.length,evidences:ke.evidences.length,sampleWards:O[0].wards.slice(0,3).map(t=>t.name)});function ln(){return ke}function Fe(t,n,i,s){return t.filter(r=>!(s&&r.dia_ban.ward!==s||i&&r.dia_ban.district&&r.dia_ban.district!==i||n&&r.dia_ban.province!==n))}function Xe(t,n){return!n||n==="all"?t:t.filter(i=>i.chuyen_de===n)}function Ke(t,n){const i=new Date;return i.setDate(i.getDate()-n),t.filter(s=>new Date(s.created_at)>=i)}const xo=`https://${Oi}.supabase.co`,cn=t=>{if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;const n=t.replace(/^public\//,"");return`${xo}/storage/v1/object/public/${n}`},mn=t=>typeof t!="number"?0:Math.max(0,Math.min(100,Math.round(t*10))),Eo=t=>t===1?"Má»›i":t===2?"Äang xá»­ lÃ½":"ÄÃ£ xÃ¡c minh",Ho=t=>{const n=(t||"").toLowerCase();return n.includes("p1")||n.includes("cao")||n.includes("high")?"P1":n.includes("p2")||n.includes("trung")||n.includes("medium")?"P2":"P3"},yo=(t,n)=>t?"QuÃ¡ háº¡n":n||"Äang xá»­ lÃ½",Ge=(t,n,i,s)=>n.ward?t.eq(s,n.ward):n.province?t.eq(i,n.province):t,Pt=(t,n,i)=>n.topic?t.eq(i,n.topic):t;async function Lo(){const{data:t,error:n}=await ne.from("violationCategory").select("name").eq("isActive",!0).order("name",{ascending:!0});return n||!t?[]:t.map(i=>i.name).filter(Boolean)}async function Do(t){const n=new Date(Date.now()-t.timeRangeDays*24*60*60*1e3).toISOString();let i=ne.from("tv_complaints_enriched").select("*, id:_id").gte("created_at",n).order("created_at",{ascending:!1});i=Ge(i,t,"province_name","ward_name"),i=Pt(i,t,"category_name");let s=ne.from("tv_hotspots").select("*, id:_id").order("last_complaint_at",{ascending:!1});s=Ge(s,t,"province","ward"),s=Pt(s,t,"category_name");let r=ne.from("tv_risk_cases").select("*, id:_id").order("created_at",{ascending:!1});r=Ge(r,t,"province","ward"),r=Pt(r,t,"category");let a=ne.from("tv_evidence_reviews").select("*, id:_id").eq("status","pending").order("created_at",{ascending:!1});a=Ge(a,t,"province","ward");const[c,l,f,g]=await Promise.all([i,s,r,a]);if(c.error)throw c.error;if(l.error)throw l.error;if(f.error)throw f.error;if(g.error)throw g.error;const V=(c.data||[]).map(p=>{const H=Array.isArray(p.images)?p.images.map(cn).filter(Boolean):[];return{id:p.complaint_id,title:p.category_name||p.map_point_title||"Pháº£n Ã¡nh",created_at:p.created_at,dia_ban:{id:p.ward_id||p.province_id||p.complaint_id,province:p.province_name||"N/A",district:"",ward:p.ward_name||"",lat:Number(p.lat)||0,lng:Number(p.lng)||0},chuyen_de:p.category_name||"KhÃ¡c",lat:Number(p.lat)||0,lng:Number(p.lng)||0,status:Eo(p.status),risk_score:mn(p.avg_score),images:H}}),x=(l.data||[]).map(p=>({id:p.map_point_id||p.id,title:p.title||p.map_point_title||"Äiá»ƒm nÃ³ng",created_at:p.last_complaint_at||new Date().toISOString(),dia_ban:{id:p.ward_id||p.province_id||p.map_point_id,province:p.province||"N/A",district:"",ward:p.ward||"",lat:Number(p.lat)||0,lng:Number(p.lng)||0},chuyen_de:p.category_name||"KhÃ¡c",lat:Number(p.lat)||0,lng:Number(p.lng)||0,severity:p.severity||"P3",risk_score:mn(p.avg_score)})),T=(f.data||[]).map(p=>({id:p.id,title:p.title||"Nhiá»‡m vá»¥",created_at:p.created_at||new Date().toISOString(),due_date:p.due_at||p.created_at||new Date().toISOString(),dia_ban:{id:p.ward_id||p.province_id||p.id,province:p.province||"N/A",district:"",ward:p.ward||"",lat:Number(p.lat)||0,lng:Number(p.lng)||0},chuyen_de:p.category||p.severity||"KhÃ¡c",lat:Number(p.lat)||0,lng:Number(p.lng)||0,priority:p.priority||Ho(p.severity),status:yo(!!p.is_overdue,p.status),is_overdue:!!p.is_overdue})),D=(g.data||[]).map(p=>({id:p.evidence_id||p.review_id,title:p.file_name||p.evidence_id||"Chá»©ng cá»©",created_at:p.created_at||new Date().toISOString(),dia_ban:{id:p.ward_id||p.province_id||p.evidence_id,province:p.province||"N/A",district:"",ward:p.ward||"",lat:Number(p.lat)||0,lng:Number(p.lng)||0},chuyen_de:"Chá»©ng cá»©",lat:Number(p.lat)||0,lng:Number(p.lng)||0,status:p.status==="pending"?"Chá» duyá»‡t":p.status==="approved"?"ÄÃ£ duyá»‡t":"Tá»« chá»‘i",image_url:cn(p.file_url),type:p.file_type&&p.file_type.toLowerCase().includes("video")?"video":"image"}));return{hotspots:x,leads:V,tasks:T,evidences:D}}const He=[{code:"HN",name:"HÃ  Ná»™i"},{code:"NA",name:"Nghá»‡ An"},{code:"DN",name:"ÄÃ  Náºµng"},{code:"HP",name:"Háº£i PhÃ²ng"},{code:"HCM",name:"TP. Há»“ ChÃ­ Minh"}],An=b.createContext(null);function Qo({children:t}){const[n,i]=b.useState({timeRangeDays:7}),[s,r]=b.useState({hotspots:!0,leads:!0,tasks:!0,evidences:!1}),[a,c]=b.useState(K),[l,f]=b.useState(()=>ln());b.useEffect(()=>{let m=!1;return(async()=>{try{const[j,y]=await Promise.all([Do(n),Lo()]);if(m)return;j&&f(j),y.length>0?c(y):c(K)}catch(j){console.warn("[TvDataContext] Supabase fetch failed, using mock data.",j),m||(f(ln()),c(K))}})(),()=>{m=!0}},[n,No.USE_TV_SUPABASE]);const g=b.useMemo(()=>{let m=l.hotspots;return m=Fe(m,n.province,n.district,n.ward),m=Xe(m,n.topic),m=Ke(m,n.timeRangeDays),m},[l.hotspots,n]),V=b.useMemo(()=>{let m=l.leads;return m=Fe(m,n.province,n.district,n.ward),m=Xe(m,n.topic),m=Ke(m,n.timeRangeDays),m},[l.leads,n]),x=b.useMemo(()=>{let m=l.tasks;return m=Fe(m,n.province,n.district,n.ward),m=Xe(m,n.topic),m=Ke(m,n.timeRangeDays),m},[l.tasks,n]),T=b.useMemo(()=>{let m=l.evidences;return m=Fe(m,n.province,n.district,n.ward),m=Xe(m,n.topic),m=Ke(m,n.timeRangeDays),m},[l.evidences,n]),[D,p]=b.useState(!1),[H,h]=b.useState(0),[u,d]=b.useState(20);b.useEffect(()=>{if(D){const m=He[H];i(v=>({...v,province:m.name,district:void 0,ward:void 0})),d(20)}},[H,D]),b.useEffect(()=>{let m=null;return D&&(m=setInterval(()=>{d(v=>v<=1?(h(j=>(j+1)%He.length),20):v-1)},1e3)),()=>{m&&clearInterval(m)}},[D]);const o=b.useCallback(()=>{h(m=>(m+1)%He.length)},[]),N=b.useCallback(()=>{h(m=>(m-1+He.length)%He.length)},[]),E=b.useCallback(m=>{h(m)},[]),Q=b.useMemo(()=>({filters:n,setFilters:i,layers:s,setLayers:r,topics:a,filteredHotspots:g,filteredLeads:V,filteredTasks:x,filteredEvidences:T,allData:l,autoRotationEnabled:D,setAutoRotationEnabled:p,currentLocationIndex:H,timeUntilNextRotation:u,goToNextLocation:o,goToPreviousLocation:N,selectLocation:E}),[n,s,a,g,V,x,T,l,D,H,u,o,N,E]);return e.jsxDEV(An.Provider,{value:Q,children:t},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/contexts/TvDataContext.tsx",lineNumber:223,columnNumber:5},this)}function se(){const t=b.useContext(An);return t||{filters:{timeRangeDays:7},setFilters:()=>{},layers:{hotspots:!0,leads:!0,tasks:!0,evidences:!1},setLayers:()=>{},topics:K,filteredHotspots:[],filteredLeads:[],filteredTasks:[],filteredEvidences:[],allData:{hotspots:[],leads:[],tasks:[],evidences:[]},autoRotationEnabled:!1,setAutoRotationEnabled:()=>{},currentLocationIndex:0,timeUntilNextRotation:20,goToNextLocation:()=>{},goToPreviousLocation:()=>{},selectLocation:()=>{}}}function ae({className:t,...n}){return e.jsxDEV(Un,{"data-slot":"switch",className:w("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:e.jsxDEV(Wn,{"data-slot":"switch-thumb",className:w("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/ui/switch.tsx",lineNumber:21,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/ui/switch.tsx",lineNumber:13,columnNumber:5},this)}const jo="_container_17efn_3",Po="_select_17efn_15",So="_icon_17efn_89",St={container:jo,select:Po,icon:So};function un({value:t,onChange:n,options:i,placeholder:s="Chá»n...",className:r=""}){return e.jsxDEV("div",{className:`${St.container} ${r}`,children:[e.jsxDEV("select",{value:t,onChange:a=>n(a.target.value),className:St.select,children:[s&&e.jsxDEV("option",{value:"",disabled:!0,children:s},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/NativeSelect.tsx",lineNumber:40,columnNumber:11},this),i.map(a=>e.jsxDEV("option",{value:a.value,children:a.label},a.value,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/NativeSelect.tsx",lineNumber:45,columnNumber:11},this))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/NativeSelect.tsx",lineNumber:34,columnNumber:7},this),e.jsxDEV(te,{className:St.icon,size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/NativeSelect.tsx",lineNumber:50,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/NativeSelect.tsx",lineNumber:33,columnNumber:5},this)}const _o=[{value:"10",label:"10 giÃ¢y"},{value:"15",label:"15 giÃ¢y"},{value:"20",label:"20 giÃ¢y"},{value:"25",label:"25 giÃ¢y"},{value:"30",label:"30 giÃ¢y"},{value:"45",label:"45 giÃ¢y"},{value:"60",label:"60 giÃ¢y"}],ko=[{value:"3",label:"3 ngÃ y"},{value:"7",label:"7 ngÃ y"},{value:"30",label:"30 ngÃ y"},{value:"90",label:"90 ngÃ y"}];function Co({settings:t,onSettingsChange:n,currentScene:i,totalScenes:s,onSceneChange:r}){const{filters:a,setFilters:c,layers:l,setLayers:f,autoRotationEnabled:g,setAutoRotationEnabled:V}=se(),x=T=>{f({...l,[T]:!l[T]})};return e.jsxDEV(mi,{children:[e.jsxDEV(ui,{asChild:!0,children:e.jsxDEV(R,{variant:"outline",size:"sm",title:"CÃ i Ä‘áº·t mÃ n hÃ¬nh",style:{padding:"6px 10px"},children:e.jsxDEV(wi,{style:{width:"16px",height:"16px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:65,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:59,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:58,columnNumber:7},this),e.jsxDEV(di,{className:"max-w-[640px]",children:[e.jsxDEV(pi,{children:e.jsxDEV(hi,{children:"CÃ i Ä‘áº·t mÃ n hÃ¬nh TV"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:70,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:69,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-5",children:[e.jsxDEV("section",{className:"space-y-3",children:[e.jsxDEV("div",{className:"text-sm font-semibold text-foreground",children:"TrÃ¬nh chiáº¿u"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:75,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:[e.jsxDEV(Y,{htmlFor:"tv-auto-play",children:"Tá»± cháº¡y cáº£nh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:77,columnNumber:15},this),e.jsxDEV(ae,{id:"tv-auto-play",checked:t.autoPlayScenes,onCheckedChange:T=>n({autoPlayScenes:T})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:78,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:76,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV(Y,{className:"mb-2 text-xs text-muted-foreground",children:"Chu ká»³ Ä‘á»•i cáº£nh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:86,columnNumber:17},this),e.jsxDEV(un,{value:String(t.sceneIntervalSeconds),onChange:T=>n({sceneIntervalSeconds:Number(T)}),options:_o},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:87,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:85,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(Y,{className:"mb-2 text-xs text-muted-foreground",children:"Cáº£nh Ä‘ang xem"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:94,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(R,{variant:"outline",size:"icon",onClick:()=>r("prev"),style:{width:"36px",height:"36px"},children:e.jsxDEV(vt,{style:{width:"16px",height:"16px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:102,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:96,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1 rounded-md border border-border bg-muted text-center text-sm font-semibold text-foreground",style:{padding:"8px 0"},children:[i,"/",s]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:104,columnNumber:19},this),e.jsxDEV(R,{variant:"outline",size:"icon",onClick:()=>r("next"),style:{width:"36px",height:"36px"},children:e.jsxDEV(ft,{style:{width:"16px",height:"16px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:113,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:107,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:95,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:93,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:84,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:74,columnNumber:11},this),e.jsxDEV("div",{className:"h-px bg-border"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:120,columnNumber:11},this),e.jsxDEV("section",{className:"space-y-3",children:[e.jsxDEV("div",{className:"text-sm font-semibold text-foreground",children:"Bá»™ lá»c hiá»ƒn thá»‹"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:123,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV(Y,{className:"mb-2 text-xs text-muted-foreground",children:"Khoáº£ng thá»i gian"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:126,columnNumber:17},this),e.jsxDEV(un,{value:String(a.timeRangeDays),onChange:T=>c({...a,timeRangeDays:Number(T)}),options:ko},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:127,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:125,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between gap-4 rounded-md border border-border px-3 py-2",children:[e.jsxDEV(Y,{htmlFor:"tv-auto-rotate",className:"text-sm",children:"Tá»± Ä‘á»™ng xoay Ä‘á»‹a bÃ n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:134,columnNumber:17},this),e.jsxDEV(ae,{id:"tv-auto-rotate",checked:g,onCheckedChange:T=>V(T)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:137,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:133,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:124,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:122,columnNumber:11},this),e.jsxDEV("div",{className:"h-px bg-border"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:146,columnNumber:11},this),e.jsxDEV("section",{className:"space-y-3",children:[e.jsxDEV("div",{className:"text-sm font-semibold text-foreground",children:"Lá»›p dá»¯ liá»‡u báº£n Ä‘á»“"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:149,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between rounded-md border border-border px-3 py-2",children:[e.jsxDEV(Y,{htmlFor:"layer-hotspots",children:"Äiá»ƒm nÃ³ng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:152,columnNumber:17},this),e.jsxDEV(ae,{id:"layer-hotspots",checked:l.hotspots,onCheckedChange:()=>x("hotspots")},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:153,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:151,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between rounded-md border border-border px-3 py-2",children:[e.jsxDEV(Y,{htmlFor:"layer-leads",children:"Nguá»“n tin"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:160,columnNumber:17},this),e.jsxDEV(ae,{id:"layer-leads",checked:l.leads,onCheckedChange:()=>x("leads")},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:161,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:159,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between rounded-md border border-border px-3 py-2",children:[e.jsxDEV(Y,{htmlFor:"layer-tasks",children:"Nhiá»‡m vá»¥ quÃ¡ háº¡n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:168,columnNumber:17},this),e.jsxDEV(ae,{id:"layer-tasks",checked:l.tasks,onCheckedChange:()=>x("tasks")},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:169,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:167,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between rounded-md border border-border px-3 py-2",children:[e.jsxDEV(Y,{htmlFor:"layer-evidences",children:"Chá»©ng cá»©"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:176,columnNumber:17},this),e.jsxDEV(ae,{id:"layer-evidences",checked:l.evidences,onCheckedChange:()=>x("evidences")},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:177,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:175,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:150,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:148,columnNumber:11},this),e.jsxDEV("div",{className:"h-px bg-border"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:186,columnNumber:11},this),e.jsxDEV("section",{className:"space-y-3",children:[e.jsxDEV("div",{className:"text-sm font-semibold text-foreground",children:"ThÃ nh pháº§n hiá»ƒn thá»‹"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:189,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between rounded-md border border-border px-3 py-2",children:[e.jsxDEV(Y,{htmlFor:"tv-alert-ticker",children:"Thanh cáº£nh bÃ¡o"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:192,columnNumber:17},this),e.jsxDEV(ae,{id:"tv-alert-ticker",checked:t.showAlertTicker,onCheckedChange:T=>n({showAlertTicker:T})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:193,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:191,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between rounded-md border border-border px-3 py-2",children:[e.jsxDEV(Y,{htmlFor:"tv-emergency-banner",children:"Banner nguy cáº¥p"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:200,columnNumber:17},this),e.jsxDEV(ae,{id:"tv-emergency-banner",checked:t.showEmergencyBanner,onCheckedChange:T=>n({showEmergencyBanner:T})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:201,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:199,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between rounded-md border border-border px-3 py-2",children:[e.jsxDEV(Y,{htmlFor:"tv-citizen-gallery",children:"áº¢nh pháº£n Ã¡nh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:208,columnNumber:17},this),e.jsxDEV(ae,{id:"tv-citizen-gallery",checked:t.showCitizenGallery,onCheckedChange:T=>n({showCitizenGallery:T})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:209,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:207,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:190,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:188,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:73,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center justify-end gap-2",children:e.jsxDEV(Ni,{asChild:!0,children:e.jsxDEV(R,{variant:"outline",children:"ÄÃ³ng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:221,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:220,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:219,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:68,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvSettingsDialog.tsx",lineNumber:57,columnNumber:5},this)}function wo({onExitTV:t,onFullscreen:n,settings:i,onSettingsChange:s,currentScene:r,totalScenes:a,onSceneChange:c}){const{getScopeDisplayText:l}=vn(),[f,g]=b.useState(new Date),[V,x]=b.useState(!0);b.useEffect(()=>{const H=setInterval(()=>{g(new Date)},1e3);return()=>clearInterval(H)},[]);const T=H=>{const h=H.getHours().toString().padStart(2,"0"),u=H.getMinutes().toString().padStart(2,"0");return`${h}:${u}`},D=H=>{const u=["Chá»§ nháº­t","Thá»© hai","Thá»© ba","Thá»© tÆ°","Thá»© nÄƒm","Thá»© sÃ¡u","Thá»© báº£y"][H.getDay()],d=H.getDate().toString().padStart(2,"0"),o=(H.getMonth()+1).toString().padStart(2,"0"),N=H.getFullYear();return`${u}, ${d}/${o}/${N}`},p=()=>{const H=l();return H?`ÄÆ¡n vá»‹: ${H}`:"ÄÆ¡n vá»‹: ToÃ n quá»‘c"};return e.jsxDEV("div",{className:"bg-card border-b border-border flex items-center gap-6 flex-shrink-0",style:{height:"64px",padding:"0 20px"},children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("img",{src:we,alt:"Mappa Logo",className:"object-contain",style:{width:"48px",height:"48px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:63,columnNumber:9},this),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("h1",{className:"font-bold text-foreground",style:{fontSize:"18px"},children:"Trung tÃ¢m Ä‘iá»u hÃ nh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:65,columnNumber:11},this),e.jsxDEV("span",{className:"text-muted-foreground",style:{fontSize:"11px"},children:"Há»‡ thá»‘ng MAPPA"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:62,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 flex justify-center",children:e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("div",{className:"font-semibold text-foreground",style:{fontSize:"14px"},children:p()},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:72,columnNumber:11},this),e.jsxDEV("div",{className:"text-muted-foreground",style:{fontSize:"11px"},children:"ÄÆ¡n vá»‹ Ä‘ang xem"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:71,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:70,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"flex flex-col items-end",children:[e.jsxDEV("div",{className:"font-bold text-foreground tabular-nums",style:{fontSize:"22px"},children:T(f)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:83,columnNumber:11},this),e.jsxDEV("div",{className:"text-muted-foreground",style:{fontSize:"11px"},children:D(f)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:86,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:82,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:e.jsxDEV("div",{className:`flex items-center gap-1.5 rounded-md font-medium ${V?"bg-green-500/10 text-green-600 border border-green-500/20":"bg-destructive/10 text-destructive border border-destructive/20"}`,style:{fontSize:"11px",padding:"6px 10px"},children:V?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Bi,{style:{width:"14px",height:"14px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:102,columnNumber:17},this),"Äang cáº­p nháº­t"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:101,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Mi,{style:{width:"14px",height:"14px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:107,columnNumber:17},this),"Máº¥t káº¿t ná»‘i"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:106,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:92,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:91,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(Co,{settings:i,onSettingsChange:s,currentScene:r,totalScenes:a,onSceneChange:c},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:115,columnNumber:11},this),e.jsxDEV(R,{variant:"outline",size:"sm",onClick:n,title:"ToÃ n mÃ n hÃ¬nh",style:{padding:"6px 10px"},children:e.jsxDEV(Ii,{style:{width:"16px",height:"16px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:130,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:123,columnNumber:11},this),e.jsxDEV(R,{variant:"outline",size:"sm",onClick:t,title:"ThoÃ¡t cháº¿ Ä‘á»™ TV",style:{padding:"6px 10px",fontSize:"12px",gap:"6px"},children:[e.jsxDEV(re,{style:{width:"16px",height:"16px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:140,columnNumber:13},this),e.jsxDEV("span",{children:"ThoÃ¡t TV"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:141,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:114,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:81,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvHeaderBar.tsx",lineNumber:61,columnNumber:5},this)}function Bo(){const{filters:t,setFilters:n}=se(),[i,s]=b.useState(!1),[r,a]=b.useState(new Set),[c,l]=b.useState(""),f=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{function u(d){f.current&&!f.current.contains(d.target)&&s(!1)}if(i)return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[i]),b.useEffect(()=>{if(t.province&&i){const u=ge.find(d=>d.name===t.province);u&&a(d=>new Set([...d,u.code]))}},[t.province,i]),b.useEffect(()=>{i&&g.current&&setTimeout(()=>{var u;return(u=g.current)==null?void 0:u.focus()},100)},[i]),b.useEffect(()=>{if(c.trim()){const u=ge.filter(d=>d.wards.some(o=>o.name.toLowerCase().includes(c.toLowerCase()))).map(d=>d.code);a(new Set(u))}},[c]);const V=()=>{s(!i)},x=(u,d,o)=>{const N=u?ge.find(Q=>Q.code===u):void 0,E=N&&o?N.wards.find(Q=>Q.code===o):void 0;n({...t,province:N==null?void 0:N.name,district:void 0,ward:E==null?void 0:E.name}),s(!1),l("")},T=(u,d)=>{d.stopPropagation(),a(o=>{const N=new Set(o);return N.has(u)?N.delete(u):N.add(u),N})},D=()=>{if(!t.province)return"Táº¥t cáº£ Ä‘á»‹a bÃ n";const u=ge.find(d=>d.name===t.province);if(!u)return t.province;if(t.ward){const d=u.wards.find(o=>o.name===t.ward);return d?d.name:t.ward}return u.name},p=t.province||t.ward,H=ge.map(u=>{if(!c.trim())return u;const d=c.toLowerCase(),o=u.name.toLowerCase().includes(d),N=u.wards.filter(E=>E.name.toLowerCase().includes(d)||E.fullName&&E.fullName.toLowerCase().includes(d));return o||N.length>0?{...u,wards:N,hasMatch:!0}:null}).filter(Boolean),h=(u,d)=>d.trim()?u.split(new RegExp(`(${d})`,"gi")).map((N,E)=>N.toLowerCase()===d.toLowerCase()?e.jsxDEV("mark",{style:{backgroundColor:"rgba(0, 92, 182, 0.2)",color:"var(--foreground)",padding:"0 2px",borderRadius:"2px"},children:N},E,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:148,columnNumber:11},this):N):u;return e.jsxDEV("div",{ref:f,style:{position:"relative",fontFamily:"Inter, sans-serif"},children:[e.jsxDEV("button",{onClick:V,style:{display:"flex",alignItems:"center",gap:"8px",height:"36px",padding:"0 12px",fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--foreground)",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderColor:p?"var(--primary)":"var(--border)",borderWidth:p?"2px":"1px",borderRadius:"var(--radius)",cursor:"pointer",transition:"all 0.2s",width:"200px"},onMouseEnter:u=>{p||(u.currentTarget.style.borderColor="var(--primary)")},onMouseLeave:u=>{p||(u.currentTarget.style.borderColor="var(--border)")},children:[e.jsxDEV(U,{style:{width:"14px",height:"14px",color:p?"var(--color-primary)":"var(--muted-foreground)"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:192,columnNumber:9},this),e.jsxDEV("span",{style:{flex:1,textAlign:"left",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:D()},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:193,columnNumber:9},this),e.jsxDEV(te,{style:{width:"14px",height:"14px",color:"var(--muted-foreground)",transform:i?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:196,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:161,columnNumber:7},this),i&&e.jsxDEV("div",{style:{position:"absolute",top:"calc(100% + 4px)",left:0,width:"360px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)",boxShadow:"var(--elevation-sm)",zIndex:10002,overflow:"hidden"},children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",borderBottom:"1px solid var(--border)",fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--foreground)"},children:[e.jsxDEV(U,{style:{width:"16px",height:"16px",color:"var(--primary)"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:235,columnNumber:13},this),e.jsxDEV("span",{children:"Chá»n Ä‘á»‹a bÃ n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:236,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:223,columnNumber:11},this),e.jsxDEV("div",{style:{position:"relative",padding:"12px 16px",borderBottom:"1px solid var(--border)"},children:[e.jsxDEV(wt,{style:{position:"absolute",left:"28px",top:"50%",transform:"translateY(-50%)",width:"14px",height:"14px",color:"var(--muted-foreground)"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:247,columnNumber:13},this),e.jsxDEV("input",{type:"text",placeholder:"TÃ¬m kiáº¿m Ä‘á»‹a bÃ n...",value:c,onChange:u=>l(u.target.value),ref:g,style:{width:"100%",height:"36px",paddingLeft:"36px",paddingRight:c?"36px":"12px",fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-normal)",color:"var(--foreground)",backgroundColor:"var(--input-background)",border:"1px solid var(--border)",borderRadius:"var(--radius)",outline:"none"},onFocus:u=>{u.currentTarget.style.borderColor="var(--primary)"},onBlur:u=>{u.currentTarget.style.borderColor="var(--border)"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:258,columnNumber:13},this),c&&e.jsxDEV("button",{onClick:()=>l(""),style:{position:"absolute",right:"28px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",padding:0,border:"none",background:"transparent",cursor:"pointer",color:"var(--muted-foreground)"},children:e.jsxDEV(re,{style:{width:"14px",height:"14px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:304,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:285,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:240,columnNumber:11},this),e.jsxDEV("div",{style:{maxHeight:"400px",overflowY:"auto"},children:[!c&&e.jsxDEV("div",{onClick:()=>x(void 0,void 0,void 0),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 16px",fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-normal)",color:t.province?"var(--foreground)":"var(--primary)",backgroundColor:t.province?"transparent":"rgba(0, 92, 182, 0.05)",cursor:"pointer",transition:"background-color 0.15s"},onMouseEnter:u=>{t.province&&(u.currentTarget.style.backgroundColor="var(--muted)")},onMouseLeave:u=>{t.province?u.currentTarget.style.backgroundColor="transparent":u.currentTarget.style.backgroundColor="rgba(0, 92, 182, 0.05)"},children:[e.jsxDEV("span",{children:"Táº¥t cáº£ Ä‘á»‹a bÃ n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:344,columnNumber:17},this),!t.province&&e.jsxDEV("span",{style:{color:"var(--primary)",fontWeight:"var(--font-weight-bold)"},children:"âœ“"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:346,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:318,columnNumber:15},this),H.length===0&&c&&e.jsxDEV("div",{style:{padding:"32px 16px",textAlign:"center",color:"var(--muted-foreground)"},children:[e.jsxDEV("div",{style:{fontSize:"32px",marginBottom:"8px"},children:"ğŸ”"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:360,columnNumber:17},this),e.jsxDEV("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"4px"},children:"KhÃ´ng tÃ¬m tháº¥y káº¿t quáº£"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:361,columnNumber:17},this),e.jsxDEV("div",{style:{fontSize:"var(--text-xs)"},children:"Thá»­ tÃ¬m kiáº¿m vá»›i tá»« khÃ³a khÃ¡c"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:364,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:353,columnNumber:15},this),H.map(u=>{const d=r.has(u.code),o=t.province===u.name&&!t.ward;return e.jsxDEV("div",{children:[e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)",color:o?"var(--primary)":"var(--foreground)",backgroundColor:o?"rgba(0, 92, 182, 0.05)":"transparent",cursor:"pointer",transition:"background-color 0.15s"},children:[e.jsxDEV("div",{onClick:()=>x(u.code,void 0,void 0),style:{flex:1,display:"flex",alignItems:"center",justifyContent:"space-between"},onMouseEnter:N=>{if(o)return;const E=N.currentTarget.parentElement;E&&(E.style.backgroundColor="var(--muted)")},onMouseLeave:N=>{if(o)return;const E=N.currentTarget.parentElement;E&&(E.style.backgroundColor="transparent")},children:[e.jsxDEV("span",{children:h(u.name,c)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:411,columnNumber:23},this),o&&e.jsxDEV("span",{style:{color:"var(--primary)",fontWeight:"var(--font-weight-bold)"},children:"âœ“"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:413,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:392,columnNumber:21},this),u.wards.length>0&&e.jsxDEV("button",{onClick:N=>T(u.code,N),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",padding:0,border:"none",background:"transparent",cursor:"pointer",color:"var(--muted-foreground)"},children:e.jsxDEV(te,{style:{width:"14px",height:"14px",transform:d?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:433,columnNumber:25},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:418,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:378,columnNumber:19},this),d&&u.wards.length>0&&e.jsxDEV("div",{style:{backgroundColor:"var(--muted)",paddingLeft:"16px"},children:[e.jsxDEV("div",{onClick:()=>x(u.code,void 0,void 0),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 16px",fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-normal)",color:t.province===u.name&&!t.ward?"var(--primary)":"var(--muted-foreground)",backgroundColor:t.province===u.name&&!t.ward?"rgba(0, 92, 182, 0.05)":"transparent",cursor:"pointer",transition:"background-color 0.15s"},onMouseEnter:N=>{t.province===u.name&&!t.ward||(N.currentTarget.style.backgroundColor="var(--background)")},onMouseLeave:N=>{t.province===u.name&&!t.ward?N.currentTarget.style.backgroundColor="rgba(0, 92, 182, 0.05)":N.currentTarget.style.backgroundColor="transparent"},children:[e.jsxDEV("span",{children:"Táº¥t cáº£ xÃ£/phÆ°á»ng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:475,columnNumber:25},this),t.province===u.name&&!t.ward&&e.jsxDEV("span",{style:{color:"var(--primary)",fontWeight:"var(--font-weight-bold)"},children:"âœ“"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:477,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:449,columnNumber:23},this),u.wards.map(N=>{const E=t.province===u.name&&t.ward===N.name,Q=N.name;return e.jsxDEV("div",{onClick:()=>x(u.code,void 0,N.code),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 16px",fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-normal)",color:E?"var(--primary)":"var(--foreground)",backgroundColor:E?"rgba(0, 92, 182, 0.05)":"transparent",cursor:"pointer",transition:"background-color 0.15s"},onMouseEnter:m=>{E||(m.currentTarget.style.backgroundColor="var(--background)")},onMouseLeave:m=>{E?m.currentTarget.style.backgroundColor="rgba(0, 92, 182, 0.05)":m.currentTarget.style.backgroundColor="transparent"},children:[e.jsxDEV("span",{children:h(Q,c)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:514,columnNumber:29},this),E&&e.jsxDEV("span",{style:{color:"var(--primary)",fontWeight:"var(--font-weight-bold)"},children:"âœ“"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:516,columnNumber:31},this)]},N.code,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:487,columnNumber:27},this)})]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:447,columnNumber:21},this)]},u.code,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:376,columnNumber:17},this)})]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:310,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:208,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvLocationSelector.tsx",lineNumber:154,columnNumber:5},this)}function Mo({compact:t=!1}){const{autoRotationEnabled:n,setAutoRotationEnabled:i,currentLocationIndex:s,timeUntilNextRotation:r,goToNextLocation:a,goToPreviousLocation:c,selectLocation:l}=se();if(!i||!a||!c||!l)return null;const f=(20-r)/20*100,g=t?"8px 12px":"12px 16px",V=t?"10px":"12px",x=t?30:36,T=t?28:32,D=t?28:32,p=t?"11px":"var(--text-xs)",H=t?28:32,h=t?44:48,u=t?14:16;return e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:V,padding:g,backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)",fontFamily:"Inter, sans-serif"},children:[e.jsxDEV("button",{onClick:()=>i(!n),style:{display:"flex",alignItems:"center",justifyContent:"center",width:`${x}px`,height:`${x}px`,padding:0,backgroundColor:n?"var(--primary)":"var(--muted)",border:"none",borderRadius:"var(--radius)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:d=>{d.currentTarget.style.opacity="0.85"},onMouseLeave:d=>{d.currentTarget.style.opacity="1"},title:n?"Táº¡m dá»«ng tá»± Ä‘á»™ng":"Báº­t tá»± Ä‘á»™ng chuyá»ƒn",children:n?e.jsxDEV(Ai,{style:{width:`${u}px`,height:`${u}px`,color:"white"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:75,columnNumber:11},this):e.jsxDEV(Ri,{style:{width:`${u}px`,height:`${u}px`,color:"var(--foreground)"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:77,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:51,columnNumber:7},this),e.jsxDEV("button",{onClick:c,style:{display:"flex",alignItems:"center",justifyContent:"center",width:`${T}px`,height:`${T}px`,padding:0,backgroundColor:"transparent",border:"1px solid var(--border)",borderRadius:"var(--radius)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="var(--muted)",d.currentTarget.style.borderColor="var(--primary)"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="transparent",d.currentTarget.style.borderColor="var(--border)"},title:"Äá»‹a bÃ n trÆ°á»›c",children:e.jsxDEV(vt,{style:{width:`${u}px`,height:`${u}px`,color:"var(--foreground)"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:107,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:82,columnNumber:7},this),e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1},children:He.map((d,o)=>{const N=o===s,E=n&&o<s;return e.jsxDEV("div",{onClick:()=>l(o),style:{position:"relative",flex:1,display:"flex",alignItems:"center",justifyContent:"center",height:`${D}px`,padding:"0 12px",fontSize:p,fontWeight:N?"var(--font-weight-semibold)":"var(--font-weight-medium)",color:N?"white":"var(--foreground)",backgroundColor:N?"var(--primary)":"var(--muted)",border:"1px solid",borderColor:N?"var(--primary)":"var(--border)",borderRadius:"var(--radius)",cursor:"pointer",overflow:"hidden",transition:"all 0.2s",opacity:E?.5:1},onMouseEnter:Q=>{N||(Q.currentTarget.style.borderColor="var(--primary)",Q.currentTarget.style.backgroundColor="var(--card)")},onMouseLeave:Q=>{N||(Q.currentTarget.style.borderColor="var(--border)",Q.currentTarget.style.backgroundColor="var(--muted)")},title:d.name,children:[N&&n&&e.jsxDEV("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:`${f}%`,backgroundColor:"rgba(255, 255, 255, 0.2)",transition:"width 1s linear"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:163,columnNumber:17},this),e.jsxDEV("span",{style:{position:"relative",zIndex:1},children:d.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:176,columnNumber:15},this)]},d.code,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:124,columnNumber:13},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:111,columnNumber:7},this),e.jsxDEV("button",{onClick:a,style:{display:"flex",alignItems:"center",justifyContent:"center",width:`${T}px`,height:`${T}px`,padding:0,backgroundColor:"transparent",border:"1px solid var(--border)",borderRadius:"var(--radius)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="var(--muted)",d.currentTarget.style.borderColor="var(--primary)"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="transparent",d.currentTarget.style.borderColor="var(--border)"},title:"Äá»‹a bÃ n tiáº¿p theo",children:e.jsxDEV(ft,{style:{width:`${u}px`,height:`${u}px`,color:"var(--foreground)"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:210,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:185,columnNumber:7},this),n&&e.jsxDEV("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:`${h}px`,height:`${H}px`,padding:"0 10px",fontSize:t?"12px":"var(--text-sm)",fontWeight:"var(--font-weight-bold)",color:"var(--primary)",backgroundColor:"rgba(0, 92, 182, 0.1)",border:"1px solid var(--primary)",borderRadius:"var(--radius)"},title:"Thá»i gian Ä‘áº¿n Ä‘á»‹a bÃ n tiáº¿p theo",children:[r,"s"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:215,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LocationRotationControl.tsx",lineNumber:38,columnNumber:5},this)}const Io="_barBase_1nsol_1",Ao="_filtersBar_1nsol_13",Ro="_selectTriggerBase_1nsol_21",zo="_controlButton_1nsol_33",Pe={barBase:Io,filtersBar:Ao,selectTriggerBase:Ro,controlButton:zo};function Fo(){const{filters:t,setFilters:n,topics:i}=se(),s=()=>{n({timeRangeDays:7})},r=[t.province,t.district,t.ward,t.topic].filter(Boolean).length;return e.jsxDEV("div",{className:`bg-card border-b border-border flex items-center gap-4 flex-shrink-0 ${Pe.barBase} ${Pe.filtersBar}`,children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Bo,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:38,columnNumber:11},this),e.jsxDEV(Wt,{value:t.topic||"all",onValueChange:a=>n({...t,topic:a==="all"?void 0:a}),children:[e.jsxDEV(qt,{style:{width:"180px",border:"1px solid var(--border)",borderColor:t.topic?"var(--primary)":"var(--border)",borderWidth:t.topic?"2px":"1px"},className:Pe.selectTriggerBase,children:e.jsxDEV(Yt,{placeholder:"ChuyÃªn Ä‘á»"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:53,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:44,columnNumber:13},this),e.jsxDEV(Jt,{children:[e.jsxDEV(je,{value:"all",children:"Táº¥t cáº£ chuyÃªn Ä‘á»"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:56,columnNumber:15},this),i.map(a=>e.jsxDEV(je,{value:a,children:a},a,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:58,columnNumber:17},this))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:55,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:40,columnNumber:11},this),e.jsxDEV(Wt,{value:String(t.timeRangeDays),onValueChange:a=>n({...t,timeRangeDays:parseInt(a)}),children:[e.jsxDEV(qt,{style:{width:"150px",border:"1px solid var(--border)",borderColor:t.timeRangeDays!==7?"var(--primary)":"var(--border)",borderWidth:t.timeRangeDays!==7?"2px":"1px"},className:Pe.selectTriggerBase,children:e.jsxDEV(Yt,{placeholder:"Thá»i gian"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:76,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:67,columnNumber:13},this),e.jsxDEV(Jt,{children:[e.jsxDEV(je,{value:"7",children:"7 ngÃ y"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:79,columnNumber:15},this),e.jsxDEV(je,{value:"30",children:"30 ngÃ y"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:80,columnNumber:15},this),e.jsxDEV(je,{value:"90",children:"90 ngÃ y"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:81,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:63,columnNumber:11},this),e.jsxDEV(R,{variant:"outline",size:"sm",onClick:s,className:Pe.controlButton,children:[e.jsxDEV(zi,{style:{width:"14px",height:"14px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:91,columnNumber:13},this),"Äáº·t láº¡i",r>0&&e.jsxDEV("span",{className:"bg-primary text-primary-foreground rounded-full font-semibold",style:{padding:"2px 6px",fontSize:"10px",minWidth:"18px",height:"18px",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:r},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:94,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:85,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:37,columnNumber:9},this),e.jsxDEV("div",{className:"ml-auto flex items-center shrink-0",children:e.jsxDEV(Mo,{compact:!0},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:113,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:112,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TvFiltersBar.tsx",lineNumber:34,columnNumber:5},this)}function Xo({scene:t}){const{filteredHotspots:n,filteredLeads:i,filteredTasks:s,filteredEvidences:r,layers:a,setLayers:c,filters:l}=se(),[f,g]=b.useState(new Date),[V,x]=b.useState(null),T=b.useRef(null),D=b.useRef(null),p=b.useRef([]);b.useEffect(()=>{const v=setInterval(()=>{g(new Date)},1e3);return()=>clearInterval(v)},[]),b.useEffect(()=>{let v=!0;return(async()=>{const y=await P(()=>import("./leaflet-fbicKXUd.js").then(C=>C.l),__vite__mapDeps([0,1,2,3]));v&&(delete y.Icon.Default.prototype._getIconUrl,y.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"}),x(y))})(),()=>{v=!1}},[]);const H=b.useCallback((v,j)=>V?V.divIcon({className:"custom-marker",html:`<div style="width: ${j}px; height: ${j}px; background: ${v}; border-radius: 50%; opacity: 0.8; box-shadow: 0 0 10px ${v};"></div>`,iconSize:[j,j],iconAnchor:[j/2,j/2]}):null,[V]);b.useEffect(()=>{if(!V||!D.current||T.current)return;const v=V,j=v.map(D.current,{center:[16,106],zoom:5,zoomControl:!1});return v.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(j),T.current=j,()=>{T.current&&(T.current.remove(),T.current=null)}},[V]),b.useEffect(()=>{if(!T.current)return;const v=T.current,j=l.province;if(!j||j==="all")v.setView([16,106],5);else if(At[j]){const C=At[j].bounds;C&&v.fitBounds(C,{padding:[30,30]})}else{const C=[...n.map(S=>({lat:S.lat,lng:S.lng})),...i.map(S=>({lat:S.lat,lng:S.lng})),...s.map(S=>({lat:S.lat,lng:S.lng}))];if(C.length>0){const S=C.map(B=>[B.lat,B.lng]);v.fitBounds(S,{padding:[30,30]})}}const y=setTimeout(()=>{if(T.current&&v)try{v.invalidateSize()}catch{}},120);return()=>clearTimeout(y)},[l.province,n,i,s]),b.useEffect(()=>{if(!T.current||!V)return;const v=T.current,j=V;p.current.forEach(y=>y.remove()),p.current=[],a.hotspots&&n.forEach(y=>{const C=y.severity==="P1"?16:y.severity==="P2"?12:8,S=H("#ef4444",C);if(!S)return;const B=j.marker([y.lat,y.lng],{icon:S}).addTo(v);B.bindPopup(`
          <div style="font-size: 11px;">
            <div style="font-weight: 600;">${y.title}</div>
            <div style="color: #64748b;">${y.dia_ban.ward||y.dia_ban.district}</div>
            <div style="color: #ef4444; font-weight: 600;">${y.severity}</div>
          </div>
        `),p.current.push(B)}),a.leads&&i.forEach(y=>{const C=y.risk_score>70?12:8,S=H("#3b82f6",C);if(!S)return;const B=j.marker([y.lat,y.lng],{icon:S}).addTo(v);B.bindPopup(`
          <div style="font-size: 11px;">
            <div style="font-weight: 600;">${y.title}</div>
            <div style="color: #64748b;">${y.dia_ban.ward||y.dia_ban.district}</div>
            <div>Risk: ${Math.round(y.risk_score)}/100</div>
          </div>
        `),p.current.push(B)}),a.tasks&&s.filter(y=>y.is_overdue).forEach(y=>{const C=y.priority==="P1"?14:10,S=H("#f97316",C);if(!S)return;const B=j.marker([y.lat,y.lng],{icon:S}).addTo(v);B.bindPopup(`
          <div style="font-size: 11px;">
            <div style="font-weight: 600;">${y.title}</div>
            <div style="color: #64748b;">${y.dia_ban.ward||y.dia_ban.district}</div>
            <div style="color: #f97316;">QuÃ¡ háº¡n - ${y.priority}</div>
          </div>
        `),p.current.push(B)}),a.evidences&&r.forEach(y=>{const C=H("#8b5cf6",8);if(!C)return;const S=j.marker([y.lat,y.lng],{icon:C}).addTo(v);S.bindPopup(`
          <div style="font-size: 11px;">
            <div style="font-weight: 600;">${y.title}</div>
            <div style="color: #64748b;">${y.dia_ban.ward||y.dia_ban.district}</div>
            <div>${y.status}</div>
          </div>
        `),p.current.push(S)})},[n,i,s,r,a,H,V]);const h=v=>v.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),u=a.hotspots?n.length:0,d=a.leads?i.length:0,o=s.filter(v=>v.is_overdue).length,N=a.tasks?o:0,E=[{label:"Äiá»ƒm nÃ³ng",value:u,icon:J,color:"#ef4444",active:a.hotspots},{label:"Nguá»“n tin má»›i",value:d,icon:U,color:"#3b82f6",active:a.leads},{label:"Nhiá»‡m vá»¥ quÃ¡ háº¡n/SLA",value:N,icon:Hn,color:"#f97316",active:a.tasks}],Q=t===1,m=v=>{c({...a,[v]:!a[v]})};return e.jsxDEV("div",{className:`flex-1 bg-card rounded-lg border border-border overflow-hidden transition-all ${Q?"ring-2 ring-primary ring-offset-2":""}`,style:{display:"flex",flexDirection:"column"},children:[e.jsxDEV("div",{className:"h-12 bg-muted/50 border-b border-border flex items-center justify-between px-4 flex-shrink-0",children:[e.jsxDEV("h2",{className:"text-base font-semibold text-foreground",children:"Báº£n Ä‘á»“ Ä‘iá»u hÃ nh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:255,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:["Cáº­p nháº­t láº§n cuá»‘i: ",h(f)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:257,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:261,columnNumber:13},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Äang cáº­p nháº­t"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:262,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:260,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:256,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:254,columnNumber:7},this),e.jsxDEV("div",{className:"relative flex-1 bg-muted/20",style:{minHeight:"480px"},children:[e.jsxDEV("div",{ref:D,style:{height:"100%",width:"100%"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:269,columnNumber:9},this),e.jsxDEV("div",{className:"absolute top-4 left-4 flex flex-col gap-2 pointer-events-none z-[400]",children:E.map((v,j)=>e.jsxDEV("div",{className:`bg-card/95 backdrop-blur-sm rounded-lg border border-border shadow-lg transition-all count-up pointer-events-auto ${v.active?"":"opacity-50"}`,style:{borderLeftColor:v.color,borderLeftWidth:"3px",padding:"10px 12px"},children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"rounded-lg flex items-center justify-center",style:{width:"36px",height:"36px",backgroundColor:`${v.color}15`},children:e.jsxDEV(v.icon,{style:{width:"18px",height:"18px",color:v.color}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:286,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:282,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-bold text-foreground tabular-nums",style:{fontSize:"22px"},children:v.value},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:289,columnNumber:19},this),e.jsxDEV("div",{className:"text-muted-foreground leading-tight",style:{fontSize:"11px"},children:v.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:292,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:288,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:281,columnNumber:15},this)},j,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:274,columnNumber:13},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:272,columnNumber:9},this),e.jsxDEV("div",{className:"absolute bottom-4 left-4 bg-card/95 backdrop-blur-sm rounded-lg border border-border shadow-lg pointer-events-auto z-[400]",style:{padding:"12px"},children:[e.jsxDEV("div",{className:"font-semibold text-foreground mb-2",style:{fontSize:"11px"},children:"Lá»›p dá»¯ liá»‡u"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:303,columnNumber:11},this),e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV("button",{onClick:()=>m("hotspots"),className:`flex items-center gap-2 rounded transition-colors ${a.hotspots?"bg-destructive/10":"opacity-50 hover:opacity-75"}`,style:{padding:"6px 8px"},children:[e.jsxDEV("div",{className:`rounded-full ${a.hotspots?"bg-destructive":"bg-muted-foreground"}`,style:{width:"10px",height:"10px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:312,columnNumber:15},this),e.jsxDEV("span",{className:"text-muted-foreground",style:{fontSize:"11px"},children:"Äiá»ƒm nÃ³ng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:313,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:305,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>m("leads"),className:`flex items-center gap-2 rounded transition-colors ${a.leads?"bg-blue-500/10":"opacity-50 hover:opacity-75"}`,style:{padding:"6px 8px"},children:[e.jsxDEV("div",{className:`rounded-full ${a.leads?"bg-blue-500":"bg-muted-foreground"}`,style:{width:"10px",height:"10px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:322,columnNumber:15},this),e.jsxDEV("span",{className:"text-muted-foreground",style:{fontSize:"11px"},children:"Nguá»“n tin"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:323,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:315,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>m("tasks"),className:`flex items-center gap-2 rounded transition-colors ${a.tasks?"bg-orange-500/10":"opacity-50 hover:opacity-75"}`,style:{padding:"6px 8px"},children:[e.jsxDEV("div",{className:`rounded-full ${a.tasks?"bg-orange-500":"bg-muted-foreground"}`,style:{width:"10px",height:"10px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:332,columnNumber:15},this),e.jsxDEV("span",{className:"text-muted-foreground",style:{fontSize:"11px"},children:"Nhiá»‡m vá»¥ quÃ¡ háº¡n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:333,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:325,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>m("evidences"),className:`flex items-center gap-2 rounded transition-colors ${a.evidences?"bg-purple-500/10":"opacity-50 hover:opacity-75"}`,style:{padding:"6px 8px"},children:[e.jsxDEV("div",{className:`rounded-full ${a.evidences?"bg-purple-500":"bg-muted-foreground"}`,style:{width:"10px",height:"10px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:342,columnNumber:15},this),e.jsxDEV("span",{className:"text-muted-foreground",style:{fontSize:"11px"},children:"Chá»©ng cá»©"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:343,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:335,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:304,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:302,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:267,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/LiveMapPanel.tsx",lineNumber:248,columnNumber:5},this)}function Ko({scene:t}){const{filteredHotspots:n,filteredLeads:i,filteredTasks:s,filteredEvidences:r,allData:a,filters:c}=se(),l=et(),f=s.filter(v=>v.is_overdue).length,g=r.filter(v=>v.status==="Chá» duyá»‡t").length,V=Math.max(5,Math.floor(s.length/8)),x=Math.max(120,Math.floor(s.length/2)),T=(v,j)=>{const y=new Date;y.setDate(y.getDate()-j);const C=new Date(y);return C.setDate(C.getDate()-j),v.filter(S=>{const B=new Date(S.created_at);return B>=C&&B<y})},D=(v,j)=>{if(j===0&&v===0)return{percent:"0%",trend:"stable"};if(j===0&&v>0)return{percent:"Má»›i",trend:"up"};if(v===0&&j>0)return{percent:"-100%",trend:"down"};const y=(v-j)/j*100;return{percent:`${y>0?"+":""}${Math.round(y)}%`,trend:y>0?"up":y<0?"down":"stable"}},p=T(a.hotspots,c.timeRangeDays),H=T(a.leads,c.timeRangeDays),h=T(a.tasks,c.timeRangeDays),u=T(a.evidences,c.timeRangeDays),d=D(n.length,p.length),o=D(i.length,H.length),N=D(f,h.filter(v=>v.is_overdue).length),E=D(g,u.filter(v=>v.status==="Chá» duyá»‡t").length),Q=(v,j)=>{const y=Math.min(10,j),C=[];for(let S=y-1;S>=0;S--){const B=new Date;B.setDate(B.getDate()-S),B.setHours(0,0,0,0);const G=new Date(B);G.setHours(23,59,59,999);const ve=v.filter(Gn=>{const Ot=new Date(Gn.created_at);return Ot>=B&&Ot<=G}).length;C.push(ve)}return C},m=[{id:1,label:"Äiá»ƒm nÃ³ng Ä‘á»‹a bÃ n",value:n.length,change:d.percent,trend:d.trend,icon:J,color:"#ef4444",sparkline:Q(n,c.timeRangeDays),highlight:t===2,isPositiveGood:!1},{id:2,label:"Nguá»“n tin má»›i",value:i.length,change:o.percent,trend:o.trend,icon:U,color:"#3b82f6",sparkline:Q(i,c.timeRangeDays),highlight:t===2,isPositiveGood:!1},{id:3,label:"Káº¿ hoáº¡ch Ä‘ang triá»ƒn khai",value:V,change:"+5%",trend:"up",icon:Hn,color:"#10b981",sparkline:[3,4,3,5,4,6,5,6,7,V],highlight:t===5,isPositiveGood:!0},{id:4,label:"Nhiá»‡m vá»¥ quÃ¡ háº¡n/SLA",value:f,change:N.percent,trend:N.trend,icon:Me,color:"#f97316",sparkline:Q(s.filter(v=>v.is_overdue),c.timeRangeDays),highlight:t===3,isPositiveGood:!1},{id:5,label:"Chá»©ng cá»© chá» duyá»‡t",value:g,change:E.percent,trend:E.trend,icon:he,color:"#8b5cf6",sparkline:Q(r.filter(v=>v.status==="Chá» duyá»‡t"),c.timeRangeDays),highlight:t===4,isPositiveGood:!1},{id:6,label:"NhÃ¢n sá»± tham gia",value:x,change:"+3%",trend:"up",icon:Te,color:"#06b6d4",sparkline:[115,118,120,122,125,128,130,135,138,x],highlight:t===5,isPositiveGood:!0}];return e.jsxDEV("div",{className:"grid grid-cols-3 gap-3",children:m.map(v=>{const j=v.isPositiveGood?v.trend==="up":v.trend==="down",y=v.trend==="stable"?"rgba(156, 163, 175, 0.1)":j?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",C=v.trend==="stable"?"var(--muted-foreground)":j?"#10b981":"#ef4444";return e.jsxDEV("div",{className:"bg-card border border-border transition-all",onClick:()=>l("/ban-do-dieu-hanh"),style:{borderRadius:"var(--radius-lg)",padding:"14px",minHeight:"110px",display:"flex",flexDirection:"column",cursor:"pointer"},onMouseEnter:S=>{S.currentTarget.style.transform="translateY(-2px)",S.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)"},onMouseLeave:S=>{S.currentTarget.style.transform="translateY(0)",S.currentTarget.style.boxShadow="none"},children:[e.jsxDEV("div",{className:"flex items-start justify-between",style:{marginBottom:"8px"},children:[e.jsxDEV("div",{className:"flex items-center justify-center",style:{width:"24px",height:"24px",borderRadius:"var(--radius-sm)",backgroundColor:`${v.color}20`},children:e.jsxDEV(v.icon,{style:{width:"14px",height:"14px",color:v.color}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:209,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:200,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-1",style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-medium)",padding:"2px 8px",borderRadius:"var(--radius-sm)",backgroundColor:y,color:C},children:[v.trend==="up"?e.jsxDEV(de,{style:{width:"11px",height:"11px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:225,columnNumber:19},this):v.trend==="down"?e.jsxDEV(yn,{style:{width:"11px",height:"11px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:227,columnNumber:19},this):null,e.jsxDEV("span",{children:v.change},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:229,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:213,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:199,columnNumber:13},this),e.jsxDEV("div",{style:{marginBottom:"10px"},children:[e.jsxDEV("div",{className:"text-foreground tabular-nums",style:{fontSize:"32px",fontWeight:"var(--font-weight-bold)",lineHeight:"1.1",marginBottom:"4px"},children:v.value},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:235,columnNumber:15},this),e.jsxDEV("div",{className:"text-muted-foreground",style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-normal)",lineHeight:"1.3"},children:v.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:246,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:234,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-end gap-0.5 mt-auto",style:{height:"28px"},children:v.sparkline.map((S,B)=>{const G=Math.max(...v.sparkline,1),ve=S/G*100;return e.jsxDEV("div",{className:"flex-1",style:{height:`${Math.max(ve,10)}%`,backgroundColor:v.color,borderRadius:"2px",opacity:B===v.sparkline.length-1?1:.4,transition:"all 0.3s ease"}},B,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:264,columnNumber:19},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:259,columnNumber:13},this)]},v.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:177,columnNumber:11},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/KpiGrid6.tsx",lineNumber:157,columnNumber:5},this)}function Go({scene:t}){const[n,i]=b.useState("hotspots"),{filteredHotspots:s,filteredLeads:r,filteredTasks:a,filters:c}=se(),l=b.useRef(null);b.useEffect(()=>{t===2?i("hotspots"):t===3&&i("overdue")},[t]);const f=[{id:"hotspots",label:"Top Ä‘iá»ƒm nÃ³ng"},{id:"overdue",label:"Top quÃ¡ háº¡n/SLA"},{id:"leads",label:"Top nguá»“n tin"}],g=()=>c.ward?"ward":c.district?"district":(c.province,"province"),V=o=>{const N=g(),E={};return o.forEach(Q=>{let m="";N==="ward"?m=Q.dia_ban.ward:N==="district"?m=Q.dia_ban.district||Q.dia_ban.ward:m=Q.dia_ban.province,E[m]||(E[m]={count:0,items:[]}),E[m].count++,E[m].items.push(Q)}),Object.entries(E).map(([Q,m])=>({name:Q,count:m.count})).sort((Q,m)=>m.count-Q.count).slice(0,10)},x=o=>{const N=Math.floor(Math.random()*5)-2;return N>0?{trend:"up",change:`+${N}`}:N<0?{trend:"down",change:String(N)}:{trend:"stable",change:"0"}},T=b.useMemo(()=>V(s).map((N,E)=>({rank:E+1,name:N.name,value:N.count,...x(N.count)})),[s,c]),D=b.useMemo(()=>{const o=a.filter(E=>E.is_overdue);return V(o).map((E,Q)=>({rank:Q+1,name:E.name,value:E.count,...x(E.count)}))},[a,c]),p=b.useMemo(()=>V(r).map((N,E)=>({rank:E+1,name:N.name,value:N.count,...x(N.count)})),[r,c]),h=(()=>{switch(n){case"hotspots":return T;case"overdue":return D;case"leads":return p;default:return T}})(),u=h.length>0?[...h,...h,...h,...h,...h]:[],d=t===2||t===3;return b.useEffect(()=>{const o=l.current;if(!o||h.length===0)return;let N=0;const E=.8;let Q;const m=()=>{if(!o)return;const{scrollHeight:j,clientHeight:y}=o;if(j-y<=0){Q=requestAnimationFrame(m);return}N+=E;const S=j/5;N>=S&&(N=0),o.scrollTop=N,Q=requestAnimationFrame(m)},v=setTimeout(()=>{o.scrollTop=0,N=0,Q=requestAnimationFrame(m)},200);return()=>{clearTimeout(v),Q&&cancelAnimationFrame(Q)}},[n,h.length]),e.jsxDEV("div",{className:`bg-card rounded-lg border border-border overflow-hidden transition-all ${d?"ring-2 ring-primary ring-offset-2":""}`,style:{height:"220px",display:"flex",flexDirection:"column"},children:[e.jsxDEV("div",{className:"border-b border-border flex-shrink-0",style:{height:"40px"},children:e.jsxDEV("div",{className:"flex h-full",children:f.map(o=>e.jsxDEV("button",{onClick:()=>i(o.id),className:`flex-1 transition-colors ${n===o.id?"text-primary bg-primary/5 border-b-2 border-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,style:{fontSize:"13px",fontWeight:600,padding:"0 12px"},children:o.label},o.id,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:182,columnNumber:13},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:180,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:179,columnNumber:7},this),e.jsxDEV("div",{className:"overflow-auto flex-1",ref:l,children:h.length===0?e.jsxDEV("div",{className:"p-8 text-center",children:[e.jsxDEV("p",{className:"text-muted-foreground",style:{fontSize:"12px"},children:"KhÃ´ng cÃ³ dá»¯ liá»‡u phÃ¹ há»£p vá»›i bá»™ lá»c"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:201,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground mt-1",style:{fontSize:"11px"},children:"Thá»­ Ä‘iá»u chá»‰nh bá»™ lá»c Ä‘á»‹a bÃ n hoáº·c thá»i gian"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:202,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:200,columnNumber:11},this):e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-muted/50 sticky top-0 z-10",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"text-left text-muted-foreground",style:{padding:"8px 14px",fontSize:"12px",fontWeight:600,width:"50px"},children:"#"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:208,columnNumber:17},this),e.jsxDEV("th",{className:"text-left text-muted-foreground",style:{padding:"8px 14px",fontSize:"12px",fontWeight:600},children:"Äá»‹a bÃ n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:211,columnNumber:17},this),e.jsxDEV("th",{className:"text-right text-muted-foreground",style:{padding:"8px 14px",fontSize:"12px",fontWeight:600,width:"80px"},children:"Sá»‘ lÆ°á»£ng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:214,columnNumber:17},this),e.jsxDEV("th",{className:"text-center text-muted-foreground",style:{padding:"8px 14px",fontSize:"12px",fontWeight:600,width:"90px"},children:"Xu hÆ°á»›ng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:217,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:207,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:206,columnNumber:13},this),e.jsxDEV("tbody",{children:u.map((o,N)=>e.jsxDEV("tr",{className:`border-t border-border hover:bg-muted/30 transition-colors ${o.rank<=3?"bg-primary/5":""}`,children:[e.jsxDEV("td",{className:"font-semibold text-foreground",style:{padding:"10px 14px",fontSize:"13px"},children:o.rank},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:230,columnNumber:19},this),e.jsxDEV("td",{className:"text-foreground",style:{padding:"10px 14px",fontSize:"13px",fontWeight:500},children:o.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:233,columnNumber:19},this),e.jsxDEV("td",{className:"text-right font-semibold text-foreground tabular-nums",style:{padding:"10px 14px",fontSize:"13px"},children:o.value},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:236,columnNumber:19},this),e.jsxDEV("td",{className:"text-center",style:{padding:"10px 14px"},children:e.jsxDEV("div",{className:"inline-flex items-center gap-1",children:[o.trend==="up"&&e.jsxDEV("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsxDEV(de,{style:{width:"13px",height:"13px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:243,columnNumber:27},this),e.jsxDEV("span",{style:{fontSize:"12px",fontWeight:600},children:o.change},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:244,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:242,columnNumber:25},this),o.trend==="down"&&e.jsxDEV("div",{className:"flex items-center gap-1 text-red-600",children:[e.jsxDEV(yn,{style:{width:"13px",height:"13px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:249,columnNumber:27},this),e.jsxDEV("span",{style:{fontSize:"12px",fontWeight:600},children:o.change},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:250,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:248,columnNumber:25},this),o.trend==="stable"&&e.jsxDEV("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsxDEV(Fi,{style:{width:"13px",height:"13px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:255,columnNumber:27},this),e.jsxDEV("span",{style:{fontSize:"12px",fontWeight:600},children:o.change},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:256,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:254,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:240,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:239,columnNumber:19},this)]},`${o.rank}-${N}`,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:224,columnNumber:17},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:222,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:205,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:198,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/TopTabsTable.tsx",lineNumber:173,columnNumber:5},this)}function $o({scene:t}){const[n,i]=b.useState(null),[s,r]=b.useState(0),{filteredLeads:a}=se(),c=a.slice(0,12),l=t===4,f=h=>{const u=new Date(h),d=u.getHours().toString().padStart(2,"0"),o=u.getMinutes().toString().padStart(2,"0"),N=u.getDate().toString().padStart(2,"0"),E=(u.getMonth()+1).toString().padStart(2,"0"),Q=u.getFullYear();return`${d}:${o}, ${N}/${E}/${Q}`},g=h=>{const u=new Date(h),d=u.getDate().toString().padStart(2,"0"),o=(u.getMonth()+1).toString().padStart(2,"0");return`${d}/${o}`},V=h=>Array.isArray(h.images)&&h.images.length>0?h.images[0]:{"HÃ ng giáº£ â€“ HÃ ng nhÃ¡i":"https://images.unsplash.com/photo-1678693361607-2b7b66dce8f3?w=800","Gian láº­n thÆ°Æ¡ng máº¡i":"https://images.unsplash.com/photo-1580320478238-9be2382b2a47?w=800","An toÃ n thá»±c pháº©m":"https://images.unsplash.com/photo-1609819390597-783ccdfc2529?w=800","Vi pháº¡m vá» giÃ¡":"https://images.unsplash.com/photo-1754327440237-52725649bf03?w=800","Kinh doanh trÃ¡i phÃ©p":"https://images.unsplash.com/photo-1652957704659-be73b3873541?w=800","BuÃ´n láº­u â€“ Váº­n chuyá»ƒn trÃ¡i phÃ©p":"https://images.unsplash.com/photo-1740313498340-48156c8eee07?w=800","ThÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ & Máº¡ng xÃ£ há»™i":"https://images.unsplash.com/photo-1658297063569-162817482fb6?w=800","Quáº£ng cÃ¡o sai pháº¡m":"https://images.unsplash.com/photo-1677208198308-779c9c785a1c?w=800","Thuá»‘c â€“ Má»¹ pháº©m â€“ Thiáº¿t bá»‹ y táº¿":"https://images.unsplash.com/photo-1621770522713-8b47c60a6227?w=800","HÃ ng hÃ³a khÃ´ng rÃµ nguá»“n gá»‘c":"https://images.unsplash.com/photo-1567570671138-76c7e06caa3b?w=800","Vi pháº¡m trong dá»‹p cao Ä‘iá»ƒm":"https://images.unsplash.com/photo-1636036504644-1c353ae986f5?w=800","Nghi váº¥n / Dáº¥u hiá»‡u báº¥t thÆ°á»ng":"https://images.unsplash.com/photo-1763144536757-d90b9144e6ef?w=800"}[h.chuyen_de]||"https://images.unsplash.com/photo-1754638335233-e29065d73bb4?w=800",x=h=>{if(Array.isArray(h.images)&&h.images.length>0)return h.images;const u={"HÃ ng giáº£ â€“ HÃ ng nhÃ¡i":["https://images.unsplash.com/photo-1678693361607-2b7b66dce8f3?w=800","https://images.unsplash.com/photo-1672839946212-aee298e40923?w=800","https://images.unsplash.com/photo-1674471361523-195aa08e69b5?w=800"],"Gian láº­n thÆ°Æ¡ng máº¡i":["https://images.unsplash.com/photo-1580320478238-9be2382b2a47?w=800","https://images.unsplash.com/photo-1674471361523-195aa08e69b5?w=800","https://images.unsplash.com/photo-1606824722920-4c652a70f348?w=800"],"An toÃ n thá»±c pháº©m":["https://images.unsplash.com/photo-1609819390597-783ccdfc2529?w=800","https://images.unsplash.com/photo-1762592957827-99db60cfd0c7?w=800","https://images.unsplash.com/photo-1606824722920-4c652a70f348?w=800","https://images.unsplash.com/photo-1677208198308-779c9c785a1c?w=800"],"Vi pháº¡m vá» giÃ¡":["https://images.unsplash.com/photo-1754327440237-52725649bf03?w=800","https://images.unsplash.com/photo-1606824722920-4c652a70f348?w=800","https://images.unsplash.com/photo-1580320478238-9be2382b2a47?w=800"],"Kinh doanh trÃ¡i phÃ©p":["https://images.unsplash.com/photo-1652957704659-be73b3873541?w=800","https://images.unsplash.com/photo-1754638335233-e29065d73bb4?w=800","https://images.unsplash.com/photo-1677208198308-779c9c785a1c?w=800"],"BuÃ´n láº­u â€“ Váº­n chuyá»ƒn trÃ¡i phÃ©p":["https://images.unsplash.com/photo-1740313498340-48156c8eee07?w=800","https://images.unsplash.com/photo-1664382950442-0748f82f2752?w=800","https://images.unsplash.com/photo-1754638335233-e29065d73bb4?w=800"],"ThÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ & Máº¡ng xÃ£ há»™i":["https://images.unsplash.com/photo-1658297063569-162817482fb6?w=800","https://images.unsplash.com/photo-1740479049023-5ccc930f7aa5?w=800","https://images.unsplash.com/photo-1606824722920-4c652a70f348?w=800","https://images.unsplash.com/photo-1580320478238-9be2382b2a47?w=800"],"Quáº£ng cÃ¡o sai pháº¡m":["https://images.unsplash.com/photo-1677208198308-779c9c785a1c?w=800","https://images.unsplash.com/photo-1762592957827-99db60cfd0c7?w=800","https://images.unsplash.com/photo-1674471361523-195aa08e69b5?w=800"],"Thuá»‘c â€“ Má»¹ pháº©m â€“ Thiáº¿t bá»‹ y táº¿":["https://images.unsplash.com/photo-1621770522713-8b47c60a6227?w=800","https://images.unsplash.com/photo-1595464144526-5fb181b74625?w=800","https://images.unsplash.com/photo-1584791565158-a3da481054bc?w=800"],"HÃ ng hÃ³a khÃ´ng rÃµ nguá»“n gá»‘c":["https://images.unsplash.com/photo-1567570671138-76c7e06caa3b?w=800","https://images.unsplash.com/photo-1584791565158-a3da481054bc?w=800","https://images.unsplash.com/photo-1580320478238-9be2382b2a47?w=800"],"Vi pháº¡m trong dá»‹p cao Ä‘iá»ƒm":["https://images.unsplash.com/photo-1636036504644-1c353ae986f5?w=800","https://images.unsplash.com/photo-1677208198308-779c9c785a1c?w=800","https://images.unsplash.com/photo-1762592957827-99db60cfd0c7?w=800"],"Nghi váº¥n / Dáº¥u hiá»‡u báº¥t thÆ°á»ng":["https://images.unsplash.com/photo-1763144536757-d90b9144e6ef?w=800","https://images.unsplash.com/photo-1664382950442-0748f82f2752?w=800","https://images.unsplash.com/photo-1754638335233-e29065d73bb4?w=800"]},d=u[h.chuyen_de]||u["HÃ ng giáº£ â€“ HÃ ng nhÃ¡i"],o=2+h.id.charCodeAt(0)%3;return d.slice(0,o)};b.useEffect(()=>{r(0)},[n==null?void 0:n.id]);const T=h=>{const u=["Nguyá»…n","Tráº§n","LÃª","Pháº¡m","HoÃ ng","VÃµ","Äáº·ng","BÃ¹i"],d=["VÄƒn A","Thá»‹ B","VÄƒn C","Thá»‹ D","VÄƒn E","Thá»‹ F"],o=u[h.id.charCodeAt(0)%u.length],N=d[h.id.charCodeAt(1)%d.length];return`${o} ${N}`},D=h=>{const u=["090","091","094","088","086","096","097","098"],d=u[h.id.charCodeAt(2)%u.length],o=String(h.id.charCodeAt(0)*h.id.charCodeAt(1)).padStart(7,"0").slice(0,7);return`${d}${o}`},p=h=>{const u=T(h).toLowerCase().replace(/\s+/g,"."),d=["gmail.com","yahoo.com","outlook.com"],o=d[h.id.charCodeAt(3)%d.length];return`${u}@${o}`},H=h=>({"HÃ ng giáº£ â€“ HÃ ng nhÃ¡i":"PhÃ¡t hiá»‡n cá»­a hÃ ng kinh doanh sáº£n pháº©m hÃ ng giáº£ máº¡o nhÃ£n hiá»‡u ná»•i tiáº¿ng. Sáº£n pháº©m cÃ³ dáº¥u hiá»‡u lÃ m giáº£ bao bÃ¬, tem nhÃ£n, cháº¥t lÆ°á»£ng khÃ´ng Ä‘áº£m báº£o.","Gian láº­n thÆ°Æ¡ng máº¡i":"PhÃ¡t hiá»‡n cá»­a hÃ ng niÃªm yáº¿t giÃ¡ khÃ´ng Ä‘Ãºng, tÄƒng giÃ¡ Ä‘á»™t biáº¿n khÃ´ng cÃ³ lÃ½ do chÃ­nh Ä‘Ã¡ng. CÃ³ dáº¥u hiá»‡u gian láº­n cÃ¢n Ä‘o Ä‘ong Ä‘áº¿m.","An toÃ n thá»±c pháº©m":"PhÃ¡t hiá»‡n cÆ¡ sá»Ÿ kinh doanh thá»±c pháº©m khÃ´ng cÃ³ giáº¥y phÃ©p vá»‡ sinh an toÃ n thá»±c pháº©m. Äiá»u kiá»‡n báº£o quáº£n khÃ´ng Ä‘áº£m báº£o, nguy cÆ¡ áº£nh hÆ°á»Ÿng sá»©c khá»e ngÆ°á»i tiÃªu dÃ¹ng.","Vi pháº¡m vá» giÃ¡":"CÆ¡ sá»Ÿ kinh doanh khÃ´ng niÃªm yáº¿t giÃ¡, hoáº·c bÃ¡n hÃ ng cao hÆ¡n giÃ¡ niÃªm yáº¿t. CÃ³ dáº¥u hiá»‡u thu lá»£i báº¥t chÃ­nh tá»« ngÆ°á»i tiÃªu dÃ¹ng.","Kinh doanh trÃ¡i phÃ©p":"PhÃ¡t hiá»‡n cÆ¡ sá»Ÿ kinh doanh khÃ´ng cÃ³ giáº¥y phÃ©p, hoáº¡t Ä‘á»™ng trÃ¡i phÃ©p táº¡i Ä‘á»‹a bÃ n. Cáº§n xá»­ lÃ½ nghiÃªm Ä‘á»ƒ Ä‘áº£m báº£o tráº­t tá»± thá»‹ trÆ°á»ng.","BuÃ´n láº­u â€“ Váº­n chuyá»ƒn trÃ¡i phÃ©p":"PhÃ¡t hiá»‡n hÃ nh vi váº­n chuyá»ƒn hÃ ng hÃ³a khÃ´ng rÃµ nguá»“n gá»‘c, cÃ³ dáº¥u hiá»‡u buÃ´n láº­u, trá»‘n thuáº¿. Sá»‘ lÆ°á»£ng lá»›n, cáº§n kiá»ƒm tra ngay.","ThÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ & Máº¡ng xÃ£ há»™i":"TÃ i khoáº£n bÃ¡n hÃ ng trÃªn ná»n táº£ng TMÄT, máº¡ng xÃ£ há»™i quáº£ng cÃ¡o sáº£n pháº©m khÃ´ng Ä‘Ãºng thá»±c táº¿, cÃ³ dáº¥u hiá»‡u lá»«a Ä‘áº£o ngÆ°á»i tiÃªu dÃ¹ng.","Quáº£ng cÃ¡o sai pháº¡m":"Quáº£ng cÃ¡o sáº£n pháº©m cÃ³ ná»™i dung phÃ³ng Ä‘áº¡i cÃ´ng dá»¥ng, sá»­ dá»¥ng hÃ¬nh áº£nh gÃ¢y nháº§m láº«n, vi pháº¡m quy Ä‘á»‹nh phÃ¡p luáº­t vá» quáº£ng cÃ¡o.","Thuá»‘c â€“ Má»¹ pháº©m â€“ Thiáº¿t bá»‹ y táº¿":"PhÃ¡t hiá»‡n cÆ¡ sá»Ÿ bÃ¡n thuá»‘c, má»¹ pháº©m, thiáº¿t bá»‹ y táº¿ khÃ´ng cÃ³ giáº¥y phÃ©p. Sáº£n pháº©m khÃ´ng rÃµ nguá»“n gá»‘c, nguy cÆ¡ cao áº£nh hÆ°á»Ÿng sá»©c khá»e.","HÃ ng hÃ³a khÃ´ng rÃµ nguá»“n gá»‘c":"Sáº£n pháº©m khÃ´ng cÃ³ tem nhÃ£n phá»¥ tiáº¿ng Viá»‡t, khÃ´ng cÃ³ thÃ´ng tin nguá»“n gá»‘c xuáº¥t xá»© rÃµ rÃ ng. Nghi ngá» hÃ ng nháº­p láº­u, hÃ ng giáº£.","Vi pháº¡m trong dá»‹p cao Ä‘iá»ƒm":"PhÃ¡t hiá»‡n vi pháº¡m trong dá»‹p lá»…, Táº¿t, cÃ¡c sá»± kiá»‡n Ä‘áº·c biá»‡t. TÃ¬nh tráº¡ng tÄƒng giÃ¡, gÄƒm hÃ ng, kinh doanh hÃ ng giáº£ trÃ n lan.","Nghi váº¥n / Dáº¥u hiá»‡u báº¥t thÆ°á»ng":"PhÃ¡t hiá»‡n dáº¥u hiá»‡u báº¥t thÆ°á»ng, nghi ngá» cÃ³ hÃ nh vi vi pháº¡m cáº§n Ä‘Æ°á»£c cÆ¡ quan chá»©c nÄƒng kiá»ƒm tra, xÃ¡c minh lÃ m rÃµ."})[h.chuyen_de]||"PhÃ¡t hiá»‡n vi pháº¡m cáº§n Ä‘Æ°á»£c kiá»ƒm tra vÃ  xá»­ lÃ½.";return c.length===0?e.jsxDEV("div",{className:`bg-card rounded-lg border border-border overflow-hidden transition-all ${l?"ring-2 ring-primary ring-offset-2":""}`,style:{height:"220px",display:"flex",flexDirection:"column"},children:[e.jsxDEV("div",{className:"bg-muted/50 border-b border-border flex items-center justify-between flex-shrink-0",style:{height:"38px",padding:"0 12px"},children:e.jsxDEV("h3",{className:"font-semibold text-foreground",style:{fontSize:"12px"},children:"HÃ¬nh áº£nh pháº£n Ã¡nh cá»§a ngÆ°á»i dÃ¢n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:193,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:192,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 flex items-center justify-center p-8 text-center",children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-muted-foreground",style:{fontSize:"12px"},children:"KhÃ´ng cÃ³ pháº£n Ã¡nh phÃ¹ há»£p vá»›i bá»™ lá»c"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:197,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground mt-1",style:{fontSize:"11px"},children:"Thá»­ Ä‘iá»u chá»‰nh bá»™ lá»c Ä‘á»ƒ xem thÃªm"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:196,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:195,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:186,columnNumber:7},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`bg-card rounded-lg border border-border overflow-hidden transition-all ${l?"ring-2 ring-primary ring-offset-2":""}`,style:{height:"220px",display:"flex",flexDirection:"column"},children:[e.jsxDEV("div",{className:"bg-muted/50 border-b border-border flex items-center justify-between flex-shrink-0",style:{height:"38px",padding:"0 12px"},children:[e.jsxDEV("h3",{className:"font-semibold text-foreground",style:{fontSize:"12px"},children:"HÃ¬nh áº£nh pháº£n Ã¡nh cá»§a ngÆ°á»i dÃ¢n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:214,columnNumber:11},this),e.jsxDEV("span",{className:"text-muted-foreground",style:{fontSize:"11px"},children:[c.length," pháº£n Ã¡nh"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:215,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:213,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 overflow-auto",style:{padding:"8px"},children:e.jsxDEV("div",{className:"grid grid-cols-4 gap-2",children:c.map(h=>e.jsxDEV("button",{onClick:()=>i(h),className:"relative aspect-square rounded overflow-hidden border border-border hover:ring-2 hover:ring-primary transition-all group",children:[e.jsxDEV("img",{src:V(h),alt:h.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:228,columnNumber:17},this),e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:233,columnNumber:17},this),e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 p-1.5",children:e.jsxDEV("div",{className:"text-white text-left",style:{fontSize:"9px",lineHeight:"1.2"},children:[e.jsxDEV("div",{className:"font-medium truncate",children:h.chuyen_de},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:236,columnNumber:21},this),e.jsxDEV("div",{className:"text-white/70",children:g(h.created_at)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:237,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:235,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:234,columnNumber:17},this),e.jsxDEV("div",{className:`absolute top-1 right-1 rounded font-medium ${h.status==="ÄÃ£ xÃ¡c minh"?"bg-green-500/90 text-white":h.status==="Äang xá»­ lÃ½"?"bg-yellow-500/90 text-white":"bg-blue-500/90 text-white"}`,style:{fontSize:"8px",padding:"2px 4px"},children:h.status},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:240,columnNumber:17},this)]},h.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:223,columnNumber:15},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:221,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:220,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:207,columnNumber:7},this),n&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",style:{zIndex:9999},onClick:()=>i(null),children:e.jsxDEV("div",{className:"bg-card rounded-lg border border-border overflow-hidden max-w-4xl w-full",style:{maxHeight:"90vh"},onClick:h=>h.stopPropagation(),children:[e.jsxDEV("div",{className:"bg-muted/50 border-b border-border flex items-center justify-between",style:{padding:"14px 16px"},children:[e.jsxDEV("h2",{className:"font-semibold text-foreground",style:{fontSize:"15px"},children:"Chi tiáº¿t pháº£n Ã¡nh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:272,columnNumber:15},this),e.jsxDEV(R,{variant:"ghost",size:"sm",onClick:()=>i(null),className:"hover:bg-muted",style:{height:"32px",width:"32px",padding:0},children:e.jsxDEV(re,{style:{width:"16px",height:"16px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:282,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:275,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:271,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-6",style:{padding:"20px"},children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"relative aspect-[4/3] rounded-lg overflow-hidden border border-border group",children:[e.jsxDEV("img",{src:x(n)[s],alt:n.title,className:"w-full h-full object-cover"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:292,columnNumber:19},this),e.jsxDEV("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-sm text-white font-medium rounded",style:{fontSize:"10px",padding:"4px 8px"},children:"MAPPA"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:297,columnNumber:19},this),e.jsxDEV("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-sm text-white font-medium rounded",style:{fontSize:"10px",padding:"4px 8px"},children:[s+1," / ",x(n).length]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:302,columnNumber:19},this),x(n).length>1&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(R,{variant:"outline",size:"icon",onClick:()=>r(h=>Math.max(h-1,0)),disabled:s===0,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/40 hover:bg-black/60 border-white/20 text-white disabled:opacity-30 opacity-0 group-hover:opacity-100 transition-opacity",style:{height:"32px",width:"32px"},children:e.jsxDEV(vt,{style:{width:"16px",height:"16px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:317,columnNumber:25},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:309,columnNumber:23},this),e.jsxDEV(R,{variant:"outline",size:"icon",onClick:()=>r(h=>Math.min(h+1,x(n).length-1)),disabled:s===x(n).length-1,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/40 hover:bg-black/60 border-white/20 text-white disabled:opacity-30 opacity-0 group-hover:opacity-100 transition-opacity",style:{height:"32px",width:"32px"},children:e.jsxDEV(ft,{style:{width:"16px",height:"16px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:327,columnNumber:25},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:319,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:308,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:291,columnNumber:17},this),x(n).length>1&&e.jsxDEV("div",{className:"flex gap-2 overflow-x-auto",children:x(n).map((h,u)=>e.jsxDEV("button",{onClick:()=>r(u),className:`flex-shrink-0 rounded overflow-hidden border-2 transition-all ${u===s?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}`,style:{width:"72px",height:"54px"},children:e.jsxDEV("img",{src:h,alt:`áº¢nh ${u+1}`,className:"w-full h-full object-cover"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:347,columnNumber:25},this)},u,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:337,columnNumber:23},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:335,columnNumber:19},this),e.jsxDEV("div",{className:`inline-flex items-center rounded font-medium ${n.status==="ÄÃ£ xÃ¡c minh"?"bg-green-500/10 text-green-600 border border-green-500/30":n.status==="Äang xá»­ lÃ½"?"bg-yellow-500/10 text-yellow-600 border border-yellow-500/30":"bg-blue-500/10 text-blue-600 border border-blue-500/30"}`,style:{fontSize:"12px",padding:"4px 10px"},children:n.status},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:358,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:289,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground mb-1.5",style:{fontSize:"11px"},children:[e.jsxDEV(Xi,{style:{width:"13px",height:"13px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:376,columnNumber:21},this),e.jsxDEV("span",{children:"Danh má»¥c vi pháº¡m"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:377,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:375,columnNumber:19},this),e.jsxDEV("div",{className:"font-semibold text-foreground",style:{fontSize:"14px"},children:n.chuyen_de},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:379,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:374,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground mb-1.5",style:{fontSize:"11px"},children:[e.jsxDEV(Bt,{style:{width:"13px",height:"13px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:386,columnNumber:21},this),e.jsxDEV("span",{children:"MÃ´ táº£ chi tiáº¿t"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:387,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:385,columnNumber:19},this),e.jsxDEV("div",{className:"text-foreground leading-relaxed",style:{fontSize:"13px"},children:H(n)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:389,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:384,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground mb-1.5",style:{fontSize:"11px"},children:[e.jsxDEV(Mt,{style:{width:"13px",height:"13px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:396,columnNumber:21},this),e.jsxDEV("span",{children:"NgÆ°á»i bÃ¡o cÃ¡o"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:397,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:395,columnNumber:19},this),e.jsxDEV("div",{className:"text-foreground",style:{fontSize:"13px",fontWeight:500},children:T(n)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:399,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:394,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground mb-1.5",style:{fontSize:"11px"},children:[e.jsxDEV(U,{style:{width:"13px",height:"13px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:406,columnNumber:21},this),e.jsxDEV("span",{children:"Äá»‹a bÃ n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:407,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:405,columnNumber:19},this),e.jsxDEV("div",{className:"text-foreground",style:{fontSize:"13px",fontWeight:500},children:[n.dia_ban.ward||n.dia_ban.district,", ",n.dia_ban.province]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:409,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:404,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground mb-1.5",style:{fontSize:"11px"},children:[e.jsxDEV(Xt,{style:{width:"13px",height:"13px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:416,columnNumber:21},this),e.jsxDEV("span",{children:"Thá»i gian"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:417,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:415,columnNumber:19},this),e.jsxDEV("div",{className:"text-foreground",style:{fontSize:"13px",fontWeight:500},children:f(n.created_at)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:419,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:414,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground mb-1.5",style:{fontSize:"11px"},children:[e.jsxDEV(Ki,{style:{width:"13px",height:"13px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:426,columnNumber:21},this),e.jsxDEV("span",{children:"LiÃªn há»‡"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:427,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:425,columnNumber:19},this),e.jsxDEV("div",{className:"text-foreground",style:{fontSize:"13px",fontWeight:500},children:D(n)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:429,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:424,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground mb-1.5",style:{fontSize:"11px"},children:[e.jsxDEV(Gi,{style:{width:"13px",height:"13px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:436,columnNumber:21},this),e.jsxDEV("span",{children:"Email"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:437,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:435,columnNumber:19},this),e.jsxDEV("div",{className:"text-foreground",style:{fontSize:"13px",fontWeight:500},children:p(n)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:439,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:434,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:373,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:287,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:265,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:260,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/CitizenReportsGallery.tsx",lineNumber:206,columnNumber:5},this)}function Oo({scene:t}){const[n,i]=b.useState(0),{filteredTasks:s,filteredLeads:r,filteredEvidences:a}=se(),c=b.useMemo(()=>{const l=[];s.filter(x=>x.is_overdue).slice(0,5).forEach(x=>{l.push({id:x.id,icon:Me,color:"#f97316",priority:x.priority,message:`Nhiá»‡m vá»¥ ${x.id} quÃ¡ háº¡n táº¡i ${x.dia_ban.ward||x.dia_ban.district}`})});const g=a.filter(x=>x.status==="Chá» duyá»‡t").slice(0,3);if(g.length>0&&l.push({id:"evidence-pending",icon:he,color:"#8b5cf6",priority:"P2",message:`Chá»©ng cá»© má»›i chá» duyá»‡t: ${g.length} má»¥c`}),r.filter(x=>x.risk_score>70).slice(0,3).forEach(x=>{l.push({id:x.id,icon:J,color:"#ef4444",priority:"P1",message:`Nguá»“n tin rá»§i ro cao táº¡i ${x.dia_ban.ward||x.dia_ban.district} (${Math.round(x.risk_score)}/100)`})}),r.length>0){const x=r.filter(T=>Date.now()-new Date(T.created_at).getTime()<6048e5).length;x>10&&l.push({id:"leads-trending",icon:de,color:"#10b981",priority:"P3",message:`Nguá»“n tin má»›i tÄƒng +${x} trong 7 ngÃ y`})}return l.length>0?l:[{id:"no-alerts",icon:J,color:"#10b981",priority:"P3",message:"KhÃ´ng cÃ³ cáº£nh bÃ¡o kháº©n cáº¥p"}]},[s,r,a]);return b.useEffect(()=>{const l=setInterval(()=>{i(f=>{const g=f-1;return g<-2e3?0:g})},30);return()=>clearInterval(l)},[]),e.jsxDEV("div",{className:"bg-card border-t border-border flex items-center overflow-hidden flex-shrink-0",style:{height:"48px"},children:[e.jsxDEV("div",{className:"flex-shrink-0 bg-primary/10 border-r border-border flex items-center gap-2",style:{padding:"0 12px"},children:[e.jsxDEV(J,{style:{width:"16px",height:"16px"},className:"text-primary"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:92,columnNumber:9},this),e.jsxDEV("span",{className:"font-semibold text-primary whitespace-nowrap",style:{fontSize:"12px"},children:"ThÃ´ng bÃ¡o & cáº£nh bÃ¡o"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:93,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:91,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 overflow-hidden relative",children:e.jsxDEV("div",{className:"flex items-center gap-8 whitespace-nowrap",style:{transform:`translateX(${n}px)`,transition:"transform 0.03s linear"},children:[...c,...c,...c].map((l,f)=>e.jsxDEV("div",{className:"flex items-center gap-3",style:{padding:"0 12px"},children:[e.jsxDEV("div",{className:"rounded-full flex items-center justify-center flex-shrink-0",style:{width:"24px",height:"24px",backgroundColor:`${l.color}20`},children:e.jsxDEV(l.icon,{style:{width:"14px",height:"14px",color:l.color}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:116,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:112,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-bold rounded",style:{fontSize:"10px",padding:"2px 6px",backgroundColor:`${l.color}20`,color:l.color},children:l.priority},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:120,columnNumber:17},this),e.jsxDEV("span",{className:"text-foreground",style:{fontSize:"12px"},children:l.message},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:131,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:119,columnNumber:15},this),e.jsxDEV("div",{className:"bg-border flex-shrink-0",style:{width:"1px",height:"16px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:136,columnNumber:15},this)]},`${l.id}-${f}`,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:107,columnNumber:13},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:99,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:98,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/AlertTicker.tsx",lineNumber:90,columnNumber:5},this)}function Uo(){const[t,n]=b.useState(null),[i,s]=b.useState(!0),{filteredHotspots:r}=se(),a=b.useMemo(()=>{const l=new Map;r.forEach(g=>{const V=`${g.dia_ban.ward}, ${g.dia_ban.province}`;l.has(V)||l.set(V,[]),l.get(V).push(g)});const f=[];return l.forEach((g,V)=>{const T=g.reduce((D,p)=>D+p.risk_score,0)/g.length;if(T>75&&g.length>=3){const D=g[0];f.push({id:`alert-${D.id}`,location:D.dia_ban.ward,province:D.dia_ban.province,riskScore:Math.round(T),previousRiskScore:Math.round(T*.6),incidentCount:g.length,timeDetected:new Date().toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}),severity:T>85?"critical":"high",reason:g.length>5?"PhÃ¡t hiá»‡n cá»¥m vi pháº¡m táº­p trung báº¥t thÆ°á»ng":"Má»©c Ä‘á»™ nghiÃªm trá»ng vi pháº¡m tÄƒng Ä‘á»™t biáº¿n"})}}),f.sort((g,V)=>V.riskScore-g.riskScore),f.length===0?[{id:"alert-demo-1",location:"PhÆ°á»ng Báº¿n NghÃ©",province:"TP. Há»“ ChÃ­ Minh",riskScore:92,previousRiskScore:58,incidentCount:7,timeDetected:new Date().toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}),severity:"critical",reason:"PhÃ¡t hiá»‡n cá»¥m vi pháº¡m táº­p trung báº¥t thÆ°á»ng vá» hÃ ng giáº£, hÃ ng nhÃ¡i"}]:f.slice(0,1)},[r]);if(!i||a.length===0)return null;const c=l=>{s(!1)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed left-1/2",style:{top:"130px",transform:"translateX(-50%)",maxWidth:"900px",width:"90%",animation:"slideInDown 0.4s ease-out",zIndex:1e4},children:e.jsxDEV("div",{className:"bg-card border-2 shadow-lg",style:{borderColor:"var(--destructive)",borderRadius:"var(--radius-lg)",backgroundColor:"rgba(217, 45, 32, 0.08)",backdropFilter:"blur(12px)",boxShadow:"0 8px 24px rgba(217, 45, 32, 0.3)"},children:a.map((l,f)=>e.jsxDEV("div",{className:"flex items-center gap-4 p-4",style:{borderBottom:f<a.length-1?"1px solid rgba(217, 45, 32, 0.2)":"none"},children:[e.jsxDEV("div",{className:"flex items-center justify-center animate-pulse",style:{width:"48px",height:"48px",borderRadius:"var(--radius-md)",backgroundColor:"rgba(217, 45, 32, 0.15)"},children:e.jsxDEV(J,{style:{width:"28px",height:"28px",color:"var(--destructive)"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:134,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:125,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxDEV("span",{className:"text-foreground",style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-bold)"},children:"Cáº¢NH BÃO NGUY Cáº¤P"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:140,columnNumber:19},this),e.jsxDEV("span",{className:"px-2 py-0.5",style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-medium)",backgroundColor:l.severity==="critical"?"#dc2626":"#ea580c",color:"white",borderRadius:"var(--radius-sm)"},children:l.severity==="critical"?"KHáº¨N Cáº¤P":"CAO"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:149,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:139,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsxDEV(U,{style:{width:"14px",height:"14px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:165,columnNumber:21},this),e.jsxDEV("span",{style:{fontSize:"var(--text-xs)"},children:[l.location,", ",l.province]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:166,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:164,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsxDEV(de,{style:{width:"14px",height:"14px",color:"#ef4444"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:172,columnNumber:21},this),e.jsxDEV("span",{style:{fontSize:"var(--text-xs)"},children:["Rá»§i ro: ",l.previousRiskScore," â†’ ",l.riskScore]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:173,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:171,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsxDEV(Me,{style:{width:"14px",height:"14px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:179,columnNumber:21},this),e.jsxDEV("span",{style:{fontSize:"var(--text-xs)"},children:l.timeDetected},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:180,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:178,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:163,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:138,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(R,{variant:"default",size:"sm",onClick:()=>n(l),style:{backgroundColor:"#ef4444",color:"white",fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-medium)"},onMouseEnter:g=>{g.currentTarget.style.backgroundColor="#dc2626"},onMouseLeave:g=>{g.currentTarget.style.backgroundColor="#ef4444"},children:"Xem chi tiáº¿t"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:189,columnNumber:17},this),e.jsxDEV(R,{variant:"ghost",size:"sm",onClick:()=>c(l.id),children:e.jsxDEV(re,{style:{width:"16px",height:"16px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:214,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:209,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:188,columnNumber:15},this)]},l.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:117,columnNumber:13},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:106,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:95,columnNumber:7},this),t&&e.jsxDEV("div",{className:"fixed inset-0 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",zIndex:10001},onClick:()=>n(null),children:e.jsxDEV("div",{className:"bg-card border border-border shadow-xl",style:{borderRadius:"var(--radius-lg)",maxWidth:"700px",width:"90%",maxHeight:"80vh",overflow:"auto"},onClick:l=>l.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b border-border",style:{backgroundColor:"rgba(239, 68, 68, 0.05)"},children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center",style:{width:"40px",height:"40px",borderRadius:"var(--radius-md)",backgroundColor:"rgba(239, 68, 68, 0.15)"},children:e.jsxDEV(J,{style:{width:"24px",height:"24px",color:"#ef4444"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:261,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:252,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-foreground",style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-weight-bold)"},children:"Chi tiáº¿t cáº£nh bÃ¡o nguy cáº¥p"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:264,columnNumber:19},this),e.jsxDEV("p",{className:"text-muted-foreground",style:{fontSize:"var(--text-xs)"},children:["Cp nháº­t lÃºc: ",t.timeDetected]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:273,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:263,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:251,columnNumber:15},this),e.jsxDEV(R,{variant:"ghost",size:"sm",onClick:()=>n(null),children:e.jsxDEV(re,{style:{width:"20px",height:"20px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:286,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:281,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:245,columnNumber:13},this),e.jsxDEV("div",{className:"p-6 space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-muted-foreground mb-2",style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-medium)"},children:"Äá»‹a bÃ n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:295,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(U,{style:{width:"16px",height:"16px",color:"var(--muted-foreground)"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:302,columnNumber:21},this),e.jsxDEV("p",{className:"text-foreground",style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-medium)"},children:[t.location,", ",t.province]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:303,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:301,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:294,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-muted-foreground mb-2",style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-medium)"},children:"Má»©c Ä‘á»™ nguy hiá»ƒm"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:313,columnNumber:19},this),e.jsxDEV("div",{className:"inline-flex items-center px-3 py-1.5",style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-bold)",backgroundColor:t.severity==="critical"?"#dc2626":"#ea580c",color:"white",borderRadius:"var(--radius-md)"},children:t.severity==="critical"?"KHáº¨N Cáº¤P":"CAO"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:319,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:312,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:293,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-muted-foreground mb-2",style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-medium)"},children:"Chá»‰ sá»‘ rá»§i ro"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:336,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-muted-foreground",style:{fontSize:"var(--text-xs)"},children:"TrÆ°á»›c Ä‘Ã³"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:344,columnNumber:21},this),e.jsxDEV("p",{className:"text-foreground tabular-nums",style:{fontSize:"28px",fontWeight:"var(--font-weight-bold)"},children:t.previousRiskScore},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:350,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:343,columnNumber:19},this),e.jsxDEV(de,{style:{width:"24px",height:"24px",color:"#ef4444"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:357,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-muted-foreground",style:{fontSize:"var(--text-xs)"},children:"Hiá»‡n táº¡i"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:359,columnNumber:21},this),e.jsxDEV("p",{className:"tabular-nums",style:{fontSize:"28px",fontWeight:"var(--font-weight-bold)",color:"#ef4444"},children:t.riskScore},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:365,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:358,columnNumber:19},this),e.jsxDEV("div",{className:"ml-auto px-3 py-1",style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-bold)",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",borderRadius:"var(--radius-md)"},children:["+",Math.round((t.riskScore-t.previousRiskScore)/t.previousRiskScore*100),"%"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:376,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:342,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:335,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-muted-foreground mb-2",style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-medium)"},children:"Sá»‘ vi pháº¡m phÃ¡t hiá»‡n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:393,columnNumber:17},this),e.jsxDEV("p",{className:"text-foreground tabular-nums",style:{fontSize:"32px",fontWeight:"var(--font-weight-bold)"},children:[t.incidentCount,e.jsxDEV("span",{className:"text-muted-foreground",style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-normal)"},children:[" ","vi pháº¡m"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:404,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:399,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:392,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-muted-foreground mb-2",style:{fontSize:"var(--text-xs)",fontWeight:"var(--font-weight-medium)"},children:"LÃ½ do cáº£nh bÃ¡o"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:415,columnNumber:17},this),e.jsxDEV("p",{className:"text-foreground",style:{fontSize:"var(--text-sm)"},children:t.reason},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:421,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:414,columnNumber:15},this),e.jsxDEV("div",{className:"p-4 border border-border",style:{borderRadius:"var(--radius-md)",backgroundColor:"rgba(59, 130, 246, 0.05)"},children:[e.jsxDEV("p",{className:"text-foreground mb-3",style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-weight-bold)"},children:"Khuyáº¿n nghá»‹ hÃ nh Ä‘á»™ng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:437,columnNumber:17},this),e.jsxDEV("ul",{className:"space-y-2",children:[e.jsxDEV("li",{className:"text-foreground flex items-start gap-2",style:{fontSize:"var(--text-sm)"},children:[e.jsxDEV("span",{style:{color:"#3b82f6"},children:"â€¢"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:448,columnNumber:21},this),e.jsxDEV("span",{children:"Triá»ƒn khai Ä‘oÃ n kiá»ƒm tra tÄƒng cÆ°á»ng táº¡i Ä‘á»‹a bÃ n"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:449,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:444,columnNumber:19},this),e.jsxDEV("li",{className:"text-foreground flex items-start gap-2",style:{fontSize:"var(--text-sm)"},children:[e.jsxDEV("span",{style:{color:"#3b82f6"},children:"â€¢"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:455,columnNumber:21},this),e.jsxDEV("span",{children:"Phá»‘i há»£p vá»›i lá»±c lÆ°á»£ng chá»©c nÄƒng Ä‘á»‹a phÆ°Æ¡ng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:456,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:451,columnNumber:19},this),e.jsxDEV("li",{className:"text-foreground flex items-start gap-2",style:{fontSize:"var(--text-sm)"},children:[e.jsxDEV("span",{style:{color:"#3b82f6"},children:"â€¢"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:462,columnNumber:21},this),e.jsxDEV("span",{children:"TÄƒng cÆ°á»ng giÃ¡m sÃ¡t vÃ  thu tháº­p chá»©ng cá»©"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:463,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:458,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:443,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:430,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:291,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-border",style:{backgroundColor:"var(--muted)"},children:[e.jsxDEV(R,{variant:"outline",onClick:()=>n(null),children:"ÄÃ³ng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:476,columnNumber:15},this),e.jsxDEV(R,{variant:"default",onClick:()=>{n(null),window.location.href="/ban-do-dieu-hanh"},style:{backgroundColor:"var(--primary)",color:"white"},children:[e.jsxDEV($i,{style:{width:"16px",height:"16px",marginRight:"6px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:493,columnNumber:17},this),"Xem trÃªn báº£n Ä‘á»“"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:482,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:470,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:233,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:224,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/components/tv/EmergencyAlertBanner.tsx",lineNumber:93,columnNumber:5},this)}const Wo={autoPlayScenes:!0,sceneIntervalSeconds:25,showAlertTicker:!0,showEmergencyBanner:!0,showCitizenGallery:!0};function qo(){const t=et(),[n,i]=Ji("tv-settings",Wo),[s,r]=b.useState(1),a=5,c=Math.max(5,n.sceneIntervalSeconds)*1e3;b.useEffect(()=>{if(!n.autoPlayScenes)return;const x=setInterval(()=>{r(T=>T>=a?1:T+1)},c);return()=>clearInterval(x)},[n.autoPlayScenes,n.sceneIntervalSeconds,a]);const l=x=>{r(x==="prev"?T=>T<=1?a:T-1:T=>T>=a?1:T+1)},f=x=>{i(T=>({...T,...x}))},g=()=>{t(-1)},V=async()=>{try{document.fullscreenElement?await document.exitFullscreen():await document.documentElement.requestFullscreen()}catch{}};return e.jsxDEV("div",{className:"min-h-screen bg-background",style:{aspectRatio:"16/9"},children:e.jsxDEV("div",{className:"max-w-[1920px] mx-auto h-screen flex flex-col relative",children:[e.jsxDEV(wo,{onExitTV:g,onFullscreen:V,settings:n,onSettingsChange:f,currentScene:s,totalScenes:a,onSceneChange:l},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:73,columnNumber:9},this),e.jsxDEV(Fo,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:83,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 flex gap-3 p-4 overflow-hidden relative",children:[e.jsxDEV("div",{className:"w-[65%] flex flex-col gap-3",children:e.jsxDEV(Xo,{scene:s},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:87,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:86,columnNumber:11},this),e.jsxDEV("div",{className:"w-[35%] flex flex-col overflow-y-auto",style:{gap:"10px"},children:[e.jsxDEV(Ko,{scene:s},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:91,columnNumber:13},this),e.jsxDEV(Go,{scene:s},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:92,columnNumber:13},this),n.showCitizenGallery&&e.jsxDEV($o,{scene:s},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:94,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:90,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:85,columnNumber:9},this),n.showAlertTicker&&e.jsxDEV(Oo,{scene:s},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:99,columnNumber:38},this),n.showEmergencyBanner&&e.jsxDEV(Uo,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:100,columnNumber:42},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:72,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:71,columnNumber:5},this)}function Yo(){return e.jsxDEV(Qo,{children:e.jsxDEV(qo,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:109,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/pages/TvWallboardPage.tsx",lineNumber:108,columnNumber:5},this)}const Jo=[Zi,es,fi],Zo=t=>t?t.startsWith("system")?"SYSTEM":t.startsWith("iam")?"IAM":t.startsWith("dms")?"DMS":"OPS":"OPS",el=Jo.map((t,n)=>{const i=t.path??`installed-${n}`;return{key:`installed:${i}`,name:`Installed: ${i}`,group:Zo(t.path),order:1e3+n,routes:[t]}}),tl=[vi,gi,bi,Vi,...el],nl=tl.flatMap(t=>t.routes),_t=[{id:"DKT-2026-01-001",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ kinh doanh thá»±c pháº©m Quáº­n 1",code:"DKT-2026-01-001",planId:"KH-2026-Q1-001",planName:"Káº¿ hoáº¡ch kiá»ƒm tra nÃ´ng sáº£n Q1/2026 - TP.HCM",type:"routine",status:"in_progress",startDate:"2026-01-06",endDate:"2026-01-10",actualStartDate:"2026-01-06",leadUnit:"Chi cá»¥c QLTT Quáº­n 1",team:[{id:"U001",name:"Tráº§n VÄƒn A",role:"leader"},{id:"U002",name:"Nguyá»…n Thá»‹ B",role:"member"},{id:"U003",name:"LÃª VÄƒn C",role:"member"}],teamSize:3,totalTargets:25,inspectedTargets:12,passedCount:8,warningCount:3,violationCount:1,createdBy:"Nguyá»…n VÄƒn An",createdAt:"2026-01-02",notes:"Táº­p trung kiá»ƒm tra cÃ¡c siÃªu thá»‹ vÃ  chá»£ truyá»n thá»‘ng"},{id:"DKT-2026-01-002",name:"Kiá»ƒm tra Ä‘á»™t xuáº¥t cÆ¡ sá»Ÿ bÃ¡nh káº¹o",code:"DKT-2026-01-002",type:"sudden",status:"in_progress",startDate:"2026-01-07",endDate:"2026-01-09",actualStartDate:"2026-01-07",leadUnit:"Chi cá»¥c QLTT Quáº­n 3",team:[{id:"U004",name:"Pháº¡m Minh D",role:"leader"},{id:"U005",name:"HoÃ ng Thá»‹ E",role:"member"}],teamSize:2,totalTargets:8,inspectedTargets:3,passedCount:2,warningCount:1,violationCount:0,createdBy:"Pháº¡m Minh",createdAt:"2026-01-06"},{id:"DKT-2026-01-003",name:"Kiá»ƒm tra chuá»—i cá»­a hÃ ng tiá»‡n lá»£i Quáº­n 7",code:"DKT-2026-01-003",planId:"KH-2026-Q1-001",planName:"Káº¿ hoáº¡ch kiá»ƒm tra nÃ´ng sáº£n Q1/2026 - TP.HCM",type:"routine",status:"pending_approval",startDate:"2026-01-13",endDate:"2026-01-17",leadUnit:"Chi cá»¥c QLTT Quáº­n 7",team:[{id:"U006",name:"Äá»— VÄƒn F",role:"leader"},{id:"U007",name:"BÃ¹i Thá»‹ G",role:"member"},{id:"U008",name:"VÃµ VÄƒn H",role:"expert"}],teamSize:3,totalTargets:30,inspectedTargets:0,createdBy:"LÃª Minh",createdAt:"2026-01-05"},{id:"DKT-2026-01-004",name:"TÃ¡i kiá»ƒm tra cÆ¡ sá»Ÿ vi pháº¡m thÃ¡ng 12/2025",code:"DKT-2026-01-004",type:"followup",status:"pending_approval",startDate:"2026-01-15",endDate:"2026-01-16",leadUnit:"Chi cá»¥c QLTT Quáº­n 5",team:[{id:"U009",name:"Mai Thá»‹ I",role:"leader"},{id:"U010",name:"TrÆ°Æ¡ng VÄƒn K",role:"member"}],teamSize:2,totalTargets:5,inspectedTargets:0,createdBy:"Mai Thá»‹ I",createdAt:"2026-01-08",notes:"Kiá»ƒm tra cÃ¡c cÆ¡ sá»Ÿ Ä‘Ã£ bá»‹ xá»­ pháº¡t Ä‘á»ƒ Ä‘áº£m báº£o cháº¥p hÃ nh kháº¯c phá»¥c"},{id:"DKT-2025-12-010",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ váº­t liá»‡u xÃ¢y dá»±ng Quáº­n 12",code:"DKT-2025-12-010",planId:"KH-IV/2025-TPHCM",planName:"Káº¿ hoáº¡ch kiá»ƒm tra Ä‘á»‹nh ká»³ quÃ½ IV/2025 - TP.HCM",type:"routine",status:"completed",startDate:"2025-12-10",endDate:"2025-12-20",actualStartDate:"2025-12-10",actualEndDate:"2025-12-20",leadUnit:"Chi cá»¥c QLTT Quáº­n 12",team:[{id:"U014",name:"Há»“ VÄƒn O",role:"leader"},{id:"U015",name:"Äáº·ng Thá»‹ P",role:"member"}],teamSize:2,totalTargets:15,inspectedTargets:15,passedCount:10,warningCount:3,violationCount:2,createdBy:"Há»“ VÄƒn O",createdAt:"2025-12-01"},{id:"DKT-2025-12-009",name:"Kiá»ƒm tra theo khiáº¿u náº¡i - Cá»­a hÃ ng XYZ",code:"DKT-2025-12-009",type:"targeted",status:"completed",startDate:"2025-12-15",endDate:"2025-12-15",actualStartDate:"2025-12-15",actualEndDate:"2025-12-15",leadUnit:"Chi cá»¥c QLTT Quáº­n 2",team:[{id:"U016",name:"Chu VÄƒn Q",role:"leader"},{id:"U017",name:"LÃ¢m Thá»‹ R",role:"expert"}],teamSize:2,totalTargets:1,inspectedTargets:1,passedCount:0,warningCount:0,violationCount:1,createdBy:"Chu VÄƒn Q",createdAt:"2025-12-14",notes:"Kiá»ƒm tra theo khiáº¿u náº¡i cá»§a ngÆ°á»i tiÃªu dÃ¹ng vá» hÃ ng giáº£"},{id:"DKT-2026-01-006",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ kinh doanh dÆ°á»£c pháº©m",code:"DKT-2026-01-006",planId:"KH-2026-Q1-001",planName:"Káº¿ hoáº¡ch kiá»ƒm tra nÃ´ng sáº£n Q1/2026 - TP.HCM",type:"routine",status:"draft",startDate:"2026-01-20",endDate:"2026-01-25",leadUnit:"Chi cá»¥c QLTT Quáº­n 6",team:[],teamSize:0,totalTargets:18,inspectedTargets:0,createdBy:"Nguyá»…n Thá»‹ S",createdAt:"2026-01-08"},{id:"DKT-2026-01-007",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ kinh doanh Ä‘iá»‡n tá»­",code:"DKT-2026-01-007",type:"routine",status:"draft",startDate:"2026-01-22",endDate:"2026-01-28",leadUnit:"Chi cá»¥c QLTT Quáº­n 10",team:[],teamSize:0,totalTargets:12,inspectedTargets:0,createdBy:"Tráº§n VÄƒn T",createdAt:"2026-01-08"},{id:"DKT-2026-01-015",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ sáº£n xuáº¥t Ä‘á»“ chÆ¡i tráº» em",code:"DKT-2026-01-015",planId:"KH-2026-Q1-002",planName:"Káº¿ hoáº¡ch kiá»ƒm tra cháº¥t lÆ°á»£ng sáº£n pháº©m cÃ´ng nghiá»‡p Q1/2026",type:"targeted",status:"draft",startDate:"2026-01-25",endDate:"2026-01-30",leadUnit:"Chi cá»¥c QLTT Quáº­n 4",team:[],teamSize:0,totalTargets:20,inspectedTargets:0,createdBy:"LÃª Thá»‹ U",createdAt:"2026-01-10",notes:"Cáº§n kiá»ƒm tra cháº·t cháº½ cÃ¡c sáº£n pháº©m Ä‘á»“ chÆ¡i trÆ°á»›c Táº¿t NguyÃªn ÄÃ¡n"},{id:"DKT-2026-01-016",name:"Kiá»ƒm tra Ä‘á»™t xuáº¥t chuá»—i nhÃ  hÃ ng Äƒn uá»‘ng",code:"DKT-2026-01-016",type:"sudden",status:"draft",startDate:"2026-01-18",endDate:"2026-01-20",leadUnit:"Chi cá»¥c QLTT Quáº­n 8",team:[],teamSize:0,totalTargets:8,inspectedTargets:0,createdBy:"Phan VÄƒn V",createdAt:"2026-01-11",notes:"Kiá»ƒm tra vá»‡ sinh an toÃ n thá»±c pháº©m táº¡i cÃ¡c nhÃ  hÃ ng cÃ³ khiáº¿u náº¡i"},{id:"DKT-2026-01-017",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ bÃ¡n láº» hÃ³a má»¹ pháº©m",code:"DKT-2026-01-017",planId:"KH-2026-Q1-003",planName:"Káº¿ hoáº¡ch kiá»ƒm tra hÃ³a má»¹ pháº©m Q1/2026 - HÃ  Ná»™i",type:"routine",status:"draft",startDate:"2026-02-01",endDate:"2026-02-05",leadUnit:"Chi cá»¥c QLTT Quáº­n HoÃ ng Mai",team:[],teamSize:0,totalTargets:15,inspectedTargets:0,createdBy:"Äáº·ng Minh W",createdAt:"2026-01-12"},{id:"DKT-2026-01-011",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ sáº£n xuáº¥t bÃ¡nh káº¹o Táº¿t",code:"DKT-2026-01-011",planId:"KH-2026-Q1-001",planName:"Káº¿ hoáº¡ch kiá»ƒm tra nÃ´ng sáº£n Q1/2026 - TP.HCM",type:"routine",status:"approved",startDate:"2026-01-16",endDate:"2026-01-20",leadUnit:"Chi cá»¥c QLTT Quáº­n 8",team:[{id:"U025",name:"Phan VÄƒn AA",role:"leader"},{id:"U026",name:"Trá»‹nh Thá»‹ BB",role:"member"},{id:"U027",name:"VÅ© VÄƒn CC",role:"member"}],teamSize:3,totalTargets:15,inspectedTargets:0,createdBy:"Phan VÄƒn AA",createdAt:"2026-01-10",notes:"ÄÃ£ Ä‘Æ°á»£c phÃª duyá»‡t, sáºµn sÃ ng triá»ƒn khai"},{id:"DKT-2026-01-018",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ kinh doanh phÃ¢n bÃ³n",code:"DKT-2026-01-018",planId:"KH-2026-Q1-004",planName:"Káº¿ hoáº¡ch kiá»ƒm tra phÃ¢n bÃ³n Q1/2026 - Äá»“ng Nai",type:"routine",status:"active",startDate:"2026-01-08",endDate:"2026-01-15",actualStartDate:"2026-01-08",leadUnit:"Chi cá»¥c QLTT BiÃªn HÃ²a",team:[{id:"U030",name:"LÆ°Æ¡ng VÄƒn FF",role:"leader"},{id:"U031",name:"Mai Thá»‹ GG",role:"member"},{id:"U032",name:"NhÃ¢m VÄƒn HH",role:"member"}],teamSize:3,totalTargets:22,inspectedTargets:0,createdBy:"LÆ°Æ¡ng VÄƒn FF",createdAt:"2026-01-03",notes:"ÄÃ£ triá»ƒn khai nhÆ°ng chÆ°a báº¯t Ä‘áº§u kiá»ƒm tra hiá»‡n trÆ°á»ng"},{id:"DKT-2026-01-019",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ kinh doanh xÄƒng dáº§u",code:"DKT-2026-01-019",planId:"KH-2026-Q1-005",planName:"Káº¿ hoáº¡ch kiá»ƒm tra xÄƒng dáº§u Q1/2026 - TP.HCM",type:"targeted",status:"active",startDate:"2026-01-10",endDate:"2026-01-20",actualStartDate:"2026-01-10",leadUnit:"Chi cá»¥c QLTT Quáº­n TÃ¢n BÃ¬nh",team:[{id:"U033",name:"Ã”ng VÄƒn II",role:"leader"},{id:"U034",name:"Phan Thá»‹ JJ",role:"member"},{id:"U035",name:"QuÃ¡ch VÄƒn KK",role:"expert"},{id:"U036",name:"Rá»“ng Thá»‹ LL",role:"member"}],teamSize:4,totalTargets:30,inspectedTargets:0,createdBy:"Ã”ng VÄƒn II",createdAt:"2026-01-04",notes:"Äang trong giai Ä‘oáº¡n chuáº©n bá»‹ triá»ƒn khai hiá»‡n trÆ°á»ng"},{id:"DKT-2026-01-020",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ sáº£n xuáº¥t thá»©c Äƒn chÄƒn nuÃ´i",code:"DKT-2026-01-020",planId:"KH-2026-Q1-001",planName:"Káº¿ hoáº¡ch kiá»ƒm tra nÃ´ng sáº£n Q1/2026 - TP.HCM",type:"routine",status:"paused",startDate:"2026-01-05",endDate:"2026-01-12",actualStartDate:"2026-01-05",leadUnit:"Chi cá»¥c QLTT HÃ³c MÃ´n",team:[{id:"U037",name:"SÆ¡n VÄƒn MM",role:"leader"},{id:"U038",name:"Táº¡ Thá»‹ NN",role:"member"}],teamSize:2,totalTargets:12,inspectedTargets:5,passedCount:3,warningCount:2,violationCount:0,createdBy:"SÆ¡n VÄƒn MM",createdAt:"2026-01-02",notes:"Táº¡m dá»«ng do thÃ nh viÃªn Ä‘oÃ n bá»‹ á»‘m, chá» bá»• sung nhÃ¢n lá»±c"},{id:"DKT-2026-01-021",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ kinh doanh thiáº¿t bá»‹ y táº¿",code:"DKT-2026-01-021",type:"sudden",status:"paused",startDate:"2026-01-08",endDate:"2026-01-11",actualStartDate:"2026-01-08",leadUnit:"Chi cá»¥c QLTT Quáº­n 11",team:[{id:"U039",name:"UyÃªn Thá»‹ OO",role:"leader"},{id:"U040",name:"Vinh VÄƒn PP",role:"expert"}],teamSize:2,totalTargets:6,inspectedTargets:2,passedCount:1,warningCount:1,violationCount:0,createdBy:"UyÃªn Thá»‹ OO",createdAt:"2026-01-07",notes:"Táº¡m dá»«ng do cáº§n xin thÃªm quyáº¿t Ä‘á»‹nh kiá»ƒm tra má»Ÿ rá»™ng"},{id:"DKT-2026-01-012",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ sáº£n xuáº¥t nÆ°á»›c uá»‘ng Ä‘Ã³ng chai",code:"DKT-2026-01-012",type:"routine",status:"rejected",startDate:"2026-01-25",endDate:"2026-01-30",leadUnit:"Chi cá»¥c QLTT Quáº­n 9",team:[{id:"U028",name:"NgÃ´ VÄƒn DD",role:"leader"},{id:"U029",name:"Äáº·ng Thá»‹ EE",role:"member"}],teamSize:2,totalTargets:10,inspectedTargets:0,createdBy:"NgÃ´ VÄƒn DD",createdAt:"2026-01-09",notes:"Tá»« chá»‘i do lá»±c lÆ°á»£ng chÆ°a Ä‘áº§y Ä‘á»§, cáº§n bá»• sung thÃ nh viÃªn"},{id:"DKT-2025-12-008",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ may máº·c BÃ¬nh TÃ¢n",code:"DKT-2025-12-008",type:"routine",status:"cancelled",startDate:"2025-12-22",endDate:"2025-12-27",leadUnit:"Chi cá»¥c QLTT BÃ¬nh TÃ¢n",team:[],teamSize:0,totalTargets:10,inspectedTargets:0,createdBy:"LÃª VÄƒn U",createdAt:"2025-12-18",notes:"Há»§y do chuyá»ƒn sang Ä‘á»£t kiá»ƒm tra tá»•ng há»£p thÃ¡ng 1/2026"},{id:"DKT-2026-01-008",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ kinh doanh Ã´ tÃ´ cÅ©",code:"DKT-2026-01-008",type:"sudden",status:"pending_approval",startDate:"2026-01-18",endDate:"2026-01-22",leadUnit:"Chi cá»¥c QLTT Thá»§ Äá»©c",team:[{id:"U018",name:"Cao VÄƒn V",role:"leader"},{id:"U019",name:"DÆ°Æ¡ng Thá»‹ W",role:"member"},{id:"U020",name:"Giang VÄƒn X",role:"expert"}],teamSize:3,totalTargets:8,inspectedTargets:0,createdBy:"Cao VÄƒn V",createdAt:"2026-01-07"},{id:"DKT-2026-01-009",name:"Kiá»ƒm tra cÆ¡ sá»Ÿ kinh doanh háº£i sáº£n",code:"DKT-2026-01-009",planId:"KH-2026-Q1-001",planName:"Káº¿ hoáº¡ch kiá»ƒm tra nÃ´ng sáº£n Q1/2026 - TP.HCM",type:"routine",status:"in_progress",startDate:"2026-01-05",endDate:"2026-01-12",actualStartDate:"2026-01-05",leadUnit:"Chi cá»¥c QLTT Quáº­n 4",team:[{id:"U021",name:"Huá»³nh VÄƒn Y",role:"leader"},{id:"U022",name:"Kim Thá»‹ Z",role:"member"}],teamSize:2,totalTargets:18,inspectedTargets:14,passedCount:11,warningCount:2,violationCount:1,createdBy:"Huá»³nh VÄƒn Y",createdAt:"2026-01-02"}],il=b.createContext(void 0),$e="mappa_inspection_rounds",dn="v2",pn="mappa_inspection_rounds_version";function sl({children:t}){const[n,i]=b.useState(()=>{try{if(localStorage.getItem(pn)!==dn)return localStorage.removeItem($e),localStorage.setItem(pn,dn),_t}catch(l){console.error("Error checking version:",l)}try{const l=localStorage.getItem($e);if(l){const f=JSON.parse(l);return f.some(V=>V.type==="scheduled"||V.type==="unannounced"||V.type==="complaint")?(localStorage.removeItem($e),_t):f}}catch(l){console.error("Error loading inspection rounds from localStorage:",l)}return _t});b.useEffect(()=>{try{localStorage.setItem($e,JSON.stringify(n))}catch(l){console.error("Error saving inspection rounds to localStorage:",l)}},[n]);const s=l=>{i(f=>[l,...f])},r=(l,f)=>{i(g=>g.map(V=>V.id===l?{...V,...f}:V))},a=l=>{i(f=>f.filter(g=>g.id!==l))},c=l=>n.find(f=>f.id===l);return e.jsxDEV(il.Provider,{value:{rounds:n,addRound:s,updateRound:r,deleteRound:a,getRoundById:c},children:t},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/contexts/InspectionRoundsContext.tsx",lineNumber:83,columnNumber:5},this)}const al=L.lazy(()=>P(()=>import("./OverviewPage-Cog65Oc3.js"),__vite__mapDeps([4,1,0,3,2,5,6,7]))),rl=L.lazy(()=>P(()=>import("./MapPage-oKMeAPey.js"),__vite__mapDeps([8,1,0,3,2,5,6,7,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]))),ol=L.lazy(()=>P(()=>import("./StoreDetailPage-Erl2B72C.js"),__vite__mapDeps([27,1,0,3,2,5,6,7,28,17,18,13,10,11,12,14,19,9,29,30,16,31]))),ll=L.lazy(()=>P(()=>import("./DataExportPage-ClHlvu3k.js"),__vite__mapDeps([32,1,0,3,2,5,6,7]))),cl=L.lazy(()=>P(()=>import("./RegistryHomePage-XMfuApTS.js"),__vite__mapDeps([33,1,0,3,2,5,6,7,34]))),ml=L.lazy(()=>P(()=>import("./RegistryStoreListPage-DQO3gJ8b.js"),__vite__mapDeps([35,1,0,3,2,5,6,7,11,12,15,16,29,10,13,14,9,36,37,28,20,21,30,22,23,24,25,38]))),ul=L.lazy(()=>P(()=>import("./RegistryDedupWorkbenchPage-t6GKTQCs.js"),__vite__mapDeps([39,1,0,3,2,40,5,6,7,10,11,12,13,14,41]))),dl=L.lazy(()=>P(()=>import("./RegistryVerificationQueuePage-CuNnNEfP.js"),__vite__mapDeps([42,1,0,3,2,40,5,6,7,10,11,12,13,14,41]))),pl=L.lazy(()=>P(()=>import("./RegistryVerificationDetailPage-DuJ4VDC8.js"),__vite__mapDeps([43,1,0,3,2,40,5,6,7,10,11,12,13,14,41]))),hl=L.lazy(()=>P(()=>import("./RegistryApprovalQueuePage-DaUFhhLk.js"),__vite__mapDeps([44,1,0,3,2,40,5,6,7,10,11,12,13,14,41]))),Nl=L.lazy(()=>P(()=>import("./RegistryApprovalDetailPage-D-3YxgUn.js"),__vite__mapDeps([45,1,0,3,2,40,5,6,7,10,11,12,13,14,41]))),fl=L.lazy(()=>P(()=>import("./RegistryImportPage-BcfDXLR7.js"),__vite__mapDeps([46,1,0,3,2,40,5,6,7,10,11,12,13,14,41]))),hn=L.lazy(()=>P(()=>import("./RegistryImportReviewPage-CPjoOWXf.js"),__vite__mapDeps([47,1,0,3,2,5,6,7,11,12,48]))),vl=L.lazy(()=>P(()=>import("./RegistryAuditLogPage-Ck3BVZ7b.js"),__vite__mapDeps([49,1,0,3,2,40,5,6,7,10,11,12,13,14,41]))),gl=L.lazy(()=>P(()=>import("./EditRegistryPage-DCw8Oten.js"),__vite__mapDeps([50,1,0,3,2,5,6,7,11,12,9,10,13,14,28,51]))),bl=L.lazy(()=>P(()=>import("./FullEditRegistryPage-CUkX7yta.js"),__vite__mapDeps([52,5,1,0,3,2,6,7,11,12,28,9,10,13,14,29,36,37,53]))),Vl=L.lazy(()=>P(()=>import("./EvidenceRoutes-DvpbNkg_.js"),__vite__mapDeps([54,1,0,3,2,11,5,6,7,12]))),Tl=L.lazy(()=>P(()=>import("./ReportsPage-DW_BgNv-.js"),__vite__mapDeps([55,1,0,3,2,5,6,7,13]))),xl=L.lazy(()=>P(()=>import("./DashboardPage-DYPGtok3.js"),__vite__mapDeps([56,1,0,3,2,5,6,7]))),El=L.lazy(()=>P(()=>import("./admin-legacy-jWMCv_Ye.js").then(t=>t.A),__vite__mapDeps([20,1,0,3,2,5,6,7,13,11,12,21]))),Hl=L.lazy(()=>P(()=>import("./Profile-pZA511-i.js"),__vite__mapDeps([57,1,0,3,2,58,59,5,6,7,60]))),yl=L.lazy(()=>P(()=>import("./Preferences-vAfcZOTX.js"),__vite__mapDeps([61,1,0,3,2,58,59,5,6,7]))),Ll=L.lazy(()=>P(()=>import("./ActivityLog-CVbxb_Fv.js"),__vite__mapDeps([62,1,0,3,2,5,6,7,11,12]))),Dl=L.lazy(()=>P(()=>import("./ChangePassword-DrQOTaj6.js"),__vite__mapDeps([63,1,0,3,2,5,6,7]))),Ql=L.lazy(()=>P(()=>import("./admin-legacy-jWMCv_Ye.js").then(t=>t.U),__vite__mapDeps([20,1,0,3,2,5,6,7,13,11,12,21]))),jl=L.lazy(()=>P(()=>import("./admin-legacy-jWMCv_Ye.js").then(t=>t.R),__vite__mapDeps([20,1,0,3,2,5,6,7,13,11,12,21]))),Pl=L.lazy(()=>P(()=>import("./admin-legacy-jWMCv_Ye.js").then(t=>t.S),__vite__mapDeps([20,1,0,3,2,5,6,7,13,11,12,21]))),Sl=L.lazy(()=>P(()=>import("./admin-legacy-jWMCv_Ye.js").then(t=>t.E),__vite__mapDeps([20,1,0,3,2,5,6,7,13,11,12,21]))),_l=L.lazy(()=>P(()=>import("./plans-D8Etc1yb.js").then(t=>t.y),__vite__mapDeps([10,1,0,3,2,5,6,7,11,12,13,14])).then(t=>({default:t.PlansList}))),Nn=L.lazy(()=>P(()=>import("./plans-D8Etc1yb.js").then(t=>t.z),__vite__mapDeps([10,1,0,3,2,5,6,7,11,12,13,14])).then(t=>({default:t.PlanCreate}))),kl=L.lazy(()=>P(()=>import("./plans-D8Etc1yb.js").then(t=>t.A),__vite__mapDeps([10,1,0,3,2,5,6,7,11,12,13,14])).then(t=>({default:t.PlanDetail}))),Se=L.lazy(()=>P(()=>import("./TaskBoard-Hw_ZxuJ4.js"),__vite__mapDeps([64,1,0,3,2,5,6,7,11,12,10,13,14,65])).then(t=>({default:t.TaskBoard}))),Cl=L.lazy(()=>P(()=>import("./plans-D8Etc1yb.js").then(t=>t.B),__vite__mapDeps([10,1,0,3,2,5,6,7,11,12,13,14])).then(t=>({default:t.InspectionRoundsList}))),wl=L.lazy(()=>P(()=>import("./plans-D8Etc1yb.js").then(t=>t.F),__vite__mapDeps([10,1,0,3,2,5,6,7,11,12,13,14]))),Bl=L.lazy(()=>P(()=>import("./plans-D8Etc1yb.js").then(t=>t.G),__vite__mapDeps([10,1,0,3,2,5,6,7,11,12,13,14]))),Ml=L.lazy(()=>P(()=>import("./plans-D8Etc1yb.js").then(t=>t.H),__vite__mapDeps([10,1,0,3,2,5,6,7,11,12,13,14]))),Il=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.L),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),Al=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.a),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),Rl=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.b),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),zl=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.c),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),fn=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.d),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),Fl=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.e),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),Xl=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.f),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),Kl=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.C),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),Gl=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.g),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),$l=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.h),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),Ol=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.R),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),Ul=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.i),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),Wl=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.j),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),ql=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.k),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),Yl=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.H),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),Jl=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.S),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),Zl=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.W),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),ec=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.Q),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),tc=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.l),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),nc=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.m),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),ic=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.P),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),sc=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.D),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),ac=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.E),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),rc=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.V),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),oc=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.n),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),lc=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.A),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),cc=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.o),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),mc=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.p),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),uc=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.I),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),dc=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.q),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19]))),pc=L.lazy(()=>P(()=>import("./lead-risk-BFz7WLqJ.js").then(t=>t.r),__vite__mapDeps([18,1,0,3,2,6,13,5,7,10,11,12,14,19])));function hc(){return e.jsxDEV(Ui,{children:e.jsxDEV(sl,{children:e.jsxDEV(ho,{children:e.jsxDEV(Cr,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:107,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:106,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:105,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:104,columnNumber:5},this)}const Nc=qn([{element:e.jsxDEV(ns,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:116,columnNumber:14},void 0),children:[{path:"/auth/login",element:e.jsxDEV(po,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:121,columnNumber:18},void 0)},{path:"/tv",element:e.jsxDEV(k,{children:e.jsxDEV(Yo,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:129,columnNumber:13},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:128,columnNumber:11},void 0)},{path:"/",element:e.jsxDEV(hc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:137,columnNumber:18},void 0),children:[{index:!0,element:e.jsxDEV(Oe,{to:"/overview",replace:!0},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:141,columnNumber:22},void 0)},{path:"overview",element:e.jsxDEV(al,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:145,columnNumber:22},void 0)},{path:"map",element:e.jsxDEV(k,{children:e.jsxDEV(rl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:151,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:150,columnNumber:15},void 0)},{path:"stores",element:e.jsxDEV(Oe,{to:"/registry/stores",replace:!0},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:158,columnNumber:22},void 0)},{path:"data-export",element:e.jsxDEV(ll,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:162,columnNumber:22},void 0)},{path:"leads",element:e.jsxDEV(k,{children:e.jsxDEV(fn,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:168,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:167,columnNumber:15},void 0)},{path:"plans",element:e.jsxDEV(Oe,{to:"/plans/list",replace:!0},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:174,columnNumber:22},void 0)},{path:"plans/list",element:e.jsxDEV(k,{children:e.jsxDEV(_l,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:181,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:180,columnNumber:15},void 0)},{path:"plans/create-new",element:e.jsxDEV(k,{children:e.jsxDEV(Nn,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:189,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:188,columnNumber:15},void 0)},{path:"plans/:planId",element:e.jsxDEV(k,{children:e.jsxDEV(kl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:197,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:196,columnNumber:15},void 0)},{path:"plans/:planId/edit",element:e.jsxDEV(k,{children:[e.jsxDEV(Nn,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:205,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:204,columnNumber:15},void 0)},{path:"plans/:planId/inspection-session-board",element:e.jsxDEV(k,{children:e.jsxDEV(Se,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:213,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:212,columnNumber:15},void 0)},{path:"plans/inspection-session",element:e.jsxDEV(k,{children:e.jsxDEV(Se,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:221,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:220,columnNumber:15},void 0)},{path:"plans/inspection-rounds",element:e.jsxDEV(k,{children:e.jsxDEV(Cl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:230,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:229,columnNumber:15},void 0)},{path:"plans/inspection-rounds/create-new",element:e.jsxDEV(k,{children:e.jsxDEV(Bl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:238,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:237,columnNumber:15},void 0)},{path:"plans/inspection-rounds/:roundId",element:e.jsxDEV(k,{children:e.jsxDEV(wl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:246,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:245,columnNumber:15},void 0)},{path:"plans/inspection-rounds/:roundId/statistics",element:e.jsxDEV(k,{children:e.jsxDEV(Ml,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:254,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:253,columnNumber:15},void 0)},{path:"plans/inspection-rounds/:roundId/tasks",element:e.jsxDEV(k,{children:e.jsxDEV(Se,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:262,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:261,columnNumber:15},void 0)},{path:"tasks",element:e.jsxDEV(k,{children:e.jsxDEV(Se,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:270,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:269,columnNumber:15},void 0)},{path:"tasks/board",element:e.jsxDEV(k,{children:e.jsxDEV(Se,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:278,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:277,columnNumber:15},void 0)},{path:"evidence/*",element:e.jsxDEV(k,{children:e.jsxDEV(Vl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:286,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:285,columnNumber:15},void 0)},{path:"dashboard",element:e.jsxDEV(xl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:292,columnNumber:22},void 0)},{path:"reports",element:e.jsxDEV(Tl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:296,columnNumber:22},void 0)},{path:"admin",element:e.jsxDEV(k,{children:e.jsxDEV(El,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:302,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:301,columnNumber:15},void 0)},...nl,{path:"account/profile",element:e.jsxDEV(Hl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:310,columnNumber:22},void 0)},{path:"account/preferences",element:e.jsxDEV(yl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:314,columnNumber:22},void 0)},{path:"account/activity-log",element:e.jsxDEV(Ll,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:318,columnNumber:22},void 0)},{path:"account/change-password",element:e.jsxDEV(Dl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:322,columnNumber:22},void 0)},{path:"system/users",element:e.jsxDEV(k,{children:e.jsxDEV(Ql,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:329,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:328,columnNumber:15},void 0)},{path:"system/roles",element:e.jsxDEV(k,{children:e.jsxDEV(jl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:337,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:336,columnNumber:15},void 0)},{path:"system/settings",element:e.jsxDEV(k,{children:e.jsxDEV(Pl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:345,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:344,columnNumber:15},void 0)},{path:"registry",children:[{index:!0,element:e.jsxDEV(cl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:355,columnNumber:26},void 0)},{path:"stores",element:e.jsxDEV(ml,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:359,columnNumber:26},void 0)},{path:"stores/:id",element:e.jsxDEV(ol,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:363,columnNumber:26},void 0)},{path:"full-edit/:id",element:e.jsxDEV(bl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:367,columnNumber:26},void 0)},{path:"edit/:id",element:e.jsxDEV(gl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:371,columnNumber:26},void 0)},{path:"dedup",element:e.jsxDEV(ul,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:392,columnNumber:26},void 0)},{path:"verification",element:e.jsxDEV(dl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:396,columnNumber:26},void 0)},{path:"verification/:caseId",element:e.jsxDEV(pl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:400,columnNumber:26},void 0)},{path:"approvals",element:e.jsxDEV(hl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:404,columnNumber:26},void 0)},{path:"approvals/:approvalId",element:e.jsxDEV(Nl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:408,columnNumber:26},void 0)},{path:"import",element:e.jsxDEV(fl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:412,columnNumber:26},void 0)},{path:"import-review",element:e.jsxDEV(hn,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:416,columnNumber:26},void 0)},{path:"import/review/:jobId",element:e.jsxDEV(hn,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:420,columnNumber:26},void 0)},{path:"audit",element:e.jsxDEV(vl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:424,columnNumber:26},void 0)}]},{path:"lead-risk/inbox",element:e.jsxDEV(k,{children:e.jsxDEV(Il,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:433,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:432,columnNumber:15},void 0)},{path:"lead-risk/home",element:e.jsxDEV(k,{children:e.jsxDEV(fn,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:441,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:440,columnNumber:15},void 0)},{path:"lead-risk/list",element:e.jsxDEV(k,{children:e.jsxDEV(Fl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:449,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:448,columnNumber:15},void 0)},{path:"lead-risk/map",element:e.jsxDEV(k,{children:e.jsxDEV(Xl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:457,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:456,columnNumber:15},void 0)},{path:"lead-risk/create-lead-quick",element:e.jsxDEV(k,{children:e.jsxDEV(Kl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:465,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:464,columnNumber:15},void 0)},{path:"lead-risk/create-lead-full",element:e.jsxDEV(k,{children:e.jsxDEV(Gl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:473,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:472,columnNumber:15},void 0)},{path:"lead-risk/create-lead-source",element:e.jsxDEV(k,{children:e.jsxDEV($l,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:481,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:480,columnNumber:15},void 0)},{path:"lead-risk/inbox-ai-demo",element:e.jsxDEV(k,{children:e.jsxDEV(Al,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:489,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:488,columnNumber:15},void 0)},{path:"lead-risk/lead-detail-ai-demo",element:e.jsxDEV(k,{children:e.jsxDEV(Rl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:497,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:496,columnNumber:15},void 0)},{path:"lead-risk/duplicate-demo",element:e.jsxDEV(k,{children:e.jsxDEV(zl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:505,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:504,columnNumber:15},void 0)},{path:"lead-risk/dashboard",element:e.jsxDEV(k,{children:e.jsxDEV(Ol,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:513,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:512,columnNumber:15},void 0)},{path:"lead-risk/lead/:id",element:e.jsxDEV(k,{children:e.jsxDEV(Ul,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:521,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:520,columnNumber:15},void 0)},{path:"lead-risk/risk/:id",element:e.jsxDEV(k,{children:e.jsxDEV(Wl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:529,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:528,columnNumber:15},void 0)},{path:"lead-risk/case/:id",element:e.jsxDEV(k,{children:e.jsxDEV(ql,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:537,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:536,columnNumber:15},void 0)},{path:"lead-risk/hotspots",element:e.jsxDEV(k,{children:e.jsxDEV(Yl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:545,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:544,columnNumber:15},void 0)},{path:"lead-risk/sla-operation-map",element:e.jsxDEV(k,{children:e.jsxDEV(Jl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:553,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:552,columnNumber:15},void 0)},{path:"lead-risk/watchlist",element:e.jsxDEV(k,{children:e.jsxDEV(Zl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:561,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:560,columnNumber:15},void 0)},{path:"lead-risk/quality-metrics",element:e.jsxDEV(k,{children:e.jsxDEV(ec,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:569,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:568,columnNumber:15},void 0)},{path:"lead-risk/workload-dashboard",element:e.jsxDEV(k,{children:e.jsxDEV(tc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:577,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:576,columnNumber:15},void 0)},{path:"lead-risk/sla-dashboard",element:e.jsxDEV(k,{children:e.jsxDEV(nc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:585,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:584,columnNumber:15},void 0)},{path:"lead-risk/permission-matrix",element:e.jsxDEV(k,{children:e.jsxDEV(ic,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:593,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:592,columnNumber:15},void 0)},{path:"lead-risk/duplicate-detector",element:e.jsxDEV(k,{children:e.jsxDEV(sc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:601,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:600,columnNumber:15},void 0)},{path:"lead-risk/escalation-form",element:e.jsxDEV(k,{children:e.jsxDEV(ac,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:609,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:608,columnNumber:15},void 0)},{path:"lead-risk/verification-outcome",element:e.jsxDEV(k,{children:e.jsxDEV(rc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:617,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:616,columnNumber:15},void 0)},{path:"lead-risk/entity-risk-profile",element:e.jsxDEV(k,{children:e.jsxDEV(oc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:625,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:624,columnNumber:15},void 0)},{path:"lead-risk/alert-feed",element:e.jsxDEV(k,{children:e.jsxDEV(lc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:633,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:632,columnNumber:15},void 0)},{path:"lead-risk/alert-acknowledgement/:id",element:e.jsxDEV(k,{children:e.jsxDEV(cc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:641,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:640,columnNumber:15},void 0)},{path:"lead-risk/risk-indicators",element:e.jsxDEV(k,{children:e.jsxDEV(mc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:649,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:648,columnNumber:15},void 0)},{path:"lead-risk/import-leads",element:e.jsxDEV(k,{children:e.jsxDEV(uc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:657,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:656,columnNumber:15},void 0)},{path:"lead-risk/import-review",element:e.jsxDEV(k,{children:e.jsxDEV(dc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:665,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:664,columnNumber:15},void 0)},{path:"lead-risk/assignment-dispatch",element:e.jsxDEV(k,{children:e.jsxDEV(pc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:673,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:672,columnNumber:15},void 0)}]},{path:"*",element:e.jsxDEV(Sl,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/routes/routes.tsx",lineNumber:682,columnNumber:18},void 0)}]}]),fc={filters:{},businessTypeFilters:{},departmentFilters:{},pendingFilters:{},pendingBusinessTypeFilters:{},pendingDepartmentFilters:{},selectedProvince:"",selectedDistrict:"",selectedWard:"",isFilterPanelOpen:!1,isInitializing:!1,limit:1e4},Rn=De({name:"mapFilters",initialState:fc,reducers:{setFilters:(t,n)=>{t.filters=n.payload,t.pendingFilters=n.payload},setBusinessTypeFilters:(t,n)=>{t.businessTypeFilters=n.payload,t.pendingBusinessTypeFilters=n.payload},setDepartmentFilters:(t,n)=>{t.departmentFilters=n.payload,t.pendingDepartmentFilters=n.payload},setPendingFilters:(t,n)=>{t.pendingFilters=n.payload},setPendingBusinessTypeFilters:(t,n)=>{t.pendingBusinessTypeFilters=n.payload},setPendingDepartmentFilters:(t,n)=>{t.pendingDepartmentFilters=n.payload},applyPendingFilters:t=>{t.filters=t.pendingFilters,t.businessTypeFilters=t.pendingBusinessTypeFilters,t.departmentFilters=t.pendingDepartmentFilters},resetFilters:t=>{t.filters={},t.businessTypeFilters={},t.departmentFilters={},t.pendingFilters={},t.pendingBusinessTypeFilters={},t.pendingDepartmentFilters={}},setSelectedProvince:(t,n)=>{const i=t.selectedProvince;t.selectedProvince=n.payload,i!==n.payload&&(t.selectedWard="")},setSelectedDistrict:(t,n)=>{t.selectedDistrict=n.payload},setSelectedWard:(t,n)=>{t.selectedWard=n.payload},setFilterPanelOpen:(t,n)=>{t.isFilterPanelOpen=n.payload},setInitializing:(t,n)=>{t.isInitializing=n.payload},setLimit:(t,n)=>{t.limit=n.payload}}}),{setFilters:dm,setBusinessTypeFilters:pm,setDepartmentFilters:hm,setPendingFilters:Nm,setPendingBusinessTypeFilters:fm,setPendingDepartmentFilters:vm,applyPendingFilters:gm,resetFilters:bm,setSelectedProvince:Vm,setSelectedDistrict:Tm,setSelectedWard:xm,setFilterPanelOpen:Em,setInitializing:Hm,setLimit:ym}=Rn.actions,vc=Rn.reducer,gc={departments:[],isLoading:!1,error:null,selectedDepartmentId:""},zn=De({name:"officerFilter",initialState:gc,reducers:{setSelectedDepartmentId:(t,n)=>{t.selectedDepartmentId=n.payload},setDepartments:(t,n)=>{t.departments=n.payload,t.isLoading=!1,t.error=null},setLoading:(t,n)=>{t.isLoading=n.payload,n.payload&&(t.error=null)},setError:(t,n)=>{t.error=n.payload,t.isLoading=!1},clearDepartments:t=>{t.departments=[],t.error=null},resetOfficerFilter:t=>{t.departments=[],t.isLoading=!1,t.error=null,t.selectedDepartmentId=""}}}),{setSelectedDepartmentId:Lm,setDepartments:Dm,setLoading:Qm,setError:jm,clearDepartments:Pm,resetOfficerFilter:Sm}=zn.actions,bc=zn.reducer,Vc={data:null,isLoading:!1,error:null,currentDepartmentId:null},Fn=De({name:"departmentAreas",initialState:Vc,reducers:{setDepartmentAreas:(t,n)=>{t.data=n.payload,t.isLoading=!1,t.error=null},setLoading:(t,n)=>{t.isLoading=n.payload,n.payload&&(t.error=null)},setError:(t,n)=>{t.error=n.payload,t.isLoading=!1},setCurrentDepartmentId:(t,n)=>{t.currentDepartmentId=n.payload},clearDepartmentAreas:t=>{t.data=null,t.error=null,t.currentDepartmentId=null},resetDepartmentAreas:t=>{t.data=null,t.isLoading=!1,t.error=null,t.currentDepartmentId=null}}}),{setDepartmentAreas:_m,setLoading:km,setError:Cm,setCurrentDepartmentId:wm,clearDepartmentAreas:Bm,resetDepartmentAreas:Mm}=Fn.actions,Tc=Fn.reducer,xc={currentMerchant:null,inspectionHistory:[],licenses:[],isLoading:!1,isHistoryLoading:!1,isLicensesLoading:!1,error:null},Xn=De({name:"merchant",initialState:xc,reducers:{fetchMerchantDetailRequest:(t,n)=>{t.isLoading=!0,t.error=null},fetchMerchantDetailSuccess:(t,n)=>{t.isLoading=!1,t.currentMerchant=n.payload,t.error=null},fetchMerchantDetailFailure:(t,n)=>{t.isLoading=!1,t.error=n.payload},fetchInspectionHistoryRequest:(t,n)=>{t.isHistoryLoading=!0,t.error=null},fetchInspectionHistorySuccess:(t,n)=>{t.isHistoryLoading=!1,t.inspectionHistory=n.payload,t.error=null},fetchInspectionHistoryFailure:(t,n)=>{t.isHistoryLoading=!1,t.error=n.payload},fetchMerchantLicensesRequest:(t,n)=>{t.isLicensesLoading=!0,t.error=null},fetchMerchantLicensesSuccess:(t,n)=>{t.isLicensesLoading=!1,t.licenses=n.payload,t.error=null},fetchMerchantLicensesFailure:(t,n)=>{t.isLicensesLoading=!1,t.error=n.payload},clearCurrentMerchant:t=>{t.currentMerchant=null,t.inspectionHistory=[],t.licenses=[],t.isLoading=!1,t.isHistoryLoading=!1,t.isLicensesLoading=!1,t.error=null}}}),{fetchMerchantDetailRequest:Ec,fetchMerchantDetailSuccess:Hc,fetchMerchantDetailFailure:yc,fetchInspectionHistoryRequest:Lc,fetchInspectionHistorySuccess:Dc,fetchInspectionHistoryFailure:Qc,fetchMerchantLicensesRequest:jc,fetchMerchantLicensesSuccess:Pc,fetchMerchantLicensesFailure:Sc,clearCurrentMerchant:Im}=Xn.actions,_c=Xn.reducer,kc=Yn({auth:pr,qlttScope:nr,mapFilters:vc,officerFilter:bc,departmentAreas:Tc,merchant:_c});function*Cc(t){try{const n=yield $(Nr,{email:t.payload.email,password:t.payload.password});n.access_token?yield $(Sn,n.access_token,n.expires_in,n.refresh_token):console.warn("âš ï¸ AuthSaga: No access_token in login response");let i=n.user||null;n.access_token&&!i&&(i=yield $(Vt,n.access_token));let s=[];if(n.access_token&&(i!=null&&i.id))try{s=yield $($t,i.id,n.access_token)}catch(a){console.error("Error fetching permissions:",a)}const r=i?{...i,permissions:s}:n.user||void 0;yield I(cr({...n,user:r})),n.access_token&&(i!=null&&i.id)&&(yield I(Ce()))}catch(n){const i=n instanceof Error?n.message:"ÄÄƒng nháº­p tháº¥t báº¡i. Vui lÃ²ng thá»­ láº¡i.";yield I(mr(i))}}function*wc(){var t,n;try{console.log("ğŸ”„ AuthSaga: handleRestoreSession started");const i=yield $(vr);if(i){if(i.token&&!i.user)try{const a=yield $(Vt,i.token);a&&(i.user=a,console.log("âœ… AuthSaga: User info fetched:",a.id))}catch(a){console.warn("âš ï¸ AuthSaga: Failed to fetch user info during restore:",a)}let s=[];if((t=i.user)!=null&&t.id&&i.token)try{console.log("ğŸ”„ AuthSaga: Fetching permissions for user:",i.user.id),s=yield $($t,i.user.id,i.token),console.log("âœ… AuthSaga: Permissions fetched:",s.length,"permissions")}catch(a){console.warn("âš ï¸ AuthSaga: Error fetching permissions:",a)}const r=i.user?{...i.user,permissions:s}:null;console.log("âœ… AuthSaga: Dispatching restoreSessionSuccess"),yield I(sn({token:i.token,user:r})),i.token&&((n=i.user)!=null&&n.id)&&(console.log("ğŸ”„ AuthSaga: Triggering background user info refresh"),yield I(Ce(i.token)))}else{console.log("âš ï¸ AuthSaga: restoreSession returned null, checking storage...");try{const s=yield $(xe);s?(yield I(sn({token:s,user:null})),yield I(Ce(s))):yield I(Lt())}catch(s){console.error("âŒ AuthSaga: Error checking storage:",s),yield I(Lt())}}}catch(i){console.error("âŒ AuthSaga: Error in handleRestoreSession:",i),yield I(Lt())}}function*Bc(t){try{let n=t.payload;if(n||(n=yield $(xe)),!n){yield I(Dt());return}const i=yield $(Vt,n);if(i){let s=[];if(i.id)try{s=yield $($t,i.id,n)}catch(r){console.error("Error fetching permissions:",r)}yield I(ur({...i,permissions:s}))}else yield I(Dt())}catch(n){console.error("Error fetching user info:",n),yield I(Dt())}}function*Mc(){yield ye(Pn.type,Cc),yield ye(Ze.type,wc),yield Jn(Ce.type,Bc)}function*Ic(){try{yield I(yt(!0));const[{data:t,error:n},{data:i,error:s},{data:r,error:a},{data:c,error:l},{data:f,error:g}]=yield $(()=>Promise.all([ne.from("departments").select("_id, parent_id, name, code, level").is("deleted_at",null).order("path",{ascending:!0}),ne.from("department_areas").select("department_id, area_id"),ne.from("areas").select("_id, code, name, level, province_id, ward_id"),ne.from("wards").select("_id, code, name, province_id"),ne.from("provinces").select("id, code, name")]));if(n){console.error("âŒ QLTTScopeSaga: Failed to load departments:",n),yield I(Re("Failed to load departments"));return}if(a){console.error("âŒ QLTTScopeSaga: Failed to load areas:",a),yield I(Re("Failed to load areas"));return}const V=new Map((c||[]).map(d=>[d._id,d])),x=new Map((f||[]).map(d=>[d._id,d])),T=new Map((r||[]).map(d=>[d._id,d])),D=(t||[]).map(d=>({id:d._id,parent_id:d.parent_id,name:d.name,code:d.code,level:d.level})),p=D.filter(d=>d.level===2),H=D.filter(d=>d.level===3);yield I(Ja(p)),yield I(Za(H));const h=(r||[]).map(d=>{var E,Q;const o=d.province_id?(E=x.get(d.province_id))==null?void 0:E.code:null,N=d.ward_id?(Q=V.get(d.ward_id))==null?void 0:Q.code:null;return{id:d._id,name:d.name,code:d.code,provinceCode:o||null,wardCode:N||null}});yield I(er(h));const u=new Map;(i||[]).forEach(d=>{u.has(d.department_id)||u.set(d.department_id,[]),u.get(d.department_id).push(d.area_id)}),console.log("âœ… QLTTScopeSaga: Scope data loaded successfully"),yield I(yt(!1)),yield I(Re(null))}catch(t){console.error("âŒ QLTTScopeSaga: Failed to fetch scope data:",t),yield I(Re(t.message||"Failed to load scope data")),yield I(yt(!1))}}function*Ac(){yield ye("qlttScope/FETCH_SCOPE_DATA",Ic)}function*Rc(t){try{const{merchantId:n,licenseType:i}=t.payload,s=yield $(Wi,n,i);yield I(Hc(s))}catch(n){yield I(yc(n.message||"Failed to fetch merchant detail"))}}function*zc(t){try{const i=[...yield $(qi,t.payload)].sort((s,r)=>{const a=s.inspection_date?new Date(s.inspection_date).getTime():0;return(r.inspection_date?new Date(r.inspection_date).getTime():0)-a});yield I(Dc(i))}catch(n){yield I(Qc(n.message||"Failed to fetch inspection history"))}}function*Fc(t){try{const n=yield $(Yi,t.payload);yield I(Pc(n))}catch(n){yield I(Sc(n.message||"Failed to fetch merchant licenses"))}}function*Xc(){yield ye(Ec.type,Rc),yield ye(Lc.type,zc),yield ye(jc.type,Fc)}function*Kc(){function*t(){try{yield I(tr()),yield $(()=>new Promise(i=>setTimeout(i,100))),yield I(nn(!0)),console.log("âœ… RootSaga: QLTT Scope initialized on app startup")}catch(i){console.error("âŒ RootSaga: Failed to initialize QLTT Scope:",i),yield I(nn(!0))}}function*n(){try{yield I(Ze()),console.log("âœ… RootSaga: Auth session restore initiated")}catch(i){console.error("âŒ RootSaga: Failed to initialize auth:",i)}}yield Qe(t),yield Qe(n),yield Zn([Qe(Mc),Qe(Ac),Qe(Xc)])}const Kn=ei(),Gc=ti({reducer:kc,middleware:t=>t({thunk:!1,serializableCheck:!1}).concat(Kn)});Kn.run(Kc);let Ue=null,kt=!1,We=null;function $c(t){zt(),We=t||null,Ue=setInterval(async()=>{try{if(!await xe()){zt();return}if(await bt(5)&&!kt){kt=!0;try{const s=await _n();s&&s.access_token?We&&s.access_token&&We(s.access_token):console.warn("âš ï¸ TokenRefreshService: Failed to refresh token")}catch(s){console.error("âŒ TokenRefreshService: Error refreshing token:",s)}finally{kt=!1}}}catch(n){console.error("âŒ TokenRefreshService: Error checking token:",n)}},6e4)}function zt(){Ue&&(clearInterval(Ue),Ue=null,We=null)}function Oc(){const t=Be();b.useEffect(()=>($c(n=>{t(Ce(n))}),()=>{zt()}),[t])}function Uc(){return Oc(),e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ii,{router:Nc},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/App.tsx",lineNumber:13,columnNumber:7},this),e.jsxDEV(si,{position:"top-right",richColors:!0},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/App.tsx",lineNumber:14,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/app/App.tsx",lineNumber:12,columnNumber:5},this)}function Wc(){return e.jsxDEV(ni,{store:Gc,children:e.jsxDEV(Uc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/App.tsx",lineNumber:22,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/app/App.tsx",lineNumber:21,columnNumber:5},this)}ai.createRoot(document.getElementById("root")).render(e.jsxDEV(ri,{locale:oi,children:e.jsxDEV(Wc,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/main.tsx",lineNumber:13,columnNumber:5},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/main.tsx",lineNumber:12,columnNumber:3},void 0));export{un as N,wm as a,km as b,Cm as c,Lc as d,jc as e,Ec as f,Im as g,Dm as h,Qm as i,jm as j,Lm as k,dm as l,Nm as m,pm as n,fm as o,hm as p,vm as q,gm as r,_m as s,Vm as t,Tm as u,xm as v,bm as w,ym as x,Em as y};
