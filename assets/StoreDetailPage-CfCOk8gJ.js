import{j as e,r as V,k as Ri,aB as ae,v as $i,e as Mi,aA as Gi}from"./vendor-Cja35lIC.js";import{q as pe,B as M,D as fi,m as gi,n as xi,o as Di,p as Hi,L as Ei,X as ki,u as zi,v as Fi,w as fe,x as ve,k as de,l as Ne,U as ke,V as Le}from"./system-admin-I2_aTVlW.js";import{mockStores as oi}from"./mockStores-DistbSc0.js";import{a as qi,b as Ki,c as Oi}from"./vietnamLocations-BdOk97EN.js";import{d as Wi,e as Yi}from"./locationsApi-DFkHd2yk.js";import{f as Xi,a as Ji}from"./storesApi-DSWh-Upg.js";import{U as Be,Z as Li,C as Zi,ak as re,S as ci,H as es,X as Ue,Q as _e,J as _i,ag as Qe,aA as ge,ac as xe,bZ as is,a9 as ss,g as yi,f as ts,n as he,al as Ge,T as si,i as Ye,E as Qi,O as ls,bt as mi,w as as,a0 as ns,e as ji,A as rs,o as We,b8 as os,$ as cs,aS as ms,aN as Me,aM as us,b9 as ds}from"./icons-BAlVBlw-.js";import{g as Ns,a as hs,f as ps,b as Vs,c as vs,d as bs,e as ui,h as di}from"./mockComplaints-CI6iyxaE.js";import{S as Xe,a as Je,b as Ze,c as ei,d as ii}from"./evidence-xKqsT-wX.js";import{A as Ts,a as fs,b as gs,c as xs,d as Ds,e as Hs,f as Es,g as ks}from"./alert-dialog-obvgVbI0.js";import"./leaflet-fbicKXUd.js";import"./lead-risk-Ckepkm6o.js";import"./docs-CwoUdLMw.js";import"./plans-CUEgwpG0.js";const Ni="/placeholder-cccd.png",Ls="/placeholder-business-license.png",_s="/placeholder-food-safety.png",ys="/placeholder-specialized-license.png",Qs="/placeholder-lease-contract.png",js="/placeholder-fire-safety.png",hi=t=>{const o=t%4;return[{id:`${t}-cccd`,type:"cccd",title:"CCCD / CMND chủ hộ",status:"valid",statusText:"Còn hiệu lực",approvalStatus:"approved",approvalStatusText:"Đã phê duyệt",documentNumber:`079${(t*1e6+123456).toString().padStart(9,"0")}`,issueDate:"15/03/2020",expiryDate:"Không thời hạn",issuingAuthority:"Cục Cảnh sát ĐKQL cư trú và DLQG về dân cư",notes:"",fileUrl:Ni,fileName:"cccd-mat-truoc.pdf",backFileUrl:Ni,backFileName:"cccd-mat-sau.pdf",uploadDate:"10/01/2025 09:30",uploadedBy:"Nguyễn Văn A"},{id:`${t}-business-license`,type:"business-license",title:"Giấy phép kinh doanh",status:o===1?"expiring":"valid",statusText:o===1?"Sắp hết hạn (45 ngày)":"Còn hiệu lực",approvalStatus:t%3===0?"pending":"approved",approvalStatusText:t%3===0?"Chờ duyệt":"Đã phê duyệt",documentNumber:`GPKD-HCM-2018-${(t*1e3+567).toString().padStart(6,"0")}`,issueDate:"15/3/2018",expiryDate:"15/3/2025",issuingAuthority:"Sở KH&ĐT TP.HCM",notes:o===1?"Sắp hết hạn, cần gia hạn trong 45 ngày":"",fileUrl:Ls,fileName:"giay-phep-kinh-doanh.pdf",uploadDate:"08/01/2025 14:20",uploadedBy:"Trần Thị B"},{id:`${t}-lease-contract`,type:"lease-contract",title:"Hợp đồng thuê mặt bằng",status:o===2?"missing":"valid",statusText:o===2?void 0:"Còn hiệu lực",...o===2?{}:{approvalStatus:"approved",approvalStatusText:"Đã phê duyệt",documentNumber:`HĐ-MB-2023-${t.toString().padStart(5,"0")}`,issueDate:"01/01/2023",expiryDate:"01/01/2026",issuingAuthority:"Công ty TNHH Bất động sản ABC",notes:"",fileUrl:Qs,fileName:"hop-dong-thue-mb.pdf",uploadDate:"05/01/2025 10:15",uploadedBy:"Lê Văn C"}},{id:`${t}-food-safety`,type:"food-safety",title:"Giấy chứng nhận ATTP",status:"valid",statusText:"Còn hiệu lực",approvalStatus:t%2===0?"pending":"approved",approvalStatusText:t%2===0?"Chờ duyệt":"Đã phê duyệt",documentNumber:`ATTP-HCM-2024-${(t*100+789).toString().padStart(5,"0")}`,issueDate:"10/01/2024",expiryDate:"10/01/2026",issuingAuthority:"Chi cục ATTP TP.HCM",notes:"",fileUrl:_s,fileName:"chung-nhan-attp.pdf",uploadDate:"12/01/2025 16:45",uploadedBy:"Phạm Thị D"},{id:`${t}-specialized-license`,type:"specialized-license",title:"Giấy phép chuyên ngành",status:o===3?"missing":"valid",statusText:o===3?void 0:"Còn hiệu lực",...o===3?{}:{approvalStatus:"approved",approvalStatusText:"Đã phê duyệt",documentNumber:`GPCN-2023-${t.toString().padStart(5,"0")}`,issueDate:"20/06/2023",expiryDate:"20/06/2026",issuingAuthority:"Sở Y tế TP.HCM",notes:"",fileUrl:ys,fileName:"giay-phep-chuyen-nganh.pdf",uploadDate:"03/01/2025 11:00",uploadedBy:"Hoàng Văn E"}},{id:`${t}-fire-safety`,type:"fire-safety",title:"Giấy phép PCCC",status:o>=2?"missing":"valid",statusText:o>=2?void 0:"Còn hiệu lực",...o>=2?{}:{approvalStatus:"approved",approvalStatusText:"Đã phê duyệt",documentNumber:`PCCC-Q${t%12+1}-2024-${t.toString().padStart(4,"0")}`,issueDate:"01/04/2024",expiryDate:"01/04/2027",issuingAuthority:`Phòng Cảnh sát PCCC Quận ${t%12+1}`,notes:"",fileUrl:js,fileName:"giay-phep-pccc.pdf",uploadDate:"07/01/2025 13:30",uploadedBy:"Vũ Thị F"}}]},Cs="_documentItem_1cnzj_5",Ss="_documentItemMissing_1cnzj_41",Is="_documentIcon_1cnzj_61",Ps="_iconValid_1cnzj_81",ws="_iconExpiring_1cnzj_91",As="_iconMissing_1cnzj_101",Bs="_documentContent_1cnzj_113",Us="_documentTitle_1cnzj_129",Rs="_documentStatus_1cnzj_147",$s="_badgeValid_1cnzj_161",Ms="_badgeExpiring_1cnzj_173",Gs="_badgePending_1cnzj_185",zs="_badgeApproved_1cnzj_197",Fs="_badgeRejected_1cnzj_209",qs="_documentAction_1cnzj_223",Ks="_chevron_1cnzj_237",Os="_uploadButton_1cnzj_257",Ws="_editButton_1cnzj_283",W={documentItem:Cs,documentItemMissing:Ss,documentIcon:Is,iconValid:Ps,iconExpiring:ws,iconMissing:As,documentContent:Bs,documentTitle:Us,documentStatus:Rs,badgeValid:$s,badgeExpiring:Ms,badgePending:Gs,badgeApproved:zs,badgeRejected:Fs,documentAction:qs,chevron:Ks,uploadButton:Os,editButton:Ws},Ys=t=>{switch(t){case"cccd":return re;case"business-license":return re;case"lease-contract":return es;case"food-safety":return ci;case"specialized-license":return re;case"fire-safety":return ci;default:return re}};function Xs({document:t,onClick:o,onUploadClick:s,onEditClick:c}){const a=Ys(t.type),d=t.status==="missing",E=()=>t.status==="valid"?W.iconValid:t.status==="expiring"?W.iconExpiring:W.iconMissing;return e.jsxDEV("div",{className:`${W.documentItem} ${d?W.documentItemMissing:""}`,onClick:d?void 0:o,children:[e.jsxDEV("div",{className:`${W.documentIcon} ${E()}`,children:e.jsxDEV(a,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:73,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:72,columnNumber:7},this),e.jsxDEV("div",{className:W.documentContent,children:[e.jsxDEV("div",{className:W.documentTitle,children:t.title},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:77,columnNumber:9},this),e.jsxDEV("div",{className:W.documentStatus,children:[t.statusText&&e.jsxDEV(pe,{variant:t.status==="valid"?"secondary":t.status==="expiring"?"default":"outline",className:t.status==="valid"?W.badgeValid:t.status==="expiring"?W.badgeExpiring:"",children:t.statusText},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:80,columnNumber:13},this),t.approvalStatusText&&e.jsxDEV(pe,{variant:"secondary",className:t.approvalStatus==="pending"?W.badgePending:t.approvalStatus==="approved"?W.badgeApproved:t.approvalStatus==="rejected"?W.badgeRejected:"",children:t.approvalStatusText},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:96,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:78,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:76,columnNumber:7},this),e.jsxDEV("div",{className:W.documentAction,children:d?e.jsxDEV(M,{size:"sm",variant:"outline",className:W.uploadButton,onClick:r=>{r.stopPropagation(),s==null||s(t.type)},children:[e.jsxDEV(Be,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:122,columnNumber:13},this),"Tải lên"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:113,columnNumber:11},this):e.jsxDEV(e.Fragment,{children:[c&&e.jsxDEV(M,{size:"sm",variant:"outline",className:W.editButton,onClick:r=>{r.stopPropagation(),c==null||c(t)},children:[e.jsxDEV(Li,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:137,columnNumber:17},this),"Cập nhật hồ sơ"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:128,columnNumber:15},this),e.jsxDEV(Zi,{size:20,className:W.chevron},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:141,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:126,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:111,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/LegalDocumentItem.tsx",lineNumber:68,columnNumber:5},this)}const Js={cccd:{id:"cccd",name:"CCCD / CMND chủ hộ",description:"Căn cước công dân hoặc Chứng minh nhân dân của chủ hộ kinh doanh",acceptedFormats:[".pdf",".jpg",".jpeg",".png",".webp"],maxSizeMB:10,fields:[{key:"idNumber",label:"Số CCCD/CMND",type:"text",required:!0,placeholder:"VD: 001234567890"},{key:"fullName",label:"Họ và tên",type:"text",required:!0,placeholder:"VD: Nguyễn Văn A"},{key:"dateOfBirth",label:"Ngày sinh",type:"date",required:!0},{key:"issueDate",label:"Ngày cấp",type:"date",required:!0},{key:"issuePlace",label:"Nơi cấp",type:"text",required:!0,placeholder:"VD: Cục Cảnh sát ĐKQL cư trú và DLQG về dân cư"},{key:"address",label:"Địa chỉ thường trú",type:"textarea",required:!1,placeholder:"Địa chỉ ghi trên CCCD/CMND"}]},"business-license":{id:"business-license",name:"Giấy phép kinh doanh",description:"Giấy chứng nhận đăng ký kinh doanh / Giấy phép kinh doanh",acceptedFormats:[".pdf",".jpg",".jpeg",".png",".webp"],maxSizeMB:10,fields:[{key:"licenseNumber",label:"Số giấy phép",type:"text",required:!0,placeholder:"VD: GPKD-0123456789"},{key:"issueDate",label:"Ngày cấp",type:"date",required:!0},{key:"expiryDate",label:"Ngày hết hạn",type:"date",required:!1},{key:"issuingAuthority",label:"Cơ quan cấp",type:"text",required:!0,placeholder:"VD: Sở Kế hoạch và Đầu tư TP.HCM"},{key:"businessScope",label:"Ngành nghề kinh doanh",type:"textarea",required:!0,placeholder:"VD: Kinh doanh thực phẩm, đồ uống"}]},"lease-contract":{id:"lease-contract",name:"Hợp đồng thuê mặt bằng",description:"Hợp đồng thuê địa điểm kinh doanh",acceptedFormats:[".pdf",".jpg",".jpeg",".png",".webp"],maxSizeMB:15,fields:[{key:"contractNumber",label:"Số hợp đồng",type:"text",required:!0,placeholder:"VD: HĐ-2023-001"},{key:"lessor",label:"Bên cho thuê",type:"text",required:!0,placeholder:"VD: Công ty TNHH ABC"},{key:"lessee",label:"Bên thuê",type:"text",required:!0,placeholder:"VD: Nguyễn Văn A"},{key:"startDate",label:"Ngày bắt đầu",type:"date",required:!0},{key:"endDate",label:"Ngày kết thúc",type:"date",required:!0},{key:"monthlyRent",label:"Tiền thuê hàng tháng (VNĐ)",type:"number",required:!1,placeholder:"VD: 15000000"},{key:"address",label:"Địa chỉ mặt bằng",type:"textarea",required:!0,placeholder:"Địa chỉ chi tiết của mặt bằng"}]},"food-safety":{id:"food-safety",name:"Giấy chứng nhận ATTP",description:"Giấy chứng nhận An toàn Thực phẩm",acceptedFormats:[".pdf",".jpg",".jpeg",".png",".webp"],maxSizeMB:10,fields:[{key:"certificateNumber",label:"Số giấy chứng nhận",type:"text",required:!0,placeholder:"VD: ATTP-2023-001234"},{key:"issueDate",label:"Ngày cấp",type:"date",required:!0},{key:"expiryDate",label:"Ngày hết hạn",type:"date",required:!0},{key:"issuingAuthority",label:"Cơ quan cấp",type:"text",required:!0,placeholder:"VD: Chi cục An toàn Vệ sinh Thực phẩm TP.HCM"},{key:"scope",label:"Phạm vi hoạt động",type:"textarea",required:!0,placeholder:"VD: Chế biến và bán lẻ thực phẩm"}]},"specialized-license":{id:"specialized-license",name:"Giấy phép chuyên ngành",description:"Giấy phép kinh doanh chuyên ngành (Y tế, Dược phẩm, v.v.)",acceptedFormats:[".pdf",".jpg",".jpeg",".png",".webp"],maxSizeMB:10,fields:[{key:"licenseNumber",label:"Số giấy phép",type:"text",required:!0,placeholder:"VD: GPCN-2023-5678"},{key:"issueDate",label:"Ngày cấp",type:"date",required:!0},{key:"expiryDate",label:"Ngày hết hạn",type:"date",required:!0},{key:"issuingAuthority",label:"Cơ quan cấp",type:"text",required:!0,placeholder:"VD: Sở Y tế TP.HCM"},{key:"scope",label:"Phạm vi hoạt động",type:"textarea",required:!0,placeholder:"VD: Kinh doanh thuốc không kê đơn"}]},"fire-safety":{id:"fire-safety",name:"Giấy phép PCCC",description:"Giấy chứng nhận Phòng cháy chữa cháy",acceptedFormats:[".pdf",".jpg",".jpeg",".png",".webp"],maxSizeMB:10,fields:[{key:"certificateNumber",label:"Số giấy chứng nhận",type:"text",required:!0,placeholder:"VD: PCCC-2023-9999"},{key:"issueDate",label:"Ngày cấp",type:"date",required:!0},{key:"expiryDate",label:"Ngày hết hạn",type:"date",required:!0},{key:"issuingAuthority",label:"Cơ quan cấp",type:"text",required:!0,placeholder:"VD: Phòng Cảnh sát PCCC - Quận 1"},{key:"inspectionResult",label:"Kết quả kiểm tra",type:"textarea",required:!1,placeholder:"VD: Đạt yêu cầu PCCC"}]}};function ze(t){return Js[t]}const Zs="_overlay_1cpxg_3",et="_dialog_1cpxg_49",it="_header_1cpxg_105",st="_title_1cpxg_123",tt="_description_1cpxg_139",lt="_closeButton_1cpxg_153",at="_content_1cpxg_191",nt="_uploadSection_1cpxg_271",rt="_uploadArea_1cpxg_283",ot="_dragging_1cpxg_319",ct="_fileInput_1cpxg_331",mt="_uploadPrompt_1cpxg_339",ut="_uploadIcon_1cpxg_353",dt="_uploadText_1cpxg_361",Nt="_uploadHint_1cpxg_375",ht="_filePreview_1cpxg_389",pt="_previewImage_1cpxg_403",Vt="_fileIcon_1cpxg_417",vt="_fileName_1cpxg_433",bt="_changeFileButton_1cpxg_447",Tt="_errorMessage_1cpxg_457",ft="_extractionStatus_1cpxg_483",gt="_spinner_1cpxg_507",xt="_extractionSuccess_1cpxg_533",Dt="_formSection_1cpxg_559",Ht="_formTitle_1cpxg_571",Et="_formGrid_1cpxg_585",kt="_formField_1cpxg_597",Lt="_formFieldFull_1cpxg_609",_t="_label_1cpxg_623",yt="_required_1cpxg_635",Qt="_input_1cpxg_645",jt="_textarea_1cpxg_647",Ct="_footer_1cpxg_717",S={overlay:Zs,dialog:et,header:it,title:st,description:tt,closeButton:lt,content:at,uploadSection:nt,uploadArea:rt,dragging:ot,fileInput:ct,uploadPrompt:mt,uploadIcon:ut,uploadText:dt,uploadHint:Nt,filePreview:ht,previewImage:pt,fileIcon:Vt,fileName:vt,changeFileButton:bt,errorMessage:Tt,extractionStatus:ft,spinner:gt,extractionSuccess:xt,formSection:Dt,formTitle:Ht,formGrid:Et,formField:kt,formFieldFull:Lt,label:_t,required:yt,input:Qt,textarea:jt,footer:Ct};function St({open:t,onOpenChange:o,documentType:s,existingData:c,existingFileUrl:a,editingDocument:d,onSave:E}){const r=s?ze(s):null,w=!!d,[I,$]=V.useState(null),[F,C]=V.useState(a||null),[x,G]=V.useState(c||{}),[Z,q]=V.useState(!1),[oe,f]=V.useState(!1),[K,A]=V.useState(!1),[O,X]=V.useState(null),l=V.useRef(null);V.useEffect(()=>{if(t&&d){const v={};if(d.uploadedData&&Object.assign(v,d.uploadedData),d.documentNumber){const y=r==null?void 0:r.fields[0];(y==null?void 0:y.key)==="licenseNumber"||(y==null?void 0:y.key)==="certificateNumber"?v[y.key]=d.documentNumber:(y==null?void 0:y.key)==="idNumber"?v.idNumber=d.documentNumber:(y==null?void 0:y.key)==="contractNumber"&&(v.contractNumber=d.documentNumber)}const _=y=>{if(!y)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(y))return y;if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(y)){const[be,Ce,Ve]=y.split("/");return`${Ve}-${Ce.padStart(2,"0")}-${be.padStart(2,"0")}`}return y};["issueDate","expiryDate","dateOfBirth","startDate","endDate"].forEach(y=>{d[y]&&(v[y]=_(d[y]))}),["issuingAuthority","notes"].forEach(y=>{d[y]&&(v[y]=d[y])}),["fullName","issuePlace","address","businessScope","scope","lessor","lessee","monthlyRent","inspectionResult"].forEach(y=>{d[y]&&(v[y]=d[y])}),G(v),d.fileUrl&&C(d.fileUrl)}else t||(G({}),$(null),C(null),X(null),f(!1),A(!1))},[t,d,r]);const ee=V.useCallback(v=>new Promise(_=>{setTimeout(()=>{_({cccd:{idNumber:"001234567890",fullName:"Nguyễn Văn A",dateOfBirth:"1990-05-15",issueDate:"2023-01-10",issuePlace:"Cục Cảnh sát ĐKQL cư trú và DLQG về dân cư"},"business-license":{licenseNumber:"GPKD-0123456789",issueDate:"2022-06-15",expiryDate:"2027-06-15",issuingAuthority:"Sở Kế hoạch và Đầu tư TP.HCM",businessScope:"Kinh doanh thực phẩm, đồ uống"},"lease-contract":{contractNumber:"HĐ-2023-001",lessor:"Công ty TNHH ABC",lessee:"Nguyễn Văn A",startDate:"2023-01-01",endDate:"2025-12-31",monthlyRent:"15000000",address:"123 Nguyễn Huệ, Q.1, TP.HCM"},"food-safety":{certificateNumber:"ATTP-2023-001234",issueDate:"2023-03-20",expiryDate:"2025-03-20",issuingAuthority:"Chi cục An toàn Vệ sinh Thực phẩm TP.HCM",scope:"Chế biến và bán lẻ thực phẩm"},"specialized-license":{licenseNumber:"GPCN-2023-5678",issueDate:"2023-02-10",expiryDate:"2026-02-10",issuingAuthority:"Sở Y tế TP.HCM",scope:"Kinh doanh thuốc không kê đơn"},"fire-safety":{certificateNumber:"PCCC-2023-9999",issueDate:"2023-04-01",expiryDate:"2025-04-01",issuingAuthority:"Phòng Cảnh sát PCCC - Quận 1",inspectionResult:"Đạt yêu cầu PCCC"}}[r==null?void 0:r.id]||{})},2e3)}),[r==null?void 0:r.id]),ie=async v=>{var te;X(null);const _="."+((te=v.name.split(".").pop())==null?void 0:te.toLowerCase());if(!(r!=null&&r.acceptedFormats.includes(_))){X(`Định dạng file không hợp lệ. Chỉ chấp nhận: ${r==null?void 0:r.acceptedFormats.join(", ")}`);return}if(v.size/(1024*1024)>(r==null?void 0:r.maxSizeMB)){X(`Kích thước file vượt quá ${r==null?void 0:r.maxSizeMB}MB`);return}if($(v),v.type.startsWith("image/")){const le=new FileReader;le.onloadend=()=>{C(le.result)},le.readAsDataURL(v)}else C(null);f(!0),A(!1);try{const le=await ee(v);G(y=>({...y,...le})),A(!0)}catch(le){console.error("Error extracting data:",le)}finally{f(!1)}},se=v=>{v.preventDefault(),q(!0)},ce=()=>{q(!1)},D=v=>{v.preventDefault(),q(!1);const _=v.dataTransfer.files[0];_&&ie(_)},L=(v,_)=>{G(Y=>({...Y,[v]:_}))},ue=()=>{const v=r==null?void 0:r.fields.filter(_=>_.required&&!x[_.key]).map(_=>_.label);if((v==null?void 0:v.length)>0){X(`Vui lòng điền đầy đủ: ${v.join(", ")}`);return}E({file:I,fields:x}),o(!1)};return t?e.jsxDEV("div",{className:S.overlay,onClick:()=>o(!1),children:e.jsxDEV("div",{className:S.dialog,onClick:v=>v.stopPropagation(),children:[e.jsxDEV("div",{className:S.header,children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:S.title,children:[w?"Chỉnh sửa":"Tải lên"," ",r==null?void 0:r.name]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:287,columnNumber:13},this),e.jsxDEV("p",{className:S.description,children:r==null?void 0:r.description},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:290,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:286,columnNumber:11},this),e.jsxDEV("button",{className:S.closeButton,onClick:()=>o(!1),"aria-label":"Đóng",children:e.jsxDEV(Ue,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:297,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:292,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:285,columnNumber:9},this),e.jsxDEV("div",{className:S.content,children:[e.jsxDEV("div",{className:S.uploadSection,children:[e.jsxDEV("div",{className:`${S.uploadArea} ${Z?S.dragging:""}`,onDragOver:se,onDragLeave:ce,onDrop:D,onClick:()=>{var v;return(v=l.current)==null?void 0:v.click()},children:[e.jsxDEV("input",{ref:l,type:"file",accept:r==null?void 0:r.acceptedFormats.join(","),onChange:v=>{var Y;const _=(Y=v.target.files)==null?void 0:Y[0];_&&ie(_)},className:S.fileInput},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:312,columnNumber:15},this),I||F?e.jsxDEV("div",{className:S.filePreview,children:[F?e.jsxDEV("img",{src:F,alt:"Preview",className:S.previewImage},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:326,columnNumber:21},this):e.jsxDEV("div",{className:S.fileIcon,children:[e.jsxDEV(re,{size:48},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:329,columnNumber:23},this),e.jsxDEV("p",{className:S.fileName,children:I==null?void 0:I.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:330,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:328,columnNumber:21},this),e.jsxDEV(M,{variant:"outline",size:"sm",className:S.changeFileButton,onClick:v=>{var _;v.stopPropagation(),(_=l.current)==null||_.click()},children:"Thay file khác"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:333,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:324,columnNumber:17},this):e.jsxDEV("div",{className:S.uploadPrompt,children:[e.jsxDEV(Be,{size:48,className:S.uploadIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:347,columnNumber:19},this),e.jsxDEV("p",{className:S.uploadText,children:"Kéo thả file vào đây hoặc click để chọn"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:348,columnNumber:19},this),e.jsxDEV("p",{className:S.uploadHint,children:["Hỗ trợ: ",r==null?void 0:r.acceptedFormats.join(", ")," (tối đa ",r==null?void 0:r.maxSizeMB,"MB)"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:351,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:346,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:305,columnNumber:13},this),O&&e.jsxDEV("div",{className:S.errorMessage,children:[e.jsxDEV(_e,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:360,columnNumber:17},this),O]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:359,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:304,columnNumber:11},this),oe&&e.jsxDEV("div",{className:S.extractionStatus,children:[e.jsxDEV(_i,{size:16,className:S.spinner},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:369,columnNumber:15},this),e.jsxDEV("span",{children:"Đang trích xuất thông tin..."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:370,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:368,columnNumber:13},this),K&&e.jsxDEV("div",{className:S.extractionSuccess,children:[e.jsxDEV(Qe,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:376,columnNumber:15},this),e.jsxDEV("span",{children:"Đã trích xuất thông tin thành công - vui lòng kiểm tra và chỉnh sửa nếu cần"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:377,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:375,columnNumber:13},this),e.jsxDEV("div",{className:S.formSection,children:[e.jsxDEV("h3",{className:S.formTitle,children:"Thông tin giấy tờ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:383,columnNumber:13},this),e.jsxDEV("div",{className:S.formGrid,children:r==null?void 0:r.fields.map(v=>e.jsxDEV("div",{className:v.type==="textarea"?S.formFieldFull:S.formField,children:[e.jsxDEV("label",{className:S.label,children:[v.label,v.required&&e.jsxDEV("span",{className:S.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:392,columnNumber:40},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:390,columnNumber:19},this),v.type==="textarea"?e.jsxDEV("textarea",{className:S.textarea,value:x[v.key]||"",onChange:_=>L(v.key,_.target.value),placeholder:v.placeholder,rows:3},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:395,columnNumber:21},this):e.jsxDEV("input",{type:v.type,className:S.input,value:x[v.key]||"",onChange:_=>L(v.key,_.target.value),placeholder:v.placeholder},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:403,columnNumber:21},this)]},v.key,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:386,columnNumber:17},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:384,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:382,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:302,columnNumber:9},this),e.jsxDEV("div",{className:S.footer,children:[e.jsxDEV(M,{variant:"outline",onClick:()=>o(!1),children:"Hủy"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:419,columnNumber:11},this),e.jsxDEV(M,{onClick:ue,children:w?"Cập nhật":"Lưu"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:422,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:418,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:283,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentUploadDialog.tsx",lineNumber:282,columnNumber:5},this):null}const It="_overlay_etmam_3",Pt="_dialog_etmam_27",wt="_header_etmam_57",At="_title_etmam_73",Bt="_subtitle_etmam_89",Ut="_closeButton_etmam_105",Rt="_content_etmam_143",$t="_uploadGrid_etmam_163",Mt="_uploadColumn_etmam_175",Gt="_uploadLabel_etmam_187",zt="_uploadArea_etmam_205",Ft="_dragging_etmam_243",qt="_error_etmam_253",Kt="_fileInput_etmam_263",Ot="_uploadPrompt_etmam_273",Wt="_uploadIcon_etmam_287",Yt="_uploadText_etmam_297",Xt="_uploadHint_etmam_313",Jt="_filePreview_etmam_331",Zt="_previewImage_etmam_347",el="_fileIcon_etmam_363",il="_fileName_etmam_379",sl="_changeFileButton_etmam_403",tl="_errorMessage_etmam_413",ll="_formErrorMessage_etmam_435",al="_extractionStatus_etmam_465",nl="_extractionSuccess_etmam_493",rl="_spinner_etmam_521",ol="_formSection_etmam_551",cl="_formTitle_etmam_563",ml="_formGrid_etmam_579",ul="_formField_etmam_591",dl="_formFieldFull_etmam_603",Nl="_label_etmam_617",hl="_required_etmam_631",pl="_input_etmam_641",Vl="_textarea_etmam_677",vl="_footer_etmam_719",b={overlay:It,dialog:Pt,header:wt,title:At,subtitle:Bt,closeButton:Ut,content:Rt,uploadGrid:$t,uploadColumn:Mt,uploadLabel:Gt,uploadArea:zt,dragging:Ft,error:qt,fileInput:Kt,uploadPrompt:Ot,uploadIcon:Wt,uploadText:Yt,uploadHint:Xt,filePreview:Jt,previewImage:Zt,fileIcon:el,fileName:il,changeFileButton:sl,errorMessage:tl,formErrorMessage:ll,extractionStatus:al,extractionSuccess:nl,spinner:rl,formSection:ol,formTitle:cl,formGrid:ml,formField:ul,formFieldFull:dl,label:Nl,required:hl,input:pl,textarea:Vl,footer:vl};function bl({open:t,onOpenChange:o,existingData:s,editingDocument:c,onSave:a}){const d=!!c,E="/assets/images/cccd-placeholder.png",[r,w]=V.useState(null),[I,$]=V.useState(null),[F,C]=V.useState((s==null?void 0:s.frontFileUrl)||E),[x,G]=V.useState((s==null?void 0:s.backFileUrl)||E),[Z,q]=V.useState((s==null?void 0:s.fields)||{}),[oe,f]=V.useState(!1),[K,A]=V.useState(!1),[O,X]=V.useState(!1),[l,ee]=V.useState(!1),[ie,se]=V.useState({}),ce=V.useRef(null),D=V.useRef(null),L=ze("cccd");V.useEffect(()=>{if(t&&c){const u={};c.uploadedData&&Object.assign(u,c.uploadedData),c.documentNumber&&(u.idNumber=c.documentNumber);const Q=T=>{if(!T)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(T))return T;if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(T)){const[me,Fe,qe]=T.split("/");return`${qe}-${Fe.padStart(2,"0")}-${me.padStart(2,"0")}`}return T};["issueDate","dateOfBirth"].forEach(T=>{c[T]&&(u[T]=Q(c[T]))}),["fullName","issuePlace","issuingAuthority","address","notes"].forEach(T=>{c[T]&&(u[T]=c[T])}),q(u),c.fileUrl&&C(c.fileUrl),c.backFileUrl&&G(c.backFileUrl)}else t||(q({}),w(null),$(null),C(E),G(E),se({}),X(!1),ee(!1))},[t,c]);const ue=V.useCallback((u,Q)=>new Promise(T=>{setTimeout(()=>{T({idNumber:"001234567890",fullName:"Nguyễn Văn A",dateOfBirth:"1990-05-15",issueDate:"2023-01-10",issuePlace:"Cục Cảnh sát ĐKQL cư trú và DLQG về dân cư",address:"123 Nguyễn Huệ, Phường Bến Nghé, Quận 1, TP.HCM"})},1500)}),[]),v=u=>["image/jpeg","image/jpg","image/png","application/pdf"].includes(u.type)?u.size>10485760?"Kích thước file không được vượt quá 10MB":null:"Chỉ chấp nhận file JPG, PNG hoặc PDF",_=async u=>{const Q=v(u);if(Q){se(T=>({...T,front:Q}));return}if(se(T=>({...T,front:void 0})),w(u),u.type.startsWith("image/")){const T=new FileReader;T.onloadend=()=>{C(T.result)},T.readAsDataURL(u)}else C(null);if(I||x){X(!0);try{const T=await ue(u,I||void 0);q(me=>({...me,...T})),ee(!0),setTimeout(()=>ee(!1),3e3)}catch(T){console.error("Extraction failed:",T)}finally{X(!1)}}},Y=async u=>{const Q=v(u);if(Q){se(T=>({...T,back:Q}));return}if(se(T=>({...T,back:void 0})),$(u),u.type.startsWith("image/")){const T=new FileReader;T.onloadend=()=>{G(T.result)},T.readAsDataURL(u)}else G(null);if(r||F){X(!0);try{const T=await ue(r||new File([],"temp"),u);q(me=>({...me,...T})),ee(!0),setTimeout(()=>ee(!1),3e3)}catch(T){console.error("Extraction failed:",T)}finally{X(!1)}}},te=u=>{u.preventDefault(),f(!0)},le=()=>{f(!1)},y=u=>{u.preventDefault(),f(!1);const Q=u.dataTransfer.files[0];Q&&_(Q)},be=u=>{u.preventDefault(),A(!0)},Ce=()=>{A(!1)},Ve=u=>{u.preventDefault(),A(!1);const Q=u.dataTransfer.files[0];Q&&Y(Q)},Se=(u,Q)=>{q(T=>({...T,[u]:Q})),se(T=>({...T,form:void 0}))},De=()=>{const u={};return!r&&!F&&(u.front="Vui lòng upload mặt trước CCCD/CMND"),!I&&!x&&(u.back="Vui lòng upload mặt sau CCCD/CMND"),((L==null?void 0:L.fields.filter(me=>me.required))||[]).filter(me=>!Z[me.key]).length>0&&(u.form="Vui lòng điền đầy đủ thông tin bắt buộc"),se(u),Object.keys(u).length===0},Ie=()=>{De()&&(a({frontFile:r,backFile:I,frontFileUrl:F||void 0,backFileUrl:x||void 0,fields:Z}),o(!1))};return t?e.jsxDEV("div",{className:b.overlay,onClick:()=>o(!1),children:e.jsxDEV("div",{className:b.dialog,onClick:u=>u.stopPropagation(),children:[e.jsxDEV("div",{className:b.header,children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:b.title,children:[d?"Cập nhật":"Upload"," CCCD / CMND chủ hộ"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:322,columnNumber:13},this),e.jsxDEV("p",{className:b.subtitle,children:"Vui lòng upload đầy đủ cả 2 mặt: Mặt trước và Mặt sau"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:325,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:321,columnNumber:11},this),e.jsxDEV("button",{className:b.closeButton,onClick:()=>o(!1),"aria-label":"Đóng",children:e.jsxDEV(Ue,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:334,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:329,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:320,columnNumber:9},this),e.jsxDEV("div",{className:b.content,children:[e.jsxDEV("div",{className:b.uploadGrid,children:[e.jsxDEV("div",{className:b.uploadColumn,children:[e.jsxDEV("label",{className:b.uploadLabel,children:["Mặt trước ",e.jsxDEV("span",{className:b.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:345,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:344,columnNumber:15},this),e.jsxDEV("div",{className:`${b.uploadArea} ${oe?b.dragging:""} ${ie.front?b.error:""}`,onDragOver:te,onDragLeave:le,onDrop:y,onClick:()=>{var u;return(u=ce.current)==null?void 0:u.click()},children:[e.jsxDEV("input",{ref:ce,type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:u=>{var T;const Q=(T=u.target.files)==null?void 0:T[0];Q&&_(Q)},className:b.fileInput},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:355,columnNumber:17},this),r||F?e.jsxDEV("div",{className:b.filePreview,children:[F?e.jsxDEV("img",{src:F,alt:"Mặt trước CCCD",className:b.previewImage},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:369,columnNumber:23},this):e.jsxDEV("div",{className:b.fileIcon,children:[e.jsxDEV(re,{size:48},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:376,columnNumber:25},this),e.jsxDEV("p",{className:b.fileName,children:r==null?void 0:r.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:377,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:375,columnNumber:23},this),e.jsxDEV(M,{variant:"outline",size:"sm",className:b.changeFileButton,onClick:u=>{var Q;u.stopPropagation(),(Q=ce.current)==null||Q.click()},children:"Thay file khác"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:380,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:367,columnNumber:19},this):e.jsxDEV("div",{className:b.uploadPrompt,children:[e.jsxDEV(ge,{size:48,className:b.uploadIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:394,columnNumber:21},this),e.jsxDEV("p",{className:b.uploadText,children:"Upload mặt trước"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:395,columnNumber:21},this),e.jsxDEV("p",{className:b.uploadHint,children:"JPG, PNG, PDF (max 10MB)"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:396,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:393,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:347,columnNumber:15},this),ie.front&&e.jsxDEV("div",{className:b.errorMessage,children:[e.jsxDEV(_e,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:402,columnNumber:19},this),ie.front]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:401,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:343,columnNumber:13},this),e.jsxDEV("div",{className:b.uploadColumn,children:[e.jsxDEV("label",{className:b.uploadLabel,children:["Mặt sau ",e.jsxDEV("span",{className:b.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:411,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:410,columnNumber:15},this),e.jsxDEV("div",{className:`${b.uploadArea} ${K?b.dragging:""} ${ie.back?b.error:""}`,onDragOver:be,onDragLeave:Ce,onDrop:Ve,onClick:()=>{var u;return(u=D.current)==null?void 0:u.click()},children:[e.jsxDEV("input",{ref:D,type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:u=>{var T;const Q=(T=u.target.files)==null?void 0:T[0];Q&&Y(Q)},className:b.fileInput},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:421,columnNumber:17},this),I||x?e.jsxDEV("div",{className:b.filePreview,children:[x?e.jsxDEV("img",{src:x,alt:"Mặt sau CCCD",className:b.previewImage},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:435,columnNumber:23},this):e.jsxDEV("div",{className:b.fileIcon,children:[e.jsxDEV(re,{size:48},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:442,columnNumber:25},this),e.jsxDEV("p",{className:b.fileName,children:I==null?void 0:I.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:443,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:441,columnNumber:23},this),e.jsxDEV(M,{variant:"outline",size:"sm",className:b.changeFileButton,onClick:u=>{var Q;u.stopPropagation(),(Q=D.current)==null||Q.click()},children:"Thay file khác"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:446,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:433,columnNumber:19},this):e.jsxDEV("div",{className:b.uploadPrompt,children:[e.jsxDEV(ge,{size:48,className:b.uploadIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:460,columnNumber:21},this),e.jsxDEV("p",{className:b.uploadText,children:"Upload mặt sau"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:461,columnNumber:21},this),e.jsxDEV("p",{className:b.uploadHint,children:"JPG, PNG, PDF (max 10MB)"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:462,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:459,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:413,columnNumber:15},this),ie.back&&e.jsxDEV("div",{className:b.errorMessage,children:[e.jsxDEV(_e,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:468,columnNumber:19},this),ie.back]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:467,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:409,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:341,columnNumber:11},this),O&&e.jsxDEV("div",{className:b.extractionStatus,children:[e.jsxDEV(_i,{size:16,className:b.spinner},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:478,columnNumber:15},this),e.jsxDEV("span",{children:"Đang trích xuất thông tin từ CCCD/CMND..."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:479,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:477,columnNumber:13},this),l&&e.jsxDEV("div",{className:b.extractionSuccess,children:[e.jsxDEV(Qe,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:485,columnNumber:15},this),e.jsxDEV("span",{children:"Đã trích xuất thông tin thành công - vui lòng kiểm tra và chỉnh sửa nếu cần"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:486,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:484,columnNumber:13},this),e.jsxDEV("div",{className:b.formSection,children:[e.jsxDEV("h3",{className:b.formTitle,children:"Thông tin CCCD/CMND"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:492,columnNumber:13},this),ie.form&&e.jsxDEV("div",{className:b.formErrorMessage,children:[e.jsxDEV(_e,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:495,columnNumber:17},this),ie.form]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:494,columnNumber:15},this),e.jsxDEV("div",{className:b.formGrid,children:L==null?void 0:L.fields.map(u=>e.jsxDEV("div",{className:u.type==="textarea"?b.formFieldFull:b.formField,children:[e.jsxDEV("label",{className:b.label,children:[u.label,u.required&&e.jsxDEV("span",{className:b.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:507,columnNumber:40},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:505,columnNumber:19},this),u.type==="textarea"?e.jsxDEV("textarea",{className:b.textarea,value:Z[u.key]||"",onChange:Q=>Se(u.key,Q.target.value),placeholder:u.placeholder,rows:3},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:510,columnNumber:21},this):e.jsxDEV("input",{type:u.type,className:b.input,value:Z[u.key]||"",onChange:Q=>Se(u.key,Q.target.value),placeholder:u.placeholder},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:518,columnNumber:21},this)]},u.key,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:501,columnNumber:17},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:499,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:491,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:339,columnNumber:9},this),e.jsxDEV("div",{className:b.footer,children:[e.jsxDEV(M,{variant:"outline",onClick:()=>o(!1),children:"Hủy"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:534,columnNumber:11},this),e.jsxDEV(M,{onClick:Ie,disabled:!r&&!F||!I&&!x||O,children:d?"Cập nhật":"Lưu"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:537,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:533,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:318,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/IDCardUploadDialog.tsx",lineNumber:317,columnNumber:5},this):null}const Tl="_overlay_pb2wa_3",fl="_dialog_pb2wa_49",gl="_header_pb2wa_105",xl="_headerContent_pb2wa_123",Dl="_title_pb2wa_131",Hl="_description_pb2wa_147",El="_closeButton_pb2wa_161",kl="_content_pb2wa_199",Ll="_statusSection_pb2wa_279",_l="_statusBadges_pb2wa_291",yl="_alertPending_pb2wa_305",Ql="_badgeValid_pb2wa_333",jl="_badgeExpiring_pb2wa_345",Cl="_badgePending_pb2wa_357",Sl="_badgeApproved_pb2wa_369",Il="_badgeRejected_pb2wa_381",Pl="_filePreview_pb2wa_395",wl="_filePreviewLabel_pb2wa_407",Al="_imagePreviewContainer_pb2wa_425",Bl="_previewImage_pb2wa_445",Ul="_fileName_pb2wa_459",Rl="_idCardGrid_pb2wa_473",$l="_idCardSide_pb2wa_487",Ml="_idCardLabel_pb2wa_499",Gl="_detailsSection_pb2wa_535",zl="_sectionTitle_pb2wa_547",Fl="_detailsGrid_pb2wa_561",ql="_detailItem_pb2wa_573",Kl="_detailLabel_pb2wa_585",Ol="_detailValue_pb2wa_603",Wl="_notesSection_pb2wa_615",Yl="_footer_pb2wa_633",Xl="_footerRight_pb2wa_653",Jl="_approveButton_pb2wa_665",Zl="_rejectButton_pb2wa_687",ea="_downloadButton_pb2wa_707",p={overlay:Tl,dialog:fl,header:gl,headerContent:xl,title:Dl,description:Hl,closeButton:El,content:kl,statusSection:Ll,statusBadges:_l,alertPending:yl,badgeValid:Ql,badgeExpiring:jl,badgePending:Cl,badgeApproved:Sl,badgeRejected:Il,filePreview:Pl,filePreviewLabel:wl,imagePreviewContainer:Al,previewImage:Bl,fileName:Ul,idCardGrid:Rl,idCardSide:$l,idCardLabel:Ml,detailsSection:Gl,sectionTitle:zl,detailsGrid:Fl,detailItem:ql,detailLabel:Kl,detailValue:Ol,notesSection:Wl,footer:Yl,footerRight:Xl,approveButton:Jl,rejectButton:Zl,downloadButton:ea};function ia({open:t,onOpenChange:o,document:s,onApprove:c,onReject:a}){if(!t||!s)return null;const d=ze(s.type),E=s.approvalStatus==="pending",r=s.approvalStatus==="approved",w=s.approvalStatus==="rejected",I=()=>{c&&s.id&&c(s.id)},$=()=>{a&&s.id&&a(s.id)},F=()=>{if(!(!s.fileUrl||!s.fileName))if(s.backFileUrl&&s.backFileName){const C=s.createElement("a");C.href=s.fileUrl,C.download=s.fileName,C.target="_blank",s.body.appendChild(C),C.click(),s.body.removeChild(C),setTimeout(()=>{const x=s.createElement("a");x.href=s.backFileUrl,x.download=s.backFileName,x.target="_blank",s.body.appendChild(x),x.click(),s.body.removeChild(x)},300)}else{const C=s.createElement("a");C.href=s.fileUrl,C.download=s.fileName,C.target="_blank",s.body.appendChild(C),C.click(),s.body.removeChild(C)}};return e.jsxDEV("div",{className:p.overlay,onClick:()=>o(!1),children:e.jsxDEV("div",{className:p.dialog,onClick:C=>C.stopPropagation(),children:[e.jsxDEV("div",{className:p.header,children:[e.jsxDEV("div",{className:p.headerContent,children:[e.jsxDEV("h2",{className:p.title,children:s.title},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:85,columnNumber:13},this),e.jsxDEV("p",{className:p.description,children:(d==null?void 0:d.description)||"Chi tiết giấy tờ pháp lý"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:86,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:84,columnNumber:11},this),e.jsxDEV("button",{className:p.closeButton,onClick:()=>o(!1),type:"button",children:e.jsxDEV(Ue,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:93,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:88,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:83,columnNumber:9},this),e.jsxDEV("div",{className:p.content,children:[e.jsxDEV("div",{className:p.statusSection,children:[e.jsxDEV("div",{className:p.statusBadges,children:[s.statusText&&e.jsxDEV(pe,{variant:"secondary",className:s.status==="valid"?p.badgeValid:s.status==="expiring"?p.badgeExpiring:"",children:s.statusText},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:103,columnNumber:17},this),s.approvalStatusText&&e.jsxDEV(pe,{variant:"secondary",className:E?p.badgePending:r?p.badgeApproved:w?p.badgeRejected:"",children:s.approvalStatusText},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:115,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:101,columnNumber:13},this),E&&e.jsxDEV("div",{className:p.alertPending,children:[e.jsxDEV(_e,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:132,columnNumber:17},this),e.jsxDEV("span",{children:"Giấy tờ này đang chờ phê duyệt. Vui lòng kiểm tra thông tin và phê duyệt."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:133,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:100,columnNumber:11},this),s.fileUrl&&e.jsxDEV("div",{className:p.filePreview,children:[e.jsxDEV("div",{className:p.filePreviewLabel,children:[e.jsxDEV(re,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:142,columnNumber:17},this),e.jsxDEV("span",{children:"File đính kèm"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:143,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:141,columnNumber:15},this),s.backFileUrl?e.jsxDEV("div",{className:p.idCardGrid,children:[e.jsxDEV("div",{className:p.idCardSide,children:[e.jsxDEV("div",{className:p.idCardLabel,children:"Mặt trước"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:151,columnNumber:21},this),e.jsxDEV("div",{className:p.imagePreviewContainer,children:e.jsxDEV("img",{src:s.fileUrl,alt:"CCCD Mặt trước",className:p.previewImage},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:153,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:152,columnNumber:21},this),s.fileName&&e.jsxDEV("div",{className:p.fileName,children:s.fileName},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:160,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:150,columnNumber:19},this),e.jsxDEV("div",{className:p.idCardSide,children:[e.jsxDEV("div",{className:p.idCardLabel,children:"Mặt sau"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:166,columnNumber:21},this),e.jsxDEV("div",{className:p.imagePreviewContainer,children:e.jsxDEV("img",{src:s.backFileUrl,alt:"CCCD Mặt sau",className:p.previewImage},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:168,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:167,columnNumber:21},this),s.backFileName&&e.jsxDEV("div",{className:p.fileName,children:s.backFileName},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:175,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:165,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:148,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:p.imagePreviewContainer,children:e.jsxDEV("img",{src:s.fileUrl,alt:s.fileName||"Document preview",className:p.previewImage},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:183,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:182,columnNumber:19},this),s.fileName&&e.jsxDEV("div",{className:p.fileName,children:s.fileName},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:190,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:181,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:140,columnNumber:13},this),e.jsxDEV("div",{className:p.detailsSection,children:[e.jsxDEV("h3",{className:p.sectionTitle,children:"Thông tin chi tiết"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:199,columnNumber:13},this),e.jsxDEV("div",{className:p.detailsGrid,children:[s.documentNumber&&e.jsxDEV("div",{className:p.detailItem,children:[e.jsxDEV("div",{className:p.detailLabel,children:"Số giấy tờ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:203,columnNumber:19},this),e.jsxDEV("div",{className:p.detailValue,children:s.documentNumber},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:204,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:202,columnNumber:17},this),s.issueDate&&e.jsxDEV("div",{className:p.detailItem,children:[e.jsxDEV("div",{className:p.detailLabel,children:[e.jsxDEV(xe,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:210,columnNumber:21},this),e.jsxDEV("span",{children:"Ngày cấp"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:211,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:209,columnNumber:19},this),e.jsxDEV("div",{className:p.detailValue,children:s.issueDate},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:213,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:208,columnNumber:17},this),s.expiryDate&&e.jsxDEV("div",{className:p.detailItem,children:[e.jsxDEV("div",{className:p.detailLabel,children:[e.jsxDEV(xe,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:219,columnNumber:21},this),e.jsxDEV("span",{children:"Ngày hết hạn"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:220,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:218,columnNumber:19},this),e.jsxDEV("div",{className:p.detailValue,children:s.expiryDate},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:222,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:217,columnNumber:17},this),s.issuingAuthority&&e.jsxDEV("div",{className:p.detailItem,children:[e.jsxDEV("div",{className:p.detailLabel,children:[e.jsxDEV(is,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:228,columnNumber:21},this),e.jsxDEV("span",{children:"Cơ quan cấp"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:229,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:227,columnNumber:19},this),e.jsxDEV("div",{className:p.detailValue,children:s.issuingAuthority},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:231,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:226,columnNumber:17},this),s.uploadDate&&e.jsxDEV("div",{className:p.detailItem,children:[e.jsxDEV("div",{className:p.detailLabel,children:"Ngày tải lên"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:236,columnNumber:19},this),e.jsxDEV("div",{className:p.detailValue,children:s.uploadDate},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:237,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:235,columnNumber:17},this),s.uploadedBy&&e.jsxDEV("div",{className:p.detailItem,children:[e.jsxDEV("div",{className:p.detailLabel,children:"Người tải lên"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:242,columnNumber:19},this),e.jsxDEV("div",{className:p.detailValue,children:s.uploadedBy},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:243,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:241,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:200,columnNumber:13},this),s.notes&&e.jsxDEV("div",{className:p.notesSection,children:[e.jsxDEV("div",{className:p.detailLabel,children:"Ghi chú"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:249,columnNumber:17},this),e.jsxDEV("div",{className:p.detailValue,children:s.notes},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:250,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:248,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:198,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:98,columnNumber:9},this),e.jsxDEV("div",{className:p.footer,children:[s.fileUrl&&e.jsxDEV(M,{variant:"outline",onClick:F,className:p.downloadButton,children:[e.jsxDEV(ss,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:265,columnNumber:15},this),"Tải về"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:260,columnNumber:13},this),e.jsxDEV("div",{className:p.footerRight,children:E?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(M,{variant:"outline",onClick:$,className:p.rejectButton,children:[e.jsxDEV(yi,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:279,columnNumber:19},this),"Từ chối"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:274,columnNumber:17},this),e.jsxDEV(M,{onClick:I,className:p.approveButton,children:[e.jsxDEV(ts,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:286,columnNumber:19},this),"Phê duyệt"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:282,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:273,columnNumber:15},this):e.jsxDEV(M,{variant:"outline",onClick:()=>o(!1),children:"Đóng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:291,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:271,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:257,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:81,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/DocumentViewDialog.tsx",lineNumber:80,columnNumber:5},this)}const sa="_container_1xcfq_3",ta="_map_1xcfq_23",la="_footer_1xcfq_35",aa="_coordinates_1xcfq_55",na="_link_1xcfq_69",Ae={container:sa,map:ta,footer:la,coordinates:aa,link:na};function ra({storeName:t,address:o,latitude:s,longitude:c,height:a="400px"}){const d=V.useRef(null),E=V.useRef(null);return V.useEffect(()=>{if(!d.current)return;const r=()=>{if(typeof window<"u"&&window.L&&d.current){const w=window.L;E.current&&E.current.remove();const I=w.map(d.current).setView([s,c],16);w.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(I),w.marker([s,c]).addTo(I).bindPopup(`<strong>${t}</strong><br/>${o}`).openPopup(),E.current=I,setTimeout(()=>{I.invalidateSize()},100)}};if(window.L)r();else{const w=setInterval(()=>{window.L&&(clearInterval(w),r())},100);return()=>clearInterval(w)}return()=>{E.current&&(E.current.remove(),E.current=null)}},[s,c,t,o]),V.useEffect(()=>{if(!document.getElementById("leaflet-css")){const r=document.createElement("link");r.id="leaflet-css",r.rel="stylesheet",r.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",r.integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",r.crossOrigin="",document.head.appendChild(r)}if(!document.getElementById("leaflet-js")){const r=document.createElement("script");r.id="leaflet-js",r.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",r.integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",r.crossOrigin="",document.body.appendChild(r)}},[]),e.jsxDEV("div",{className:Ae.container,children:[e.jsxDEV("div",{ref:d,className:Ae.map,style:{height:a}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/MiniMapEmbed.tsx",lineNumber:105,columnNumber:7},this),e.jsxDEV("div",{className:Ae.footer,children:[e.jsxDEV("span",{className:Ae.coordinates,children:[s.toFixed(6),", ",c.toFixed(6)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/MiniMapEmbed.tsx",lineNumber:107,columnNumber:9},this),e.jsxDEV("a",{href:`https://www.google.com/maps?q=${s},${c}`,target:"_blank",rel:"noopener noreferrer",className:Ae.link,children:"Mở trên Google Maps"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/MiniMapEmbed.tsx",lineNumber:110,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/MiniMapEmbed.tsx",lineNumber:106,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/MiniMapEmbed.tsx",lineNumber:104,columnNumber:5},this)}const oa=[{id:"INS001",storeId:1,type:"Kiểm tra vệ sinh ATTP",date:"2024-11-15",displayDate:"15 tháng 11, 2024",unit:"Đội QLTT Quận 1",inspector:"Trần Văn B",notes:"Cơ sở đảm bảo vệ sinh an toàn thực phẩm. Không phát hiện vi phạm.",status:"passed"},{id:"INS002",storeId:1,type:"Kiểm tra vệ sinh ATTP",date:"2024-08-20",displayDate:"20 tháng 8, 2024",unit:"Đội QLTT Quận 1",inspector:"Lê Thị C",notes:"Phát hiện vi phạm nhỏ về quy trình bảo quản thực phẩm. Cơ sở đã cam kết khắc phục trong 7 ngày.",violationCount:2,status:"conditional"},{id:"INS003",storeId:1,type:"Kiểm tra giá cả",date:"2024-05-10",displayDate:"10 tháng 5, 2024",unit:"Đội QLTT Quận 1",inspector:"Nguyễn Văn A",notes:"Giá cả niêm yết đúng quy định, rõ ràng và đầy đủ.",status:"passed"},{id:"INS004",storeId:1,type:"Kiểm tra nguồn gốc hàng hóa",date:"2024-03-15",displayDate:"15 tháng 3, 2024",unit:"Chi cục QLTT Quận 1",inspector:"Phạm Văn D",notes:"Hàng hóa có hóa đơn chứng từ đầy đủ, nguồn gốc xuất xứ rõ ràng.",status:"passed"},{id:"INS005",storeId:2,type:"Kiểm tra vệ sinh ATTP",date:"2024-10-25",displayDate:"25 tháng 10, 2024",unit:"Đội QLTT Quận 2",inspector:"Hoàng Thị E",notes:"Không đạt tiêu chuẩn vệ sinh. Yêu cầu cơ sở tạm dừng hoạt động để khắc phục ngay.",violationCount:5,status:"failed"},{id:"INS006",storeId:2,type:"Kiểm tra giá cả",date:"2024-07-18",displayDate:"18 tháng 7, 2024",unit:"Đội QLTT Quận 2",inspector:"Trần Văn B",notes:"Chưa niêm yết giá đầy đủ tại một số vị trí. Yêu cầu bổ sung trong 3 ngày.",violationCount:1,status:"conditional"},{id:"INS007",storeId:3,type:"Kiểm tra vệ sinh ATTP",date:"2024-09-12",displayDate:"12 tháng 9, 2024",unit:"Đội QLTT Quận 3",inspector:"Nguyễn Văn A",notes:"Đảm bảo đầy đủ điều kiện an toàn thực phẩm theo quy định.",status:"passed"},{id:"INS008",storeId:3,type:"Kiểm tra định kỳ",date:"2024-06-20",displayDate:"20 tháng 6, 2024",unit:"Chi cục QLTT Quận 3",inspector:"Lê Thị C",notes:"Cơ sở hoạt động tốt, tuân thủ đầy đủ quy định.",status:"passed"},{id:"INS009",storeId:4,type:"Kiểm tra đột xuất",date:"2024-11-10",displayDate:"10 tháng 11, 2024",unit:"Chi cục QLTT Quận 4",inspector:"Hoàng Thị E",notes:"Phát hiện nhiều vi phạm nghiêm trọng về vệ sinh ATTP, thực phẩm hết hạn. Yêu cầu tạm dừng hoạt động ngay lập tức.",violationCount:3,status:"failed"},{id:"INS010",storeId:4,type:"Kiểm tra giấy phép",date:"2024-10-15",displayDate:"15 tháng 10, 2024",unit:"Đội QLTT Quận 4",inspector:"Trần Văn B",notes:"Phát hiện kinh doanh không đúng ngành nghề đăng ký. Thiếu giấy chứng nhận PCCC.",violationCount:2,status:"failed"},{id:"INS011",storeId:4,type:"Kiểm tra phòng cháy chữa cháy",date:"2024-09-08",displayDate:"8 tháng 9, 2024",unit:"Cảnh sát PCCC - Chi cục QLTT Quận 4",inspector:"Nguyễn Văn D",notes:"Không đầy đủ thiết bị PCCC, lối thoát hiểm bị chặn. Yêu cầu khắc phục trong 7 ngày.",violationCount:2,status:"conditional"},{id:"INS012",storeId:4,type:"Kiểm tra vệ sinh ATTP",date:"2024-08-05",displayDate:"5 tháng 8, 2024",unit:"Đội QLTT Quận 4",inspector:"Lê Văn F",notes:"Phát hiện nguyên liệu không rõ nguồn gốc, bảo quản thực phẩm lẫn với hóa chất. Vi phạm nghiêm trọng.",violationCount:2,status:"failed"},{id:"INS013",storeId:4,type:"Kiểm tra định kỳ",date:"2024-05-12",displayDate:"12 tháng 5, 2024",unit:"Chi cục QLTT Quận 4",inspector:"Hoàng Thị E",notes:"Một số vi phạm nhỏ về niêm yết giá và giấy tờ. Yêu cầu khắc phục.",violationCount:1,status:"conditional"}];function pi(t){return oa.filter(o=>o.storeId===t).sort((o,s)=>new Date(s.date).getTime()-new Date(o.date).getTime())}function Vi(t){switch(t){case"passed":return{label:"Đạt",color:"var(--success-text)",bgColor:"var(--success-bg)",iconColor:"var(--success)"};case"conditional":return{label:"Đạt có điều kiện",color:"var(--warning-text)",bgColor:"var(--warning-bg)",iconColor:"var(--warning)"};case"failed":return{label:"Không đạt",color:"var(--destructive)",bgColor:"rgba(254, 226, 226, 1)",iconColor:"var(--destructive)"};default:return{label:"Không xác định",color:"var(--text-secondary)",bgColor:"var(--muted)",iconColor:"var(--text-tertiary)"}}}const ca="_emptyState_107a3_3",ma="_emptyIcon_107a3_21",ua="_emptyTitle_107a3_45",da="_emptyText_107a3_59",Na="_timeline_107a3_73",ha="_timelineList_107a3_81",pa="_timelineItem_107a3_95",Va="_timelineItemFirst_107a3_117",va="_inspectionCard_107a3_117",ba="_timelineConnector_107a3_129",Ta="_timelineIconWrapper_107a3_145",fa="_timelineLine_107a3_183",ga="_timelineContent_107a3_201",xa="_inspectionHeader_107a3_239",Da="_inspectionMain_107a3_255",Ha="_inspectionType_107a3_265",Ea="_inspectionDate_107a3_281",ka="_statusBadge_107a3_295",La="_inspectionDetails_107a3_319",_a="_detailRow_107a3_333",ya="_detailIcon_107a3_347",Qa="_detailLabel_107a3_357",ja="_detailValue_107a3_369",Ca="_violationRow_107a3_381",Sa="_violationBadge_107a3_389",Ia="_notesSection_107a3_425",Pa="_notesLabel_107a3_435",wa="_notesText_107a3_449",Aa="_skeleton_107a3_463",Ba="_skeletonCircle_107a3_483",Ua="_skeletonHeader_107a3_505",Ra="_skeletonTitle_107a3_519",$a="_skeletonBadge_107a3_535",Ma="_skeletonLine_107a3_551",Ga="_skeletonLineShort_107a3_567",g={emptyState:ca,emptyIcon:ma,emptyTitle:ua,emptyText:da,timeline:Na,timelineList:ha,timelineItem:pa,timelineItemFirst:Va,inspectionCard:va,timelineConnector:ba,timelineIconWrapper:Ta,timelineLine:fa,timelineContent:ga,inspectionHeader:xa,inspectionMain:Da,inspectionType:Ha,inspectionDate:Ea,statusBadge:ka,inspectionDetails:La,detailRow:_a,detailIcon:ya,detailLabel:Qa,detailValue:ja,violationRow:Ca,violationBadge:Sa,notesSection:Ia,notesLabel:Pa,notesText:wa,skeleton:Aa,skeletonCircle:Ba,skeletonHeader:Ua,skeletonTitle:Ra,skeletonBadge:$a,skeletonLine:Ma,skeletonLineShort:Ga};function za({inspections:t,loading:o=!1}){if(o)return e.jsxDEV("div",{className:g.timeline,children:e.jsxDEV("div",{className:g.timelineList,children:[1,2,3].map(c=>e.jsxDEV("div",{className:g.timelineItem,children:[e.jsxDEV("div",{className:g.timelineConnector,children:[e.jsxDEV("div",{className:`${g.timelineIconWrapper} ${g.skeleton}`,children:e.jsxDEV("div",{className:g.skeletonCircle},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:21,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:20,columnNumber:17},this),c<3&&e.jsxDEV("div",{className:g.timelineLine},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:23,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:19,columnNumber:15},this),e.jsxDEV("div",{className:g.timelineContent,children:e.jsxDEV("div",{className:`${g.inspectionCard} ${g.skeleton}`,children:[e.jsxDEV("div",{className:g.skeletonHeader,children:[e.jsxDEV("div",{className:g.skeletonTitle},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:28,columnNumber:21},this),e.jsxDEV("div",{className:g.skeletonBadge},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:29,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:27,columnNumber:19},this),e.jsxDEV("div",{className:g.skeletonLine},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:31,columnNumber:19},this),e.jsxDEV("div",{className:g.skeletonLine},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:32,columnNumber:19},this),e.jsxDEV("div",{className:g.skeletonLineShort},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:33,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:26,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:25,columnNumber:15},this)]},c,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:18,columnNumber:13},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:16,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:15,columnNumber:7},this);if(t.length===0)return e.jsxDEV("div",{className:g.emptyState,children:[e.jsxDEV("div",{className:g.emptyIcon,children:e.jsxDEV(re,{size:48},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:48,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:47,columnNumber:9},this),e.jsxDEV("div",{className:g.emptyTitle,children:"Chưa có lịch sử kiểm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:50,columnNumber:9},this),e.jsxDEV("div",{className:g.emptyText,children:"Lịch sử kiểm tra của cơ sở sẽ được hiển thị tại đây khi có dữ liệu."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:51,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:46,columnNumber:7},this);const s=c=>{const a=Vi(c);switch(c){case"passed":return e.jsxDEV(Qe,{size:20,style:{color:a.iconColor}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:63,columnNumber:16},this);case"conditional":return e.jsxDEV(_e,{size:20,style:{color:a.iconColor}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:65,columnNumber:16},this);case"failed":return e.jsxDEV(yi,{size:20,style:{color:a.iconColor}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:67,columnNumber:16},this);default:return e.jsxDEV(Qe,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:69,columnNumber:16},this)}};return e.jsxDEV("div",{className:g.timeline,children:e.jsxDEV("div",{className:g.timelineList,children:t.map((c,a)=>{const d=Vi(c.status),E=a===t.length-1,r=a===0;return e.jsxDEV("div",{className:`${g.timelineItem} ${r?g.timelineItemFirst:""}`,children:[e.jsxDEV("div",{className:g.timelineConnector,children:[e.jsxDEV("div",{className:g.timelineIconWrapper,style:{borderColor:d.iconColor},children:s(c.status)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:88,columnNumber:17},this),!E&&e.jsxDEV("div",{className:g.timelineLine},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:94,columnNumber:29},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:87,columnNumber:15},this),e.jsxDEV("div",{className:g.timelineContent,children:e.jsxDEV("div",{className:g.inspectionCard,children:[e.jsxDEV("div",{className:g.inspectionHeader,children:[e.jsxDEV("div",{className:g.inspectionMain,children:[e.jsxDEV("h4",{className:g.inspectionType,children:c.type},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:103,columnNumber:23},this),e.jsxDEV("div",{className:g.inspectionDate,children:c.displayDate},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:104,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:102,columnNumber:21},this),e.jsxDEV("div",{className:g.statusBadge,style:{backgroundColor:d.bgColor,color:d.color},children:d.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:106,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:101,columnNumber:19},this),e.jsxDEV("div",{className:g.inspectionDetails,children:[e.jsxDEV("div",{className:g.detailRow,children:[e.jsxDEV(he,{size:14,className:g.detailIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:120,columnNumber:23},this),e.jsxDEV("span",{className:g.detailLabel,children:"Đơn vị:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:121,columnNumber:23},this),e.jsxDEV("span",{className:g.detailValue,children:c.unit},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:122,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:119,columnNumber:21},this),e.jsxDEV("div",{className:g.detailRow,children:[e.jsxDEV(Ge,{size:14,className:g.detailIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:126,columnNumber:23},this),e.jsxDEV("span",{className:g.detailLabel,children:"Thanh tra viên:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:127,columnNumber:23},this),e.jsxDEV("span",{className:g.detailValue,children:c.inspector},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:128,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:125,columnNumber:21},this),c.violationCount!==void 0&&c.violationCount>0&&e.jsxDEV("div",{className:g.violationRow,children:e.jsxDEV("div",{className:g.violationBadge,children:["Số vi phạm: ",e.jsxDEV("strong",{children:c.violationCount},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:135,columnNumber:39},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:134,columnNumber:25},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:133,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:118,columnNumber:19},this),e.jsxDEV("div",{className:g.notesSection,children:[e.jsxDEV("div",{className:g.notesLabel,children:"Ghi chú kết luận:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:143,columnNumber:21},this),e.jsxDEV("div",{className:g.notesText,children:c.notes},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:144,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:142,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:99,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:98,columnNumber:15},this)]},c.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:82,columnNumber:13},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:75,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/InspectionTimeline.tsx",lineNumber:74,columnNumber:5},this)}const Fa="_emptyState_16g4w_3",qa="_emptyIcon_16g4w_21",Ka="_emptyTitle_16g4w_45",Oa="_emptyText_16g4w_59",Wa="_tableWrapper_16g4w_73",Ya="_table_16g4w_73",Xa="_tableHeader_16g4w_111",Ja="_th_16g4w_127",Za="_tr_16g4w_169",en="_td_16g4w_195",sn="_caseNumberLink_16g4w_231",tn="_linkIcon_16g4w_271",ln="_violationType_16g4w_291",an="_violationTitle_16g4w_305",nn="_violationDescription_16g4w_319",rn="_dateText_16g4w_335",on="_unitText_16g4w_337",cn="_badge_16g4w_349",mn="_fineInfo_16g4w_371",un="_fineAmount_16g4w_383",dn="_fineDecision_16g4w_395",Nn="_noFine_16g4w_405",hn="_skeletonRow_16g4w_419",pn="_skeletonText_16g4w_427",Vn="_skeletonBadge_16g4w_441",h={emptyState:Fa,emptyIcon:qa,emptyTitle:Ka,emptyText:Oa,tableWrapper:Wa,table:Ya,tableHeader:Xa,th:Ja,tr:Za,td:en,caseNumberLink:sn,linkIcon:tn,violationType:ln,violationTitle:an,violationDescription:nn,dateText:rn,unitText:on,badge:cn,fineInfo:mn,fineAmount:un,fineDecision:dn,noFine:Nn,skeletonRow:hn,skeletonText:pn,skeletonBadge:Vn};function vn({violations:t,loading:o=!1,onCaseClick:s}){if(o)return e.jsxDEV("div",{className:h.tableWrapper,children:e.jsxDEV("table",{className:h.table,children:[e.jsxDEV("thead",{className:h.tableHeader,children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:h.th,children:"Số vụ việc"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:25,columnNumber:15},this),e.jsxDEV("th",{className:h.th,children:"Loại vi phạm"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:26,columnNumber:15},this),e.jsxDEV("th",{className:h.th,children:"Ngày phát hiện"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:27,columnNumber:15},this),e.jsxDEV("th",{className:h.th,children:"Đơn vị phát hiện"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:28,columnNumber:15},this),e.jsxDEV("th",{className:h.th,children:"Mức độ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:29,columnNumber:15},this),e.jsxDEV("th",{className:h.th,children:"Trạng thái xử lý"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:30,columnNumber:15},this),e.jsxDEV("th",{className:h.th,children:"Xử phạt"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:31,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:24,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:23,columnNumber:11},this),e.jsxDEV("tbody",{children:[1,2,3].map(a=>e.jsxDEV("tr",{className:h.skeletonRow,children:[e.jsxDEV("td",{className:h.td,children:e.jsxDEV("div",{className:h.skeletonText,style:{width:"100px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:38,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:37,columnNumber:17},this),e.jsxDEV("td",{className:h.td,children:[e.jsxDEV("div",{className:h.skeletonText,style:{width:"180px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:41,columnNumber:19},this),e.jsxDEV("div",{className:h.skeletonText,style:{width:"220px",marginTop:"4px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:42,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:40,columnNumber:17},this),e.jsxDEV("td",{className:h.td,children:e.jsxDEV("div",{className:h.skeletonText,style:{width:"80px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:45,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:44,columnNumber:17},this),e.jsxDEV("td",{className:h.td,children:e.jsxDEV("div",{className:h.skeletonText,style:{width:"120px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:48,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:47,columnNumber:17},this),e.jsxDEV("td",{className:h.td,children:e.jsxDEV("div",{className:h.skeletonBadge},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:51,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:50,columnNumber:17},this),e.jsxDEV("td",{className:h.td,children:e.jsxDEV("div",{className:h.skeletonBadge},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:54,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:53,columnNumber:17},this),e.jsxDEV("td",{className:h.td,children:[e.jsxDEV("div",{className:h.skeletonText,style:{width:"100px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:57,columnNumber:19},this),e.jsxDEV("div",{className:h.skeletonText,style:{width:"90px",marginTop:"4px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:58,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:56,columnNumber:17},this)]},a,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:36,columnNumber:15},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:34,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:22,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:21,columnNumber:7},this);if(t.length===0)return e.jsxDEV("div",{className:h.emptyState,children:[e.jsxDEV("div",{className:h.emptyIcon,children:e.jsxDEV(si,{size:48},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:73,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:72,columnNumber:9},this),e.jsxDEV("div",{className:h.emptyTitle,children:"Chưa có vụ việc vi phạm"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:75,columnNumber:9},this),e.jsxDEV("div",{className:h.emptyText,children:"Cơ sở chưa có hồ sơ vi phạm nào được ghi nhận."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:76,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:71,columnNumber:7},this);const c=a=>{s&&s(a)};return e.jsxDEV("div",{className:h.tableWrapper,children:e.jsxDEV("table",{className:h.table,children:[e.jsxDEV("thead",{className:h.tableHeader,children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:h.th,children:"Số vụ việc"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:96,columnNumber:13},this),e.jsxDEV("th",{className:h.th,children:"Loại vi phạm"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:97,columnNumber:13},this),e.jsxDEV("th",{className:h.th,children:"Ngày phát hiện"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:98,columnNumber:13},this),e.jsxDEV("th",{className:h.th,children:"Đơn vị phát hiện"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:99,columnNumber:13},this),e.jsxDEV("th",{className:h.th,children:"Mức độ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:100,columnNumber:13},this),e.jsxDEV("th",{className:h.th,children:"Trạng thái xử lý"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:101,columnNumber:13},this),e.jsxDEV("th",{className:h.th,children:"Xử phạt"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:102,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:95,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:94,columnNumber:9},this),e.jsxDEV("tbody",{children:t.map(a=>{const d=Ns(a.severity),E=hs(a.status);return e.jsxDEV("tr",{className:h.tr,children:[e.jsxDEV("td",{className:h.td,children:e.jsxDEV("button",{className:h.caseNumberLink,onClick:()=>c(a.caseNumber),"aria-label":`Xem chi tiết vụ việc ${a.caseNumber}`,children:[a.caseNumber,e.jsxDEV(Ye,{size:12,className:h.linkIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:120,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:114,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:113,columnNumber:17},this),e.jsxDEV("td",{className:h.td,children:e.jsxDEV("div",{className:h.violationType,children:[e.jsxDEV("div",{className:h.violationTitle,children:a.title},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:127,columnNumber:21},this),e.jsxDEV("div",{className:h.violationDescription,children:a.description},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:128,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:126,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:125,columnNumber:17},this),e.jsxDEV("td",{className:h.td,children:e.jsxDEV("span",{className:h.dateText,children:a.displayDate},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:134,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:133,columnNumber:17},this),e.jsxDEV("td",{className:h.td,children:e.jsxDEV("span",{className:h.unitText,children:a.detectedBy},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:139,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:138,columnNumber:17},this),e.jsxDEV("td",{className:h.td,children:e.jsxDEV("span",{className:h.badge,style:{backgroundColor:d.bgColor,color:d.color},children:d.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:144,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:143,columnNumber:17},this),e.jsxDEV("td",{className:h.td,children:e.jsxDEV("span",{className:h.badge,style:{backgroundColor:E.bgColor,color:E.color},children:E.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:157,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:156,columnNumber:17},this),e.jsxDEV("td",{className:h.td,children:a.fineAmount?e.jsxDEV("div",{className:h.fineInfo,children:[e.jsxDEV("div",{className:h.fineAmount,children:ps(a.fineAmount)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:172,columnNumber:23},this),a.decisionNumber&&e.jsxDEV("div",{className:h.fineDecision,children:a.decisionNumber},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:176,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:171,columnNumber:21},this):e.jsxDEV("span",{className:h.noFine,children:"Chưa xử phạt"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:180,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:169,columnNumber:17},this)]},a.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:111,columnNumber:15},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:105,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:93,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ViolationsTable.tsx",lineNumber:92,columnNumber:5},this)}const bn="_emptyState_18vjk_3",Tn="_emptyIcon_18vjk_23",fn="_emptyTitle_18vjk_47",gn="_emptyText_18vjk_63",xn="_tableContainer_18vjk_79",Dn="_table_18vjk_79",Hn="_tableHeader_18vjk_113",En="_th_18vjk_129",kn="_thAction_18vjk_157",Ln="_tableBody_18vjk_185",_n="_tr_18vjk_193",yn="_td_18vjk_219",Qn="_tdAction_18vjk_241",jn="_complaintNumber_18vjk_257",Cn="_complaintType_18vjk_307",Sn="_complaintTitle_18vjk_321",In="_complaintDesc_18vjk_337",Pn="_dateText_18vjk_363",wn="_sourceText_18vjk_365",An="_unitText_18vjk_367",Bn="_badge_18vjk_383",Un="_actionButton_18vjk_409",Rn="_skeletonText_18vjk_473",$n="_skeletonTitle_18vjk_475",Mn="_skeletonDesc_18vjk_477",Gn="_skeletonBadge_18vjk_479",zn="_skeletonIcon_18vjk_481",N={emptyState:bn,emptyIcon:Tn,emptyTitle:fn,emptyText:gn,tableContainer:xn,table:Dn,tableHeader:Hn,th:En,thAction:kn,tableBody:Ln,tr:_n,td:yn,tdAction:Qn,complaintNumber:jn,complaintType:Cn,complaintTitle:Sn,complaintDesc:In,dateText:Pn,sourceText:wn,unitText:An,badge:Bn,actionButton:Un,skeletonText:Rn,skeletonTitle:$n,skeletonDesc:Mn,skeletonBadge:Gn,skeletonIcon:zn};function Fn({complaints:t,loading:o=!1,onViewDetail:s}){if(o)return e.jsxDEV("div",{className:N.tableContainer,children:e.jsxDEV("table",{className:N.table,children:[e.jsxDEV("thead",{className:N.tableHeader,children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:N.th,children:"Số phản ánh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:29,columnNumber:15},this),e.jsxDEV("th",{className:N.th,children:"Loại phản ánh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:30,columnNumber:15},this),e.jsxDEV("th",{className:N.th,children:"Ngày nhận"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:31,columnNumber:15},this),e.jsxDEV("th",{className:N.th,children:"Nguồn"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:32,columnNumber:15},this),e.jsxDEV("th",{className:N.th,children:"Mức độ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:33,columnNumber:15},this),e.jsxDEV("th",{className:N.th,children:"Đơn vị xử lý"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:34,columnNumber:15},this),e.jsxDEV("th",{className:N.th,children:"Trạng thái"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:35,columnNumber:15},this),e.jsxDEV("th",{className:N.thAction,children:"Thao tác"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:36,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:28,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:27,columnNumber:11},this),e.jsxDEV("tbody",{className:N.tableBody,children:[1,2,3].map(a=>e.jsxDEV("tr",{className:N.tr,children:[e.jsxDEV("td",{className:N.td,children:e.jsxDEV("div",{className:N.skeletonText,style:{width:"100px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:43,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:42,columnNumber:17},this),e.jsxDEV("td",{className:N.td,children:[e.jsxDEV("div",{className:N.skeletonTitle},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:46,columnNumber:19},this),e.jsxDEV("div",{className:N.skeletonDesc},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:47,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:45,columnNumber:17},this),e.jsxDEV("td",{className:N.td,children:e.jsxDEV("div",{className:N.skeletonText,style:{width:"80px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:50,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:49,columnNumber:17},this),e.jsxDEV("td",{className:N.td,children:e.jsxDEV("div",{className:N.skeletonText,style:{width:"70px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:53,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:52,columnNumber:17},this),e.jsxDEV("td",{className:N.td,children:e.jsxDEV("div",{className:N.skeletonBadge},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:56,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:55,columnNumber:17},this),e.jsxDEV("td",{className:N.td,children:e.jsxDEV("div",{className:N.skeletonText,style:{width:"120px"}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:59,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:58,columnNumber:17},this),e.jsxDEV("td",{className:N.td,children:e.jsxDEV("div",{className:N.skeletonBadge},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:62,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:61,columnNumber:17},this),e.jsxDEV("td",{className:N.tdAction,children:e.jsxDEV("div",{className:N.skeletonIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:65,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:64,columnNumber:17},this)]},a,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:41,columnNumber:15},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:39,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:26,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:25,columnNumber:7},this);if(t.length===0)return e.jsxDEV("div",{className:N.emptyState,children:[e.jsxDEV("div",{className:N.emptyIcon,children:e.jsxDEV("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsxDEV("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:90,columnNumber:13},this),e.jsxDEV("line",{x1:"9",y1:"10",x2:"15",y2:"10"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:91,columnNumber:13},this),e.jsxDEV("line",{x1:"12",y1:"7",x2:"12",y2:"13"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:92,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:80,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:79,columnNumber:9},this),e.jsxDEV("div",{className:N.emptyTitle,children:"Chưa có phản ánh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:95,columnNumber:9},this),e.jsxDEV("div",{className:N.emptyText,children:"Phản ánh và kiến nghị từ khách hàng sẽ được hiển thị tại đây."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:96,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:78,columnNumber:7},this);const c=a=>{s&&s(a)};return e.jsxDEV("div",{className:N.tableContainer,children:e.jsxDEV("table",{className:N.table,children:[e.jsxDEV("thead",{className:N.tableHeader,children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:N.th,children:"Số phản ánh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:116,columnNumber:13},this),e.jsxDEV("th",{className:N.th,children:"Loại phản ánh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:117,columnNumber:13},this),e.jsxDEV("th",{className:N.th,children:"Ngày nhận"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:118,columnNumber:13},this),e.jsxDEV("th",{className:N.th,children:"Nguồn"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:119,columnNumber:13},this),e.jsxDEV("th",{className:N.th,children:"Mức độ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:120,columnNumber:13},this),e.jsxDEV("th",{className:N.th,children:"Đơn vị xử lý"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:121,columnNumber:13},this),e.jsxDEV("th",{className:N.th,children:"Trạng thái"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:122,columnNumber:13},this),e.jsxDEV("th",{className:N.thAction,children:"Thao tác"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:123,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:115,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:114,columnNumber:9},this),e.jsxDEV("tbody",{className:N.tableBody,children:t.map(a=>{const d=Vs(a.severity),E=vs(a.status);return e.jsxDEV("tr",{className:N.tr,children:[e.jsxDEV("td",{className:N.td,children:e.jsxDEV("button",{className:N.complaintNumber,onClick:()=>c(a.id),"aria-label":`Xem chi tiết phản ánh ${a.complaintNumber}`,children:a.complaintNumber},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:135,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:134,columnNumber:17},this),e.jsxDEV("td",{className:N.td,children:e.jsxDEV("div",{className:N.complaintType,children:[e.jsxDEV("div",{className:N.complaintTitle,children:a.title},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:147,columnNumber:21},this),e.jsxDEV("div",{className:N.complaintDesc,children:a.description},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:148,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:146,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:145,columnNumber:17},this),e.jsxDEV("td",{className:N.td,children:e.jsxDEV("span",{className:N.dateText,children:a.displayDate},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:154,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:153,columnNumber:17},this),e.jsxDEV("td",{className:N.td,children:e.jsxDEV("span",{className:N.sourceText,children:bs(a.source)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:159,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:158,columnNumber:17},this),e.jsxDEV("td",{className:N.td,children:e.jsxDEV("span",{className:N.badge,style:{backgroundColor:d.bgColor,color:d.color},children:d.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:166,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:165,columnNumber:17},this),e.jsxDEV("td",{className:N.td,children:e.jsxDEV("span",{className:N.unitText,children:a.assignedUnit},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:179,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:178,columnNumber:17},this),e.jsxDEV("td",{className:N.td,children:e.jsxDEV("span",{className:N.badge,style:{backgroundColor:E.bgColor,color:E.color},children:E.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:184,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:183,columnNumber:17},this),e.jsxDEV("td",{className:N.tdAction,children:e.jsxDEV("button",{className:N.actionButton,onClick:()=>c(a.id),"aria-label":`Xem chi tiết phản ánh ${a.complaintNumber}`,children:e.jsxDEV(Qi,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:202,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:197,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:196,columnNumber:17},this)]},a.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:132,columnNumber:15},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:126,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:113,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ComplaintsTable.tsx",lineNumber:112,columnNumber:5},this)}const qn=[{storeId:1,riskLevel:"medium",riskScore:58,assessmentDate:"2024-11-20",displayAssessmentDate:"20/11/2024",assessedBy:"Trần Văn B - Đội QLTT Quận 1",factors:[{id:"F1",name:"Lịch sử vi phạm",description:"Phát hiện 2 vi phạm nhỏ trong 12 tháng qua, đã khắc phục",weight:30,score:65},{id:"F2",name:"Tuân thủ giấy phép",description:"Giấy phép đầy đủ, hợp lệ đến tháng 6/2025",weight:25,score:85},{id:"F3",name:"Kết quả kiểm tra",description:"Lần kiểm tra gần nhất đạt yêu cầu, không vi phạm",weight:25,score:80},{id:"F4",name:"Phản ánh khách hàng",description:"2 phản ánh trong 6 tháng, mức độ thấp, đã xử lý",weight:20,score:70}],recommendations:["Duy trì tần suất kiểm tra định kỳ 6 tháng/lần","Theo dõi việc khắc phục các vi phạm đã ghi nhận","Kiểm tra giấy phép trước khi hết hạn để đảm bảo gia hạn kịp thời"],internalNotes:'Cơ sở có dấu hiệu cải thiện sau lần vi phạm gần đây. Chủ cơ sở hợp tác tốt với cơ quan quản lý. Đề xuất giảm mức độ giám sát xuống "Thường xuyên" sau 6 tháng nếu không có vi phạm mới.',monitoringHistory:[{id:"M1",flaggedDate:"2024-08-22",displayFlaggedDate:"22/08/2024",flaggedBy:"Lê Thị C - Đội QLTT Quận 1",reason:"Phát hiện vi phạm vệ sinh ATTP, cần theo dõi việc khắc phục",status:"removed",removedDate:"2024-10-15",displayRemovedDate:"15/10/2024",removedBy:"Trần Văn B - Đội QLTT Quận 1"}]},{storeId:2,riskLevel:"high",riskScore:35,assessmentDate:"2024-11-18",displayAssessmentDate:"18/11/2024",assessedBy:"Hoàng Thị E - Đội QLTT Quận 2",factors:[{id:"F1",name:"Lịch sử vi phạm",description:"5 vi phạm trong 12 tháng qua, có vi phạm nghiêm trọng",weight:30,score:25},{id:"F2",name:"Tuân thủ giấy phép",description:"Thiếu giấy chứng nhận ATTP, đang trong thời gian chỉnh sửa",weight:25,score:30},{id:"F3",name:"Kết quả kiểm tra",description:"Lần kiểm tra gần nhất không đạt, yêu cầu tạm dừng hoạt động",weight:25,score:20},{id:"F4",name:"Phản ánh khách hàng",description:"7 phản ánh trong 6 tháng, có phản ánh mức độ cao",weight:20,score:40}],recommendations:["Tăng tần suất kiểm tra lên 1 lần/tháng cho đến khi cải thiện","Yêu cầu cơ sở khắc phục toàn bộ vi phạm trong vòng 7 ngày","Xem xét đình chỉ hoạt động nếu không khắc phục vi phạm nghiêm trọng","Gắn cờ theo dõi đặc biệt"],internalNotes:"Cơ sở có dấu hiệu hoạt động không tuân thủ pháp luật. Chủ cơ sở thiếu hợp tác, nhiều lần chậm trễ khắc phục vi phạm. Đề xuất cử thanh tra viên chuyên trách theo dõi hàng tuần. Cân nhắc xử phạt nặng hoặc đề xuất thu hồi giấy phép nếu tình trạng không cải thiện sau 30 ngày.",monitoringHistory:[{id:"M2",flaggedDate:"2024-10-26",displayFlaggedDate:"26/10/2024",flaggedBy:"Hoàng Thị E - Đội QLTT Quận 2",reason:"Vi phạm nghiêm trọng về vệ sinh ATTP, cần giám sát chặt chẽ",status:"active"},{id:"M3",flaggedDate:"2024-07-20",displayFlaggedDate:"20/07/2024",flaggedBy:"Trần Văn B - Đội QLTT Quận 2",reason:"Nhiều phản ánh từ khách hàng về chất lượng thực phẩm",status:"removed",removedDate:"2024-09-10",displayRemovedDate:"10/09/2024",removedBy:"Hoàng Thị E - Đội QLTT Quận 2"}]},{storeId:3,riskLevel:"low",riskScore:85,assessmentDate:"2024-11-15",displayAssessmentDate:"15/11/2024",assessedBy:"Nguyễn Văn A - Đội QLTT Quận 3",factors:[{id:"F1",name:"Lịch sử vi phạm",description:"Không có vi phạm trong 24 tháng qua",weight:30,score:95},{id:"F2",name:"Tuân thủ giấy phép",description:"Giấy phép đầy đủ, hợp lệ đến tháng 12/2025",weight:25,score:90},{id:"F3",name:"Kết quả kiểm tra",description:"Tất cả các lần kiểm tra đều đạt yêu cầu",weight:25,score:85},{id:"F4",name:"Phản ánh khách hàng",description:"1 phản ánh nhỏ trong 12 tháng, đã xử lý tốt",weight:20,score:75}],recommendations:["Duy trì tần suất kiểm tra định kỳ 12 tháng/lần","Tiếp tục duy trì chất lượng hoạt động hiện tại"],internalNotes:'Cơ sở hoạt động tốt, tuân thủ đầy đủ quy định. Chủ cơ sở có ý thức cao về an toàn thực phẩm. Đề nghị giảm mức độ giám sát xuống "Định kỳ hàng năm".',monitoringHistory:[]},{storeId:4,riskLevel:"high",riskScore:28,assessmentDate:"2024-11-12",displayAssessmentDate:"12/11/2024",assessedBy:"Hoàng Thị E - Chi cục QLTT Quận 4",factors:[{id:"F1",name:"Lịch sử vi phạm",description:"4 vi phạm nghiêm trọng trong 6 tháng qua, chưa khắc phục hoàn toàn",weight:30,score:15},{id:"F2",name:"Tuân thủ giấy phép",description:"Thiếu nhiều giấy phép bắt buộc, kinh doanh không đúng ngành nghề",weight:25,score:20},{id:"F3",name:"Kết quả kiểm tra",description:"3/5 lần kiểm tra không đạt, có vi phạm nghiêm trọng về ATTP",weight:25,score:25},{id:"F4",name:"Phản ánh khách hàng",description:"5 phản ánh mức độ cao trong 3 tháng, có ca ngộ độc thực phẩm",weight:20,score:35}],recommendations:["Tăng tần suất kiểm tra lên 1 lần/tuần cho đến khi cải thiện","Yêu cầu tạm dừng hoạt động ngay lập tức để khắc phục vi phạm nghiêm trọng","Xử phạt nặng và xem xét thu hồi giấy phép nếu không cải thiện trong 15 ngày","Gắn cờ theo dõi đặc biệt, phân công thanh tra viên chuyên trách","Báo cáo hàng tuần về tình trạng khắc phục lên Chi cục QLTT"],internalNotes:"Cơ sở có dấu hiệu hoạt động thiếu an toàn nghiêm trọng. Đã xảy ra ca ngộ độc thực phẩm khiến 2 người nhập viện. Chủ cơ sở không hợp tác, nhiều lần trốn tránh thanh tra. Đề xuất cử tổ công tác liên ngành kiểm tra đột xuất hàng tuần. Cân nhắc khởi tố hình sự nếu tiếp tục vi phạm gây nguy hiểm cho sức khỏe cộng đồng. Phối hợp với Công an phường để giám sát chặt chẽ.",monitoringHistory:[{id:"M4",flaggedDate:"2024-11-12",displayFlaggedDate:"12/11/2024",flaggedBy:"Hoàng Thị E - Chi cục QLTT Quận 4",reason:"Ngộ độc thực phẩm nghiêm trọng, yêu cầu theo dõi đặc biệt và kiểm tra liên tục",status:"active"},{id:"M5",flaggedDate:"2024-10-15",displayFlaggedDate:"15/10/2024",flaggedBy:"Trần Văn B - Đội QLTT Quận 4",reason:"Kinh doanh không đúng ngành nghề, thiếu giấy phép PCCC",status:"active"},{id:"M6",flaggedDate:"2024-08-05",displayFlaggedDate:"05/08/2024",flaggedBy:"Lê Văn F - Đội QLTT Quận 4",reason:"Vi phạm nghiêm trọng về bảo quản thực phẩm",status:"removed",removedDate:"2024-09-20",displayRemovedDate:"20/09/2024",removedBy:"Hoàng Thị E - Chi cục QLTT Quận 4"}]}];function vi(t){return qn.find(o=>o.storeId===t)}function Kn(t){switch(t){case"low":return{label:"Thấp",color:"var(--success-text)",bgColor:"var(--success-bg)"};case"medium":return{label:"Trung bình",color:"var(--warning-text)",bgColor:"var(--warning-bg)"};case"high":return{label:"Cao",color:"var(--destructive)",bgColor:"rgba(254, 226, 226, 1)"};default:return{label:"Không xác định",color:"var(--text-secondary)",bgColor:"var(--muted)"}}}function On(t){switch(t){case"active":return{label:"Đang theo dõi",color:"var(--warning-text)",bgColor:"var(--warning-bg)"};case"removed":return{label:"Đã bỏ cờ",color:"var(--text-secondary)",bgColor:"var(--muted)"};default:return{label:"Không xác định",color:"var(--text-secondary)",bgColor:"var(--muted)"}}}const Wn="_container_19sfl_3",Yn="_card_19sfl_19",Xn="_cardTitle_19sfl_43",Jn="_overviewGrid_19sfl_61",Zn="_overviewItem_19sfl_73",er="_overviewLabel_19sfl_85",ir="_overviewValue_19sfl_99",sr="_overviewIcon_19sfl_119",tr="_riskBadge_19sfl_129",lr="_scoreText_19sfl_149",ar="_factorsGrid_19sfl_165",nr="_factorCard_19sfl_179",rr="_factorHeader_19sfl_207",or="_factorName_19sfl_223",cr="_factorScore_19sfl_239",mr="_factorDescription_19sfl_255",ur="_factorFooter_19sfl_271",dr="_factorWeight_19sfl_295",Nr="_factorContribution_19sfl_297",hr="_recommendationsBox_19sfl_307",pr="_recommendationsIcon_19sfl_329",Vr="_recommendationsList_19sfl_347",vr="_recommendationItem_19sfl_361",br="_recommendationIcon_19sfl_381",Tr="_internalNotesBox_19sfl_395",fr="_internalNotesIcon_19sfl_417",gr="_internalNotesText_19sfl_435",xr="_tableContainer_19sfl_453",Dr="_table_19sfl_453",Hr="_tableHeader_19sfl_483",Er="_th_19sfl_493",kr="_tableBody_19sfl_521",Lr="_tr_19sfl_529",_r="_td_19sfl_555",yr="_statusBadge_19sfl_577",Qr="_emptyMonitoring_19sfl_601",jr="_emptyMonitoringIcon_19sfl_621",Cr="_emptyMonitoringText_19sfl_631",Sr="_emptyState_19sfl_647",Ir="_emptyIcon_19sfl_667",Pr="_emptyTitle_19sfl_691",wr="_emptyText_19sfl_707",Ar="_skeletonLabel_19sfl_723",Br="_skeletonValue_19sfl_725",Ur="_skeletonTitle_19sfl_727",Rr="_skeletonFactorCard_19sfl_729",m={container:Wn,card:Yn,cardTitle:Xn,overviewGrid:Jn,overviewItem:Zn,overviewLabel:er,overviewValue:ir,overviewIcon:sr,riskBadge:tr,scoreText:lr,factorsGrid:ar,factorCard:nr,factorHeader:rr,factorName:or,factorScore:cr,factorDescription:mr,factorFooter:ur,factorWeight:dr,factorContribution:Nr,recommendationsBox:hr,recommendationsIcon:pr,recommendationsList:Vr,recommendationItem:vr,recommendationIcon:br,internalNotesBox:Tr,internalNotesIcon:fr,internalNotesText:gr,tableContainer:xr,table:Dr,tableHeader:Hr,th:Er,tableBody:kr,tr:Lr,td:_r,statusBadge:yr,emptyMonitoring:Qr,emptyMonitoringIcon:jr,emptyMonitoringText:Cr,emptyState:Sr,emptyIcon:Ir,emptyTitle:Pr,emptyText:wr,skeletonLabel:Ar,skeletonValue:Br,skeletonTitle:Ur,skeletonFactorCard:Rr};function $r({assessment:t,loading:o=!1,hasPermission:s=!0}){if(o)return e.jsxDEV("div",{className:m.container,children:[e.jsxDEV("div",{className:m.card,children:e.jsxDEV("div",{className:m.overviewGrid,children:[1,2,3,4].map(a=>e.jsxDEV("div",{className:m.overviewItem,children:[e.jsxDEV("div",{className:m.skeletonLabel},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:30,columnNumber:17},this),e.jsxDEV("div",{className:m.skeletonValue},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:31,columnNumber:17},this)]},a,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:29,columnNumber:15},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:27,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:26,columnNumber:9},this),e.jsxDEV("div",{className:m.card,children:[e.jsxDEV("div",{className:m.skeletonTitle},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:39,columnNumber:11},this),[1,2].map(a=>e.jsxDEV("div",{className:m.skeletonFactorCard},a,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:41,columnNumber:13},this))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:38,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:24,columnNumber:7},this);if(!t)return e.jsxDEV("div",{className:m.emptyState,children:[e.jsxDEV("div",{className:m.emptyIcon,children:e.jsxDEV(si,{size:48},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:53,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:52,columnNumber:9},this),e.jsxDEV("div",{className:m.emptyTitle,children:"Chưa có dữ liệu đánh giá rủi ro"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:55,columnNumber:9},this),e.jsxDEV("div",{className:m.emptyText,children:"Thông tin đánh giá rủi ro của cơ sở sẽ được hiển thị tại đây khi có dữ liệu."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:56,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:51,columnNumber:7},this);const c=Kn(t.riskLevel);return e.jsxDEV("div",{className:m.container,children:[e.jsxDEV("div",{className:m.card,children:e.jsxDEV("div",{className:m.overviewGrid,children:[e.jsxDEV("div",{className:m.overviewItem,children:[e.jsxDEV("div",{className:m.overviewLabel,children:"Mức độ rủi ro"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:71,columnNumber:13},this),e.jsxDEV("div",{className:m.overviewValue,children:e.jsxDEV("span",{className:m.riskBadge,style:{backgroundColor:c.bgColor,color:c.color},children:c.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:73,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:72,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:70,columnNumber:11},this),e.jsxDEV("div",{className:m.overviewItem,children:[e.jsxDEV("div",{className:m.overviewLabel,children:"Điểm rủi ro"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:86,columnNumber:13},this),e.jsxDEV("div",{className:m.overviewValue,children:e.jsxDEV("span",{className:m.scoreText,children:[(t==null?void 0:t.riskScore)??50,"/100"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:88,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:87,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:85,columnNumber:11},this),e.jsxDEV("div",{className:m.overviewItem,children:[e.jsxDEV("div",{className:m.overviewLabel,children:"Ngày đánh giá"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:93,columnNumber:13},this),e.jsxDEV("div",{className:m.overviewValue,children:[e.jsxDEV(xe,{size:14,className:m.overviewIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:95,columnNumber:15},this),(t==null?void 0:t.displayAssessmentDate)??"Chưa có"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:94,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:92,columnNumber:11},this),e.jsxDEV("div",{className:m.overviewItem,children:[e.jsxDEV("div",{className:m.overviewLabel,children:"Người đánh giá"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:101,columnNumber:13},this),e.jsxDEV("div",{className:m.overviewValue,children:[e.jsxDEV(Ge,{size:14,className:m.overviewIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:103,columnNumber:15},this),(t==null?void 0:t.assessedBy)??"Chưa có"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:102,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:100,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:69,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:68,columnNumber:7},this),e.jsxDEV("div",{className:m.card,children:[e.jsxDEV("h3",{className:m.cardTitle,children:"Các yếu tố đánh giá"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:112,columnNumber:9},this),e.jsxDEV("div",{className:m.factorsGrid,children:t.factors.map(a=>e.jsxDEV("div",{className:m.factorCard,children:[e.jsxDEV("div",{className:m.factorHeader,children:[e.jsxDEV("div",{className:m.factorName,children:a.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:117,columnNumber:17},this),e.jsxDEV("div",{className:m.factorScore,children:[a.score,"/100"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:118,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:116,columnNumber:15},this),e.jsxDEV("div",{className:m.factorDescription,children:a.description},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:122,columnNumber:15},this),e.jsxDEV("div",{className:m.factorFooter,children:[e.jsxDEV("div",{className:m.factorWeight,children:["Trọng số: ",a.weight,"%"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:124,columnNumber:17},this),e.jsxDEV("div",{className:m.factorContribution,children:["Đóng góp: ",Math.round(a.score*a.weight/100)," điểm"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:125,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:123,columnNumber:15},this)]},a.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:115,columnNumber:13},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:113,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:111,columnNumber:7},this),e.jsxDEV("div",{className:m.card,children:[e.jsxDEV("h3",{className:m.cardTitle,children:"Khuyến nghị"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:136,columnNumber:9},this),e.jsxDEV("div",{className:m.recommendationsBox,children:[e.jsxDEV("div",{className:m.recommendationsIcon,children:e.jsxDEV(ls,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:139,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:138,columnNumber:11},this),e.jsxDEV("div",{className:m.recommendationsList,children:t.recommendations.map((a,d)=>e.jsxDEV("div",{className:m.recommendationItem,children:[e.jsxDEV(Qe,{size:16,className:m.recommendationIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:144,columnNumber:17},this),e.jsxDEV("span",{children:a},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:145,columnNumber:17},this)]},d,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:143,columnNumber:15},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:137,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:135,columnNumber:7},this),s&&t.internalNotes&&e.jsxDEV("div",{className:m.card,children:[e.jsxDEV("h3",{className:m.cardTitle,children:"Ghi chú nội bộ (Chi QLTT)"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:155,columnNumber:11},this),e.jsxDEV("div",{className:m.internalNotesBox,children:[e.jsxDEV("div",{className:m.internalNotesIcon,children:e.jsxDEV(mi,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:158,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:157,columnNumber:13},this),e.jsxDEV("div",{className:m.internalNotesText,children:t.internalNotes},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:160,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:156,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:154,columnNumber:9},this),e.jsxDEV("div",{className:m.card,children:[e.jsxDEV("h3",{className:m.cardTitle,children:"Lịch sử theo dõi"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:167,columnNumber:9},this),t.monitoringHistory.length===0?e.jsxDEV("div",{className:m.emptyMonitoring,children:[e.jsxDEV(mi,{size:32,className:m.emptyMonitoringIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:170,columnNumber:13},this),e.jsxDEV("p",{className:m.emptyMonitoringText,children:"Chưa có lịch sử theo dõi"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:171,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:169,columnNumber:11},this):e.jsxDEV("div",{className:m.tableContainer,children:e.jsxDEV("table",{className:m.table,children:[e.jsxDEV("thead",{className:m.tableHeader,children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:m.th,children:"Ngày gắn cờ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:178,columnNumber:19},this),e.jsxDEV("th",{className:m.th,children:"Người gắn"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:179,columnNumber:19},this),e.jsxDEV("th",{className:m.th,children:"Lý do theo dõi"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:180,columnNumber:19},this),e.jsxDEV("th",{className:m.th,children:"Trạng thái"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:181,columnNumber:19},this),e.jsxDEV("th",{className:m.th,children:"Ngày bỏ cờ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:182,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:177,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:176,columnNumber:15},this),e.jsxDEV("tbody",{className:m.tableBody,children:t.monitoringHistory.map(a=>{const d=On(a.status);return e.jsxDEV("tr",{className:m.tr,children:[e.jsxDEV("td",{className:m.td,children:a.displayFlaggedDate},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:190,columnNumber:23},this),e.jsxDEV("td",{className:m.td,children:a.flaggedBy},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:191,columnNumber:23},this),e.jsxDEV("td",{className:m.td,children:a.reason},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:192,columnNumber:23},this),e.jsxDEV("td",{className:m.td,children:e.jsxDEV("span",{className:m.statusBadge,style:{backgroundColor:d.bgColor,color:d.color},children:d.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:194,columnNumber:25},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:193,columnNumber:23},this),e.jsxDEV("td",{className:m.td,children:a.displayRemovedDate||"—"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:204,columnNumber:23},this)]},a.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:189,columnNumber:21},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:185,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:175,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:174,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:166,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/RiskAssessment.tsx",lineNumber:66,columnNumber:5},this)}const je=[{id:"IMG001",storeId:1,category:"storefront",url:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=800&h=600&fit=crop",title:"Biển hiệu cửa hàng phía trước",uploadedBy:"Trần Văn B - Đội QLTT Quận 1",uploadedAt:"2024-11-20T14:30:00",displayUploadedAt:"20/11/2024 14:30",description:"Biển hiệu rõ ràng, đầy đủ thông tin"},{id:"IMG002",storeId:1,category:"storefront",url:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop",title:"Mặt tiền cửa hàng",uploadedBy:"Trần Văn B - Đội QLTT Quận 1",uploadedAt:"2024-11-20T14:32:00",displayUploadedAt:"20/11/2024 14:32"},{id:"IMG003",storeId:1,category:"interior",url:"https://images.unsplash.com/photo-1559329007-40df8a9345d8?w=800&h=600&fit=crop",title:"Khu vực phục vụ khách hàng",uploadedBy:"Lê Thị C - Đội QLTT Quận 1",uploadedAt:"2024-11-15T10:15:00",displayUploadedAt:"15/11/2024 10:15",description:"Không gian sạch sẽ, bàn ghế ngăn nắp"},{id:"IMG004",storeId:1,category:"interior",url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=600&fit=crop",title:"Khu vực chờ",uploadedBy:"Lê Thị C - Đội QLTT Quận 1",uploadedAt:"2024-11-15T10:18:00",displayUploadedAt:"15/11/2024 10:18"},{id:"IMG005",storeId:1,category:"products",url:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800&h=600&fit=crop",title:"Sản phẩm thực phẩm",uploadedBy:"Nguyễn Văn A - Đội QLTT Quận 1",uploadedAt:"2024-11-10T09:20:00",displayUploadedAt:"10/11/2024 09:20",description:"Các món ăn được trưng bày"},{id:"IMG006",storeId:1,category:"products",url:"https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=800&h=600&fit=crop",title:"Món ăn mẫu",uploadedBy:"Nguyễn Văn A - Đội QLTT Quận 1",uploadedAt:"2024-11-10T09:25:00",displayUploadedAt:"10/11/2024 09:25"},{id:"IMG007",storeId:1,category:"kitchen",url:"https://images.unsplash.com/photo-1556910103-1c02745aae4d?w=800&h=600&fit=crop",title:"Khu vực chế biến",uploadedBy:"Trần Văn B - Đội QLTT Quận 1",uploadedAt:"2024-11-20T14:45:00",displayUploadedAt:"20/11/2024 14:45",description:"Khu vực bếp sạch sẽ, dụng cụ ngăn nắp"},{id:"IMG008",storeId:1,category:"kitchen",url:"https://images.unsplash.com/photo-1565538810643-b5bdb714032a?w=800&h=600&fit=crop",title:"Khu vực rửa và vệ sinh",uploadedBy:"Trần Văn B - Đội QLTT Quận 1",uploadedAt:"2024-11-20T14:48:00",displayUploadedAt:"20/11/2024 14:48"},{id:"IMG009",storeId:1,category:"documents",url:"https://images.unsplash.com/photo-1586281380349-632531db7ed4?w=800&h=600&fit=crop",title:"Giấy chứng nhận ATTP",uploadedBy:"Lê Thị C - Đội QLTT Quận 1",uploadedAt:"2024-11-15T10:30:00",displayUploadedAt:"15/11/2024 10:30",description:"Giấy chứng nhận được treo rõ ràng tại quầy"},{id:"IMG010",storeId:1,category:"documents",url:"https://images.unsplash.com/photo-1450101499163-c8848c66ca85?w=800&h=600&fit=crop",title:"Bảng giá niêm yết",uploadedBy:"Lê Thị C - Đội QLTT Quận 1",uploadedAt:"2024-11-15T10:32:00",displayUploadedAt:"15/11/2024 10:32"},{id:"IMG011",storeId:2,category:"storefront",url:"https://images.unsplash.com/photo-1567521464027-f127ff144326?w=800&h=600&fit=crop",title:"Biển hiệu cửa hàng",uploadedBy:"Hoàng Thị E - Đội QLTT Quận 2",uploadedAt:"2024-11-18T11:00:00",displayUploadedAt:"18/11/2024 11:00"},{id:"IMG012",storeId:2,category:"interior",url:"https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=800&h=600&fit=crop",title:"Không gian bên trong",uploadedBy:"Hoàng Thị E - Đội QLTT Quận 2",uploadedAt:"2024-11-18T11:05:00",displayUploadedAt:"18/11/2024 11:05"},{id:"IMG013",storeId:2,category:"products",url:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&h=600&fit=crop",title:"Sản phẩm thực phẩm",uploadedBy:"Hoàng Thị E - Đội QLTT Quận 2",uploadedAt:"2024-11-18T11:10:00",displayUploadedAt:"18/11/2024 11:10"},{id:"IMG014",storeId:2,category:"kitchen",url:"https://images.unsplash.com/photo-1600565193348-f74bd3c7ccdf?w=800&h=600&fit=crop",title:"Khu vực bếp",uploadedBy:"Hoàng Thị E - Đội QLTT Quận 2",uploadedAt:"2024-11-18T11:15:00",displayUploadedAt:"18/11/2024 11:15",description:"Khu vực chế biến cần cải thiện vệ sinh"},{id:"IMG015",storeId:2,category:"other",url:"https://images.unsplash.com/photo-1526367790999-0150786686a2?w=800&h=600&fit=crop",title:"Khu vực đỗ xe",uploadedBy:"Hoàng Thị E - Đội QLTT Quận 2",uploadedAt:"2024-11-18T11:20:00",displayUploadedAt:"18/11/2024 11:20"},{id:"IMG016",storeId:3,category:"storefront",url:"https://images.unsplash.com/photo-1552566626-52f8b828add9?w=800&h=600&fit=crop",title:"Mặt tiền cửa hàng",uploadedBy:"Nguyễn Văn A - Đội QLTT Quận 3",uploadedAt:"2024-11-15T13:00:00",displayUploadedAt:"15/11/2024 13:00"},{id:"IMG017",storeId:3,category:"interior",url:"https://images.unsplash.com/photo-1590846406792-0adc7f938f1d?w=800&h=600&fit=crop",title:"Không gian kinh doanh",uploadedBy:"Nguyễn Văn A - Đội QLTT Quận 3",uploadedAt:"2024-11-15T13:05:00",displayUploadedAt:"15/11/2024 13:05"},{id:"IMG018",storeId:4,category:"storefront",url:"https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=800&h=600&fit=crop",title:"Biển hiệu cửa hàng",uploadedBy:"Hoàng Thị E - Chi cục QLTT Quận 4",uploadedAt:"2024-11-10T15:00:00",displayUploadedAt:"10/11/2024 15:00"},{id:"IMG019",storeId:4,category:"interior",url:"https://images.unsplash.com/photo-1592861956120-e524fc739696?w=800&h=600&fit=crop",title:"Khu vực khách hàng",uploadedBy:"Hoàng Thị E - Chi cục QLTT Quận 4",uploadedAt:"2024-11-10T15:05:00",displayUploadedAt:"10/11/2024 15:05",description:"Khu vực bừa bộn, vệ sinh kém"},{id:"IMG020",storeId:4,category:"kitchen",url:"https://images.unsplash.com/photo-1556912173-46c336c7fd55?w=800&h=600&fit=crop",title:"Khu vực bếp - Vi phạm vệ sinh",uploadedBy:"Hoàng Thị E - Chi cục QLTT Quận 4",uploadedAt:"2024-11-10T15:10:00",displayUploadedAt:"10/11/2024 15:10",description:"Phát hiện nhiều vi phạm về vệ sinh ATTP, dụng cụ bẩn"},{id:"IMG021",storeId:4,category:"kitchen",url:"https://images.unsplash.com/photo-1571864743857-232b5e75c990?w=800&h=600&fit=crop",title:"Khu vực bảo quản thực phẩm",uploadedBy:"Lê Văn F - Đội QLTT Quận 4",uploadedAt:"2024-08-05T10:30:00",displayUploadedAt:"05/08/2024 10:30",description:"Bảo quản thực phẩm lẫn lộn với hóa chất tẩy rửa"},{id:"IMG022",storeId:4,category:"products",url:"https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?w=800&h=600&fit=crop",title:"Thực phẩm hết hạn",uploadedBy:"Hoàng Thị E - Chi cục QLTT Quận 4",uploadedAt:"2024-11-10T15:15:00",displayUploadedAt:"10/11/2024 15:15",description:"Phát hiện thực phẩm đã hết hạn sử dụng"},{id:"IMG023",storeId:4,category:"documents",url:"https://images.unsplash.com/photo-1568667256549-094345857637?w=800&h=600&fit=crop",title:"Giấy tờ thiếu",uploadedBy:"Trần Văn B - Đội QLTT Quận 4",uploadedAt:"2024-10-15T11:20:00",displayUploadedAt:"15/10/2024 11:20",description:"Thiếu giấy chứng nhận ATTP và giấy phép PCCC"},{id:"IMG024",storeId:4,category:"other",url:"https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=800&h=600&fit=crop",title:"Lối thoát hiểm bị chặn",uploadedBy:"Nguyễn Văn D - PCCC Quận 4",uploadedAt:"2024-09-08T14:00:00",displayUploadedAt:"08/09/2024 14:00",description:"Lối thoát hiểm bị chặn bởi hàng hóa, vi phạm PCCC"}];function Ci(t){return je.filter(o=>o.storeId===t)}function Mr(t,o){const s=Ci(t);return o==="all"?s:s.filter(c=>c.category===o)}function Gr(t){const o=Ci(t);return{all:o.length,storefront:o.filter(s=>s.category==="storefront").length,interior:o.filter(s=>s.category==="interior").length,products:o.filter(s=>s.category==="products").length,kitchen:o.filter(s=>s.category==="kitchen").length,documents:o.filter(s=>s.category==="documents").length,other:o.filter(s=>s.category==="other").length}}function ye(t){switch(t){case"all":return"Tất cả";case"storefront":return"Biển hiệu cửa hàng";case"interior":return"Không gian kinh doanh";case"products":return"Sản phẩm / hàng hóa";case"kitchen":return"Khu vực chế biến / kho";case"documents":return"Giấy tờ, hồ sơ treo tại cửa hàng";case"other":return"Khác";default:return"Không xác định"}}const bi=["all","storefront","interior","products","kitchen","documents","other"];function zr(t){je.push(...t)}function Fr(t){const o=je.findIndex(s=>s.id===t);return o!==-1?(je.splice(o,1),!0):!1}function qr(t,o){const s=je.find(c=>c.id===t);return s?(s.category=o,!0):!1}function Kr(){const t=je.map(s=>{const c=s.id.match(/IMG(\d+)/);return c?parseInt(c[1],10):0}),o=Math.max(...t,0);return`IMG${String(o+1).padStart(3,"0")}`}const Or="_backdrop_1cemc_3",Wr="_modal_1cemc_53",Yr="_header_1cemc_103",Xr="_title_1cemc_123",Jr="_closeButton_1cemc_139",Zr="_scrollableContent_1cemc_195",eo="_imageContainer_1cemc_213",io="_image_1cemc_213",so="_metadata_1cemc_255",to="_metadataRow_1cemc_267",lo="_metadataItem_1cemc_281",ao="_metadataIcon_1cemc_291",no="_metadataContent_1cemc_303",ro="_metadataLabel_1cemc_315",oo="_metadataValue_1cemc_333",co="_descriptionSection_1cemc_349",mo="_descriptionLabel_1cemc_359",uo="_descriptionText_1cemc_379",No="_footer_1cemc_395",ho="_closeFooterButton_1cemc_413",R={backdrop:Or,modal:Wr,header:Yr,title:Xr,closeButton:Jr,scrollableContent:Zr,imageContainer:eo,image:io,metadata:so,metadataRow:to,metadataItem:lo,metadataIcon:ao,metadataContent:no,metadataLabel:ro,metadataValue:oo,descriptionSection:co,descriptionLabel:mo,descriptionText:uo,footer:No,closeFooterButton:ho};function po({image:t,isOpen:o,onClose:s}){if(Ri.useEffect(()=>{const a=d=>{d.key==="Escape"&&s()};return o&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow=""}},[o,s]),!o||!t)return null;const c=a=>{a.target===a.currentTarget&&s()};return e.jsxDEV("div",{className:R.backdrop,onClick:c,children:e.jsxDEV("div",{className:R.modal,children:[e.jsxDEV("div",{className:R.header,children:[e.jsxDEV("h2",{className:R.title,children:ye(t.category)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:49,columnNumber:11},this),e.jsxDEV("button",{className:R.closeButton,onClick:s,"aria-label":"Đóng",children:e.jsxDEV(Ue,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:55,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:50,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:48,columnNumber:9},this),e.jsxDEV("div",{className:R.scrollableContent,children:[e.jsxDEV("div",{className:R.imageContainer,children:e.jsxDEV("img",{src:t.url,alt:t.title,className:R.image,loading:"lazy"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:63,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:62,columnNumber:11},this),e.jsxDEV("div",{className:R.metadata,children:[e.jsxDEV("div",{className:R.metadataRow,children:[e.jsxDEV("div",{className:R.metadataItem,children:[e.jsxDEV(Ge,{size:16,className:R.metadataIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:75,columnNumber:17},this),e.jsxDEV("div",{className:R.metadataContent,children:[e.jsxDEV("div",{className:R.metadataLabel,children:"Người tải lên"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:77,columnNumber:19},this),e.jsxDEV("div",{className:R.metadataValue,children:t.uploadedBy},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:78,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:76,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:74,columnNumber:15},this),e.jsxDEV("div",{className:R.metadataItem,children:[e.jsxDEV(xe,{size:16,className:R.metadataIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:83,columnNumber:17},this),e.jsxDEV("div",{className:R.metadataContent,children:[e.jsxDEV("div",{className:R.metadataLabel,children:"Thời gian tải lên"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:85,columnNumber:19},this),e.jsxDEV("div",{className:R.metadataValue,children:t.displayUploadedAt},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:86,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:84,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:82,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:73,columnNumber:13},this),t.description&&e.jsxDEV("div",{className:R.descriptionSection,children:[e.jsxDEV("div",{className:R.descriptionLabel,children:"Ghi chú"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:94,columnNumber:17},this),e.jsxDEV("div",{className:R.descriptionText,children:t.description},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:95,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:93,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:60,columnNumber:9},this),e.jsxDEV("div",{className:R.footer,children:e.jsxDEV("button",{className:R.closeFooterButton,onClick:s,children:"Đóng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:103,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:102,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:46,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageDetailModal.tsx",lineNumber:45,columnNumber:5},this)}const Vo="_dialog_1kl4b_3",vo="_content_1kl4b_21",bo="_uploadArea_1kl4b_83",To="_fileInput_1kl4b_93",fo="_uploadLabel_1kl4b_111",go="_uploadIcon_1kl4b_163",xo="_uploadText_1kl4b_199",Do="_uploadHint_1kl4b_215",Ho="_bulkActions_1kl4b_231",Eo="_bulkLabel_1kl4b_251",ko="_bulkActionsRow_1kl4b_265",Lo="_categorySelect_1kl4b_277",_o="_applyButton_1kl4b_287",yo="_fileList_1kl4b_301",Qo="_fileListHeader_1kl4b_313",jo="_fileGrid_1kl4b_329",Co="_fileCard_1kl4b_389",So="_filePreview_1kl4b_421",Io="_previewImage_1kl4b_437",Po="_removeButton_1kl4b_449",wo="_fileInfo_1kl4b_505",Ao="_fileName_1kl4b_519",Bo="_fileSize_1kl4b_539",Uo="_fileCategorySelect_1kl4b_551",Ro="_emptyState_1kl4b_563",$o="_emptyIcon_1kl4b_589",Mo="_emptyText_1kl4b_599",Go="_footer_1kl4b_615",B={dialog:Vo,content:vo,uploadArea:bo,fileInput:To,uploadLabel:fo,uploadIcon:go,uploadText:xo,uploadHint:Do,bulkActions:Ho,bulkLabel:Eo,bulkActionsRow:ko,categorySelect:Lo,applyButton:_o,fileList:yo,fileListHeader:Qo,fileGrid:jo,fileCard:Co,filePreview:So,previewImage:Io,removeButton:Po,fileInfo:wo,fileName:Ao,fileSize:Bo,fileCategorySelect:Uo,emptyState:Ro,emptyIcon:$o,emptyText:Mo,footer:Go};function Ti({open:t,onOpenChange:o,onUpload:s,storeId:c}){const[a,d]=V.useState([]),[E,r]=V.useState("storefront"),[w,I]=V.useState(!1),$=V.useRef(null),F=f=>{const K=f.target.files;if(!K)return;const A=[];Array.from(K).forEach(O=>{if(!O.type.startsWith("image/"))return;const X=URL.createObjectURL(O);A.push({file:O,preview:X,category:E})}),d(O=>[...O,...A]),$.current&&($.current.value="")},C=f=>{d(K=>{const A=[...K];return URL.revokeObjectURL(A[f].preview),A.splice(f,1),A})},x=(f,K)=>{d(A=>{const O=[...A];return O[f]={...O[f],category:K},O})},G=f=>{d(K=>K.map(A=>({...A,category:f})))},Z=async()=>{a.length!==0&&(I(!0),await new Promise(f=>setTimeout(f,1500)),s(a),a.forEach(f=>URL.revokeObjectURL(f.preview)),d([]),I(!1),o(!1))},q=()=>{a.forEach(f=>URL.revokeObjectURL(f.preview)),d([]),o(!1)},oe=["storefront","interior","products","kitchen","documents","other"];return e.jsxDEV(fi,{open:t,onOpenChange:q,children:e.jsxDEV(gi,{className:B.dialog,children:[e.jsxDEV(xi,{children:[e.jsxDEV(Di,{children:"Tải ảnh lên"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:140,columnNumber:11},this),e.jsxDEV(Hi,{children:"Tải lên một hoặc nhiều ảnh cùng lúc. Bạn có thể chọn danh mục cho từng ảnh hoặc áp dụng danh mục cho tất cả."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:139,columnNumber:9},this),e.jsxDEV("div",{className:B.content,children:[e.jsxDEV("div",{className:B.uploadArea,children:[e.jsxDEV("input",{ref:$,type:"file",accept:"image/*",multiple:!0,onChange:F,className:B.fileInput,id:"photo-upload"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:149,columnNumber:13},this),e.jsxDEV("label",{htmlFor:"photo-upload",className:B.uploadLabel,children:[e.jsxDEV("div",{className:B.uploadIcon,children:e.jsxDEV(Be,{size:28},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:160,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:159,columnNumber:15},this),e.jsxDEV("div",{className:B.uploadText,children:"Nhấn để chọn ảnh hoặc kéo thả vào đây"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:162,columnNumber:15},this),e.jsxDEV("div",{className:B.uploadHint,children:"Hỗ trợ: JPG, PNG, GIF (tối đa 10MB mỗi ảnh)"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:165,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:158,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:148,columnNumber:11},this),a.length>0&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:B.bulkActions,children:[e.jsxDEV(Ei,{className:B.bulkLabel,children:"Danh mục mặc định cho ảnh mới"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:175,columnNumber:17},this),e.jsxDEV("div",{className:B.bulkActionsRow,children:[e.jsxDEV(Xe,{value:E,onValueChange:f=>r(f),children:[e.jsxDEV(Je,{id:"default-category",className:B.categorySelect,children:e.jsxDEV(Ze,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:182,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:181,columnNumber:21},this),e.jsxDEV(ei,{children:oe.map(f=>e.jsxDEV(ii,{value:f,children:ye(f)},f,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:186,columnNumber:25},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:184,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:177,columnNumber:19},this),e.jsxDEV(M,{type:"button",variant:"outline",size:"sm",onClick:()=>G(E),className:B.applyButton,children:[e.jsxDEV(as,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:199,columnNumber:21},this),"Áp dụng cho tất cả (",a.length,")"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:192,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:176,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:174,columnNumber:15},this),e.jsxDEV("div",{className:B.fileList,children:[e.jsxDEV("div",{className:B.fileListHeader,children:[a.length," ảnh đã chọn"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:207,columnNumber:17},this),e.jsxDEV("div",{className:B.fileGrid,children:a.map((f,K)=>e.jsxDEV("div",{className:B.fileCard,children:[e.jsxDEV("div",{className:B.filePreview,children:[e.jsxDEV("img",{src:f.preview,alt:f.file.name,className:B.previewImage},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:214,columnNumber:25},this),e.jsxDEV("button",{type:"button",className:B.removeButton,onClick:()=>C(K),"aria-label":"Xóa ảnh",children:e.jsxDEV(Ue,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:225,columnNumber:27},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:219,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:213,columnNumber:23},this),e.jsxDEV("div",{className:B.fileInfo,children:[e.jsxDEV("div",{className:B.fileName,title:f.file.name,children:f.file.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:229,columnNumber:25},this),e.jsxDEV("div",{className:B.fileSize,children:[(f.file.size/1024).toFixed(1)," KB"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:232,columnNumber:25},this),e.jsxDEV(Xe,{value:f.category,onValueChange:A=>x(K,A),children:[e.jsxDEV(Je,{className:B.fileCategorySelect,children:e.jsxDEV(Ze,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:242,columnNumber:29},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:241,columnNumber:27},this),e.jsxDEV(ei,{children:oe.map(A=>e.jsxDEV(ii,{value:A,children:ye(A)},A,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:246,columnNumber:31},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:244,columnNumber:27},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:235,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:228,columnNumber:23},this)]},K,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:212,columnNumber:21},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:210,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:206,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:173,columnNumber:13},this),a.length===0&&e.jsxDEV("div",{className:B.emptyState,children:[e.jsxDEV(ge,{size:40,className:B.emptyIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:263,columnNumber:15},this),e.jsxDEV("p",{className:B.emptyText,children:"Chưa có ảnh nào được chọn"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:264,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:262,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:146,columnNumber:9},this),e.jsxDEV(ki,{className:B.footer,children:[e.jsxDEV(M,{variant:"outline",onClick:q,disabled:w,children:"Hủy"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:270,columnNumber:11},this),e.jsxDEV(M,{onClick:Z,disabled:a.length===0||w,children:w?"Đang tải lên...":`Tải lên ${a.length} ảnh`},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:273,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:269,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:138,columnNumber:7},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/UploadPhotosDialog.tsx",lineNumber:137,columnNumber:5},this)}const zo="_container_c3zqi_3",Fo="_header_c3zqi_19",qo="_uploadButton_c3zqi_43",Ko="_title_c3zqi_51",Oo="_description_c3zqi_67",Wo="_tabs_c3zqi_83",Yo="_tab_c3zqi_83",Xo="_tabActive_c3zqi_155",Jo="_tabLabel_c3zqi_179",Zo="_tabCount_c3zqi_187",ec="_grid_c3zqi_201",ic="_card_c3zqi_215",sc="_imageWrapper_c3zqi_259",tc="_thumbnail_c3zqi_275",lc="_overlay_c3zqi_305",ac="_overlayIcon_c3zqi_341",nc="_cardActions_c3zqi_353",rc="_actionButton_c3zqi_383",oc="_editButton_c3zqi_423",cc="_deleteButton_c3zqi_443",mc="_cardInfo_c3zqi_465",uc="_cardTitle_c3zqi_479",dc="_cardMeta_c3zqi_505",Nc="_emptyStateWrapper_c3zqi_519",hc="_emptyState_c3zqi_519",pc="_emptyIcon_c3zqi_547",Vc="_emptyTitle_c3zqi_571",vc="_emptyText_c3zqi_587",bc="_emptyButton_c3zqi_603",Tc="_dialogBody_c3zqi_613",fc="_emptyCategoryState_c3zqi_629",gc="_emptyCategoryIcon_c3zqi_653",xc="_emptyCategoryText_c3zqi_663",Dc="_noPermission_c3zqi_679",Hc="_noPermissionIcon_c3zqi_699",Ec="_noPermissionTitle_c3zqi_723",kc="_noPermissionText_c3zqi_739",Lc="_skeletonTitle_c3zqi_755",_c="_skeletonDescription_c3zqi_757",yc="_skeletonTab_c3zqi_759",Qc="_skeletonCard_c3zqi_761",H={container:zo,header:Fo,uploadButton:qo,title:Ko,description:Oo,tabs:Wo,tab:Yo,tabActive:Xo,tabLabel:Jo,tabCount:Zo,grid:ec,card:ic,imageWrapper:sc,thumbnail:tc,overlay:lc,overlayIcon:ac,cardActions:nc,actionButton:rc,editButton:oc,deleteButton:cc,cardInfo:mc,cardTitle:uc,cardMeta:dc,emptyStateWrapper:Nc,emptyState:hc,emptyIcon:pc,emptyTitle:Vc,emptyText:vc,emptyButton:bc,dialogBody:Tc,emptyCategoryState:fc,emptyCategoryIcon:gc,emptyCategoryText:xc,noPermission:Dc,noPermissionIcon:Hc,noPermissionTitle:Ec,noPermissionText:kc,skeletonTitle:Lc,skeletonDescription:_c,skeletonTab:yc,skeletonCard:Qc};function jc({storeId:t,loading:o=!1,hasPermission:s=!0}){const[c,a]=V.useState("all"),[d,E]=V.useState(null),[r,w]=V.useState(!1),[I,$]=V.useState(!1),[F,C]=V.useState(null),[x,G]=V.useState(null),[Z,q]=V.useState("storefront"),[oe,f]=V.useState(0),K=Mr(t,c),A=Gr(t),O=(D,L)=>{L.target.closest("[data-action]")||(E(D),w(!0))},X=()=>{w(!1),setTimeout(()=>E(null),200)},l=D=>{const L=new Date,ue=`${L.getDate().toString().padStart(2,"0")}/${(L.getMonth()+1).toString().padStart(2,"0")}/${L.getFullYear()} ${L.getHours().toString().padStart(2,"0")}:${L.getMinutes().toString().padStart(2,"0")}`,v=D.map(_=>({id:Kr(),storeId:t,category:_.category,url:_.preview,title:_.file.name.replace(/\.[^/.]+$/,""),uploadedBy:"Người dùng hiện tại",uploadedAt:L.toISOString(),displayUploadedAt:ue}));zr(v),f(_=>_+1),ae.success(`Đã tải lên ${v.length} ảnh thành công`)},ee=(D,L)=>{L.stopPropagation(),C(D)},ie=()=>{F&&(Fr(F)?(f(L=>L+1),ae.success("Đã xóa ảnh thành công")):ae.error("Không thể xóa ảnh"),C(null))},se=(D,L)=>{L.stopPropagation(),G(D),q(D.category)},ce=()=>{x&&(qr(x.id,Z)?(f(L=>L+1),ae.success("Đã cập nhật danh mục thành công")):ae.error("Không thể cập nhật danh mục"),G(null))};return s?o?e.jsxDEV("div",{className:H.container,children:[e.jsxDEV("div",{className:H.header,children:[e.jsxDEV("div",{className:H.skeletonTitle},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:168,columnNumber:11},this),e.jsxDEV("div",{className:H.skeletonDescription},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:169,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:167,columnNumber:9},this),e.jsxDEV("div",{className:H.tabs,children:[1,2,3,4,5].map(D=>e.jsxDEV("div",{className:H.skeletonTab},D,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:175,columnNumber:13},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:173,columnNumber:9},this),e.jsxDEV("div",{className:H.grid,children:[1,2,3,4,5,6].map(D=>e.jsxDEV("div",{className:H.skeletonCard},D,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:182,columnNumber:13},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:180,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:165,columnNumber:7},this):A.all===0?e.jsxDEV("div",{className:H.emptyStateWrapper,children:[e.jsxDEV("div",{className:H.emptyState,children:[e.jsxDEV("div",{className:H.emptyIcon,children:e.jsxDEV(ge,{size:48},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:195,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:194,columnNumber:11},this),e.jsxDEV("div",{className:H.emptyTitle,children:"Chưa có hình ảnh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:197,columnNumber:11},this),e.jsxDEV("div",{className:H.emptyText,children:"Hình ảnh phục vụ nghiệp vụ kiểm tra và quản lý cơ sở sẽ được hiển thị tại đây."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:198,columnNumber:11},this),e.jsxDEV(M,{onClick:()=>$(!0),className:H.emptyButton,children:[e.jsxDEV(Be,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:202,columnNumber:13},this),"Tải ảnh lên"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:201,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:193,columnNumber:9},this),e.jsxDEV(Ti,{open:I,onOpenChange:$,onUpload:l,storeId:t},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:208,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:192,columnNumber:7},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:H.container,children:[e.jsxDEV("div",{className:H.header,children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:H.title,children:"Ảnh nghiệp vụ kiểm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:224,columnNumber:13},this),e.jsxDEV("p",{className:H.description,children:"Hình ảnh phục vụ kiểm tra, giám sát và quản lý cửa hàng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:225,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:223,columnNumber:11},this),e.jsxDEV(M,{onClick:()=>$(!0),className:H.uploadButton,children:[e.jsxDEV(Be,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:230,columnNumber:13},this),"Tải ảnh lên"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:229,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:222,columnNumber:9},this),e.jsxDEV("div",{className:H.tabs,children:bi.map(D=>{const L=A[D],ue=c===D;return e.jsxDEV("button",{className:`${H.tab} ${ue?H.tabActive:""}`,onClick:()=>a(D),disabled:L===0&&D!=="all",children:[e.jsxDEV("span",{className:H.tabLabel,children:ye(D)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:248,columnNumber:17},this),e.jsxDEV("span",{className:H.tabCount,children:["(",L,")"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:249,columnNumber:17},this)]},D,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:242,columnNumber:15},this)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:236,columnNumber:9},this),K.length===0?e.jsxDEV("div",{className:H.emptyCategoryState,children:[e.jsxDEV(ge,{size:32,className:H.emptyCategoryIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:258,columnNumber:13},this),e.jsxDEV("p",{className:H.emptyCategoryText,children:['Chưa có ảnh trong danh mục "',ye(c),'"']},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:259,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:257,columnNumber:11},this):e.jsxDEV("div",{className:H.grid,children:K.map(D=>e.jsxDEV("div",{className:H.card,onClick:L=>O(D,L),children:[e.jsxDEV("div",{className:H.imageWrapper,children:[e.jsxDEV("img",{src:D.url,alt:D.title,className:H.thumbnail,loading:"lazy"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:272,columnNumber:19},this),e.jsxDEV("div",{className:H.overlay,children:e.jsxDEV(ge,{size:24,className:H.overlayIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:279,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:278,columnNumber:19},this),e.jsxDEV("div",{className:H.cardActions,children:[e.jsxDEV("button",{className:`${H.actionButton} ${H.editButton}`,"data-action":"edit",onClick:L=>se(D,L),title:"Sửa danh mục",children:e.jsxDEV(ns,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:288,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:282,columnNumber:21},this),e.jsxDEV("button",{className:`${H.actionButton} ${H.deleteButton}`,"data-action":"delete",onClick:L=>ee(D.id,L),title:"Xóa ảnh",children:e.jsxDEV(ji,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:296,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:290,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:281,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:271,columnNumber:17},this),e.jsxDEV("div",{className:H.cardInfo,children:[e.jsxDEV("div",{className:H.cardTitle,children:D.title},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:301,columnNumber:19},this),e.jsxDEV("div",{className:H.cardMeta,children:D.displayUploadedAt},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:302,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:300,columnNumber:17},this)]},`${D.id}-${oe}`,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:266,columnNumber:15},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:264,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:220,columnNumber:7},this),e.jsxDEV(po,{image:d,isOpen:r,onClose:X},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:311,columnNumber:7},this),e.jsxDEV(Ti,{open:I,onOpenChange:$,onUpload:l,storeId:t},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:318,columnNumber:7},this),e.jsxDEV(Ts,{open:F!==null,onOpenChange:()=>C(null),children:e.jsxDEV(fs,{children:[e.jsxDEV(gs,{children:[e.jsxDEV(xs,{children:"Xóa hình ảnh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:329,columnNumber:13},this),e.jsxDEV(Ds,{children:"Bạn có chắc chắn muốn xóa hình ảnh này? Hành động này không thể hoàn tác."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:330,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:328,columnNumber:11},this),e.jsxDEV(Hs,{children:[e.jsxDEV(Es,{onClick:()=>C(null),children:"Hủy"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:335,columnNumber:13},this),e.jsxDEV(ks,{onClick:ie,children:"Xóa"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:336,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:334,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:327,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:326,columnNumber:7},this),e.jsxDEV(fi,{open:x!==null,onOpenChange:()=>G(null),children:e.jsxDEV(gi,{children:[e.jsxDEV(xi,{children:[e.jsxDEV(Di,{children:"Chỉnh sửa danh mục"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:345,columnNumber:13},this),e.jsxDEV(Hi,{children:['Chọn danh mục mới cho ảnh "',x==null?void 0:x.title,'"']},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:346,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:344,columnNumber:11},this),e.jsxDEV("div",{className:H.dialogBody,children:[e.jsxDEV(Ei,{htmlFor:"category-select",children:"Danh mục"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:351,columnNumber:13},this),e.jsxDEV(Xe,{value:Z,onValueChange:D=>q(D),children:[e.jsxDEV(Je,{id:"category-select",children:e.jsxDEV(Ze,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:357,columnNumber:17},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:356,columnNumber:15},this),e.jsxDEV(ei,{children:bi.filter(D=>D!=="all").map(D=>e.jsxDEV(ii,{value:D,children:ye(D)},D,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:361,columnNumber:19},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:359,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:352,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:350,columnNumber:11},this),e.jsxDEV(ki,{children:[e.jsxDEV(M,{variant:"outline",onClick:()=>G(null),children:"Hủy"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:369,columnNumber:13},this),e.jsxDEV(M,{onClick:ce,children:"Cập nhật"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:370,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:368,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:343,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:342,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:219,columnNumber:5},this):e.jsxDEV("div",{className:H.noPermission,children:[e.jsxDEV("div",{className:H.noPermissionIcon,children:e.jsxDEV(ge,{size:48},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:152,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:151,columnNumber:9},this),e.jsxDEV("div",{className:H.noPermissionTitle,children:"Không có quyền truy cập"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:154,columnNumber:9},this),e.jsxDEV("div",{className:H.noPermissionText,children:"Bạn không có quyền xem hình ảnh của cơ sở này."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:155,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/ui-kit/ImageGallery.tsx",lineNumber:150,columnNumber:7},this)}const Cc="_container_1rvgk_3",Sc="_header_1rvgk_25",Ic="_headerTopRow_1rvgk_37",Pc="_backButton_1rvgk_49",wc="_editButton_1rvgk_63",Ac="_headerContent_1rvgk_77",Bc="_headerMain_1rvgk_97",Uc="_headerIcon_1rvgk_109",Rc="_headerLeft_1rvgk_133",$c="_headerTop_1rvgk_37",Mc="_storeName_1rvgk_161",Gc="_headerActions_1rvgk_179",zc="_statusBadge_1rvgk_211",Fc="_statusActive_1rvgk_231",qc="_statusProcessing_1rvgk_245",Kc="_statusPending_1rvgk_259",Oc="_statusSuspended_1rvgk_273",Wc="_statusInactive_1rvgk_283",Yc="_riskBadge_1rvgk_317",Xc="_addressRow_1rvgk_339",Jc="_metaRow_1rvgk_359",Zc="_metaItem_1rvgk_381",em="_statsCards_1rvgk_477",im="_statCard_1rvgk_489",sm="_statIcon_1rvgk_575",tm="_statLabel_1rvgk_599",lm="_statValue_1rvgk_615",am="_statMeta_1rvgk_631",nm="_statWarning_1rvgk_645",rm="_statScore_1rvgk_665",om="_statScoreLabel_1rvgk_677",cm="_mapSection_1rvgk_789",mm="_mapTitle_1rvgk_809",um="_mapContainer_1rvgk_827",dm="_qualityIndicators_1rvgk_839",Nm="_compactIndicator_1rvgk_851",hm="_indicatorValue_1rvgk_889",pm="_indicatorLabel_1rvgk_905",Vm="_tabs_1rvgk_925",vm="_tabContent_1rvgk_939",bm="_detailGrid_1rvgk_949",Tm="_twoColumnLayout_1rvgk_965",fm="_columnSection_1rvgk_987",gm="_sectionTitle_1rvgk_999",xm="_infoRow_1rvgk_1019",Dm="_infoRowLabel_1rvgk_1033",Hm="_infoRowValue_1rvgk_1049",Em="_infoRowInline_1rvgk_1071",km="_infoLabel_1rvgk_1105",Lm="_infoValue_1rvgk_1117",_m="_required_1rvgk_1129",ym="_legalSummary_1rvgk_1217",Qm="_summaryCard_1rvgk_1237",jm="_summaryValue_1rvgk_1267",Cm="_summaryLabel_1rvgk_1285",Sm="_legalDocuments_1rvgk_1299",Im="_historyEmpty_1rvgk_1315",Pm="_emptyIcon_1rvgk_1333",wm="_notFound_1rvgk_1357",i={container:Cc,header:Sc,headerTopRow:Ic,backButton:Pc,editButton:wc,headerContent:Ac,headerMain:Bc,headerIcon:Uc,headerLeft:Rc,headerTop:$c,storeName:Mc,headerActions:Gc,statusBadge:zc,statusActive:Fc,statusProcessing:qc,statusPending:Kc,statusSuspended:Oc,statusInactive:Wc,riskBadge:Yc,addressRow:Xc,metaRow:Jc,metaItem:Zc,statsCards:em,statCard:im,statIcon:sm,statLabel:tm,statValue:lm,statMeta:am,statWarning:nm,statScore:rm,statScoreLabel:om,mapSection:cm,mapTitle:mm,mapContainer:um,qualityIndicators:dm,compactIndicator:Nm,indicatorValue:hm,indicatorLabel:pm,tabs:Vm,tabContent:vm,detailGrid:bm,twoColumnLayout:Tm,columnSection:fm,sectionTitle:gm,infoRow:xm,infoRowLabel:Dm,infoRowValue:Hm,infoRowInline:Em,infoLabel:km,infoValue:Lm,required:_m,legalSummary:ym,summaryCard:Qm,summaryValue:jm,summaryLabel:Cm,legalDocuments:Sm,historyEmpty:Im,emptyIcon:Pm,notFound:wm};function Jm(){var li;const{id:t}=$i(),o=Mi(),[s]=Gi(),[c,a]=V.useState(null),[d,E]=V.useState("overview"),[r,w]=V.useState(!1),[I,$]=V.useState(!1),[F,C]=V.useState(!1),[x,G]=V.useState(null),[Z,q]=V.useState(null),[oe,f]=V.useState([]),[K,A]=V.useState(!1),[O,X]=V.useState(!1),[l,ee]=V.useState(null),[ie,se]=V.useState(!0),[ce,D]=V.useState(null),[L,ue]=V.useState(null),[v,_]=V.useState(!1);if(V.useEffect(()=>{const n=s.get("tab");n&&["overview","legal","violations","inspections","photos","risk","images","history"].includes(n)&&E(n)},[s]),V.useEffect(()=>{const n=s.get("tab");if(n&&d===n){const k=setTimeout(()=>{const P=`${n}-section`,ne=document.getElementById(P);if(ne){const J=ne.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:J,behavior:"smooth"})}},100);return()=>clearTimeout(k)}},[d,s]),V.useEffect(()=>{(async()=>{if(t){se(!0);try{console.log("📥 [StoreDetailPage] Loading store data for ID:",t);const k=await Xi(t);if(k)console.log("✅ [StoreDetailPage] Loaded store from API:",k.name),ee(k);else{console.log("⚠️ [StoreDetailPage] API returned null, trying localStorage fallback");try{const P=localStorage.getItem("mappa_stores"),U=(P?JSON.parse(P):oi).find(z=>z.id===Number(t));U?(console.log("✅ [StoreDetailPage] Loaded store from localStorage:",U.name),ee(U)):(console.error("❌ [StoreDetailPage] Store not found in localStorage"),ee(null))}catch(P){console.error("❌ [StoreDetailPage] Error loading from localStorage:",P),ee(null)}}}catch(k){console.error("❌ [StoreDetailPage] Error loading store:",k),ae.error("Không thể tải dữ liệu cơ sở"),ee(null)}finally{se(!1)}}})()},[t]),V.useEffect(()=>{if(!l)return;(async()=>{_(!0);try{if(l.province&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(l.province)){const k=await Wi(l.province);k&&D(k.name)}if(l.ward&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(l.ward)){const k=await Yi(l.ward);k&&ue(k.name)}}catch(k){console.error("Error loading location names:",k)}finally{_(!1)}})()},[l==null?void 0:l.province,l==null?void 0:l.ward]),V.useEffect(()=>{if(!(l!=null&&l.merchantId))return;(async()=>{try{console.log("📄 [StoreDetailPage] Fetching licenses for merchant:",l.merchantId);const k=[{id:"cccd",title:"CCCD / CMND chủ hộ",apiName:"CCCD / CMND chủ hộ"},{id:"business-license",title:"Giấy phép kinh doanh",apiName:"Giấy phép kinh doanh"},{id:"food-safety",title:"Giấy chứng nhận ATTP",apiName:"Giấy chứng nhận ATTP"},{id:"lease-contract",title:"Hợp đồng thuê mặt bằng",apiName:"Hợp đồng thuê mặt bằng"},{id:"specialized-license",title:"Giấy phép chuyên ngành",apiName:"Giấy phép chuyên ngành"},{id:"fire-safety",title:"Giấy phép PCCC",apiName:"Giấy phép PCCC"}],P=await Ji(l.merchantId||""),ne={"CCCD / CMND chủ hộ":"cccd","Giấy phép kinh doanh":"business-license","Giấy chứng nhận ATTP":"food-safety","Hợp đồng thuê mặt bằng":"lease-contract","Giấy phép chuyên ngành":"specialized-license","Giấy phép PCCC":"fire-safety"},U={0:"pending",1:"approved",2:"rejected"},z={0:"Chờ duyệt",1:"Đã phê duyệt",2:"Từ chối"},J=new Set,Re=[];P&&P.length>0&&(P.forEach(j=>{var ni,ri;J.add(j.license_type);const $e=ne[j.license_type]||"other",Ee=j.expiry_date?(new Date(j.expiry_date).getTime()-new Date().getTime())/(1e3*60*60*24)<=45:!1,we=j.validity_status===0?"missing":Ee?"expiring":"valid",Ui=j.validity_status===0?"Hết hạn/Không hợp lệ":Ee?`Sắp hết hạn (${Math.ceil((new Date(j.expiry_date).getTime()-new Date().getTime())/(1e3*60*60*24))} ngày)`:"Còn hiệu lực";Re.push({id:j._id,type:$e,title:j.license_type,status:we,statusText:Ui,approvalStatus:U[j.approval_status]||"pending",approvalStatusText:z[j.approval_status]||"Chờ duyệt",documentNumber:j.license_number,issueDate:j.issued_date?new Date(j.issued_date).toLocaleDateString("vi-VN"):"",expiryDate:j.expiry_date?new Date(j.expiry_date).toLocaleDateString("vi-VN"):"",issuingAuthority:j.issued_by_name||j.issued_by||"",notes:j.notes||"",fileUrl:j.file_url||void 0,fileName:j.file_url?((ni=j.file_url.split("/").pop())==null?void 0:ni.split("?")[0])||"file":void 0,backFileUrl:j.file_url_2||void 0,backFileName:j.file_url_2?((ri=j.file_url_2.split("/").pop())==null?void 0:ri.split("?")[0])||"file_back":void 0,uploadDate:j.created_at?new Date(j.created_at).toLocaleString("vi-VN"):"",uploadedBy:j.approved_by||"Hệ thống"})}),console.log("✅ [StoreDetailPage] Loaded licenses from API:",P.length)),k.forEach(j=>{J.has(j.apiName)||Re.push({id:`missing-${j.id}-${l.id||"unknown"}`,type:j.id,title:j.title,status:"missing",statusText:"Chưa có thông tin"})});const ai=["cccd","business-license","food-safety","lease-contract","specialized-license","fire-safety"];Re.sort((j,$e)=>{const Ee=ai.indexOf(j.type),we=ai.indexOf($e.type);return Ee!==-1&&we!==-1?Ee-we:Ee!==-1?-1:we!==-1?1:j.title.localeCompare($e.title)}),f(Re)}catch(k){console.error("❌ [StoreDetailPage] Error loading licenses:",k),f(hi(l.id||0))}})()},[l==null?void 0:l.merchantId,l==null?void 0:l.id]),ie)return e.jsxDEV("div",{className:i.container,children:e.jsxDEV("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxDEV("div",{className:"text-center space-y-3",children:[e.jsxDEV("div",{className:"h-8 w-8 mx-auto animate-spin rounded-full border-4 border-primary border-t-transparent"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:322,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Đang tải dữ liệu..."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:323,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:321,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:320,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:319,columnNumber:7},this);if(!l)return e.jsxDEV("div",{className:i.notFound,children:[e.jsxDEV("h2",{children:"Không tìm thấy cơ sở"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:334,columnNumber:9},this),e.jsxDEV(M,{onClick:()=>o("/registry/stores"),children:"Quay lại danh sách"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:335,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:333,columnNumber:7},this);const Y=qi(l.province),te=Ki("",l.district),le=l.wardCode?Oi(l.wardCode):void 0,be=[l.address,L||(le==null?void 0:le.name)||l.ward,(te==null?void 0:te.name)||l.district,ce||(Y==null?void 0:Y.name)||l.province].filter(n=>n&&n!=="undefined"&&n!=="none").join(", "),Ce=hi(l.id),Ve=oe.length>0?oe:Ce,Se=Ve.filter(n=>n.status==="valid").length,De=Ve.filter(n=>n.status==="expiring").length,Ie=Ve.filter(n=>n.status==="missing").length,u=n=>{q(n),G(null),n==="cccd"?(console.log("Opening ID Card Upload Dialog for CCCD"),$(!0)):(console.log("Opening regular Document Upload Dialog for:",n),w(!0))},Q=n=>{q(n.type),G(n),n.type==="cccd"?(console.log("Opening ID Card Upload Dialog for editing CCCD",n),$(!0)):(console.log("Opening regular Document Upload Dialog for editing:",n.type),w(!0))},T=n=>{var ne;const k=new Date().toLocaleString("vi-VN"),P=((ne=ze(Z||""))==null?void 0:ne.name)||"Hồ sơ";x?(f(U=>U.map(z=>{var J;return z.id===x.id?{...z,...n.fields,uploadedData:n.fields,uploadDate:k,uploadedBy:"Admin User",fileUrl:n.file?URL.createObjectURL(n.file):z.fileUrl,fileName:((J=n.file)==null?void 0:J.name)||z.fileName,status:"valid",statusText:"Còn hiệu lực",approvalStatus:"pending",approvalStatusText:"Chờ duyệt",previousVersion:{...x.uploadedData,fileUrl:x.fileUrl,fileName:x.fileName,uploadDate:x.uploadDate,uploadedBy:x.uploadedBy}}:z})),ae.success(`Đã cập nhật ${P}`,{description:"Hồ sơ đã được chuyển về trạng thái chờ duyệt"})):(f(U=>U.map(z=>{var J;return z.type===Z&&z.status==="missing"?{...z,...n.fields,uploadedData:n.fields,uploadDate:k,uploadedBy:"Admin User",fileUrl:n.file?URL.createObjectURL(n.file):void 0,fileName:(J=n.file)==null?void 0:J.name,status:"valid",statusText:"Còn hiệu lực",approvalStatus:"pending",approvalStatusText:"Chờ duyệt"}:z})),ae.success(`Đã tải lên ${P}`,{description:"Hồ sơ đang chờ phê duyệt"})),w(!1),G(null),q(null)},me=n=>{const k=new Date().toLocaleString("vi-VN"),P="CCCD / CMND chủ hộ";if(!n.frontFile&&!n.frontFileUrl){ae.error("Thiếu mặt trước CCCD/CMND");return}if(!n.backFile&&!n.backFileUrl){ae.error("Thiếu mặt sau CCCD/CMND");return}x?(f(ne=>ne.map(U=>{var z,J;return U.id===x.id?{...U,...n.fields,uploadedData:n.fields,uploadDate:k,uploadedBy:"Admin User",fileUrl:n.frontFile?URL.createObjectURL(n.frontFile):n.frontFileUrl||U.fileUrl,fileName:((z=n.frontFile)==null?void 0:z.name)||U.fileName,backFileUrl:n.backFile?URL.createObjectURL(n.backFile):n.backFileUrl||U.backFileUrl,backFileName:((J=n.backFile)==null?void 0:J.name)||U.backFileName,status:"valid",statusText:"Còn hiệu lực",approvalStatus:"pending",approvalStatusText:"Chờ duyệt",previousVersion:{...x.uploadedData,fileUrl:x.fileUrl,fileName:x.fileName,backFileUrl:x.backFileUrl,backFileName:x.backFileName,uploadDate:x.uploadDate,uploadedBy:x.uploadedBy}}:U})),ae.success(`Đã cập nhật ${P}`,{description:"Đã upload đầy đủ 2 mặt - Hồ sơ chờ phê duyệt"})):(f(ne=>ne.map(U=>{var z,J;return U.type==="cccd"&&U.status==="missing"?{...U,...n.fields,uploadedData:n.fields,uploadDate:k,uploadedBy:"Admin User",fileUrl:n.frontFile?URL.createObjectURL(n.frontFile):n.frontFileUrl,fileName:((z=n.frontFile)==null?void 0:z.name)||"cccd-mat-truoc.pdf",backFileUrl:n.backFile?URL.createObjectURL(n.backFile):n.backFileUrl,backFileName:((J=n.backFile)==null?void 0:J.name)||"cccd-mat-sau.pdf",status:"valid",statusText:"Còn hiệu lực",approvalStatus:"pending",approvalStatusText:"Chờ duyệt"}:U})),ae.success(`Đã tải lên ${P}`,{description:"Đã upload đầy đủ 2 mặt - Hồ sơ chờ phê duyệt"})),$(!1),G(null),q(null)},Fe=n=>{f(k=>k.map(P=>P.id===n?{...P,approvalStatus:"approved",approvalStatusText:"Đã phê duyệt"}:P)),C(!1),a(null)},qe=n=>{f(k=>k.map(P=>P.id===n?{...P,approvalStatus:"rejected",approvalStatusText:"Từ chối",status:"missing",statusText:void 0}:P)),C(!1),a(null)},Si=l.isVerified?95:75,Ii=l.gpsCoordinates?98:60,Pi=n=>!n||n==="undefined"||n==="none"?null:{low:"Thấp",Low:"Thấp",medium:"Trung bình",Medium:"Trung bình",high:"Cao",High:"Cao",Cao:"Cao","Trung bình":"Trung bình",Thấp:"Thấp"}[n]||n,wi=n=>({active:{class:i.statusActive,text:"Đang hoạt động"},processing:{class:i.statusProcessing,text:"Đang xử lý"},pending:{class:i.statusPending,text:"Chờ duyệt"},suspended:{class:i.statusSuspended,text:"Tạm ngừng hoạt động"},inactive:{class:i.statusInactive,text:"Ngừng hoạt động"}})[n]||null,Pe=l.status?wi(l.status):null,Te=Pi(l.riskLevel),Ke=pi(l.id),Ai=ui(l.id),ti=di(l.id),Oe=vi(l.id),He=n=>{E(n),requestAnimationFrame(()=>{requestAnimationFrame(()=>{const k=`${n}-section`,P=document.getElementById(k);if(P){const U=P.getBoundingClientRect().top+window.pageYOffset-100;Am(U,800)}})})},Bi=()=>{if(confirm(`Bạn có chắc chắn muốn xóa cơ sở "${l.name}"? Hành động này không thể hoàn tác.`))try{const n=localStorage.getItem("mappa_stores");let k=n?JSON.parse(n):oi;k=k.filter(P=>P.id!==l.id),localStorage.setItem("mappa_stores",JSON.stringify(k)),ae.success("Đã xóa cơ sở",{description:`Cơ sở "${l.name}" đã được xóa khỏi hệ thống`}),o("/registry/stores")}catch(n){console.error("Error deleting store:",n),ae.error("Lỗi khi xóa cơ sở",{description:"Vui lòng thử lại sau"})}};return e.jsxDEV("div",{className:i.container,children:[e.jsxDEV("div",{className:i.header,children:[e.jsxDEV("div",{className:i.headerTopRow,children:[e.jsxDEV(M,{variant:"ghost",size:"sm",onClick:()=>o(-1),className:i.backButton,children:[e.jsxDEV(rs,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:724,columnNumber:13},this),"Quay lại"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:718,columnNumber:11},this),e.jsxDEV("div",{style:{display:"flex",gap:"var(--spacing-2)"},children:[e.jsxDEV(M,{variant:"outline",size:"sm",onClick:()=>o(`/registry/full-edit/${l.id}`),className:i.editButton,children:[e.jsxDEV(Li,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:735,columnNumber:15},this),"Chỉnh sửa đầy đủ"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:729,columnNumber:13},this),l.status==="closed"&&e.jsxDEV(M,{variant:"destructive",size:"sm",onClick:Bi,style:{display:"flex",alignItems:"center",gap:"var(--spacing-2)"},children:[e.jsxDEV(ji,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:751,columnNumber:17},this),"Xóa cơ sở"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:741,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:728,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:717,columnNumber:9},this),e.jsxDEV("div",{className:i.headerContent,children:e.jsxDEV("div",{className:i.headerMain,children:[e.jsxDEV("div",{className:i.headerIcon,children:e.jsxDEV(he,{size:24},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:762,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:761,columnNumber:13},this),e.jsxDEV("div",{className:i.headerLeft,children:[e.jsxDEV("div",{className:i.headerTop,children:[e.jsxDEV("h1",{className:i.storeName,children:l.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:768,columnNumber:17},this),e.jsxDEV("div",{className:i.headerActions,children:[Pe&&e.jsxDEV("span",{className:`${i.statusBadge} ${Pe.class}`,children:Pe.text},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:773,columnNumber:21},this),Te&&e.jsxDEV("span",{className:i.riskBadge,children:Te},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:778,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:771,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:767,columnNumber:15},this),e.jsxDEV("div",{className:i.addressRow,children:[e.jsxDEV(We,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:787,columnNumber:17},this),e.jsxDEV("span",{children:be},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:788,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:786,columnNumber:15},this),e.jsxDEV("div",{className:i.metaRow,children:[(te==null?void 0:te.name)&&e.jsxDEV("div",{className:i.metaItem,children:e.jsxDEV("span",{children:["Địa bàn: ","","-Q",((li=te.name.match(/\d+/))==null?void 0:li[0])||te.name]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:795,columnNumber:21},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:794,columnNumber:19},this),l.businessType&&l.businessType!=="undefined"&&l.businessType!=="none"&&e.jsxDEV("div",{className:i.metaItem,children:[e.jsxDEV(he,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:800,columnNumber:21},this),e.jsxDEV("span",{children:l.businessType},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:801,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:799,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:792,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:766,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:759,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:758,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:716,columnNumber:7},this),e.jsxDEV("div",{className:i.statsCards,children:[e.jsxDEV("div",{className:i.statCard,onClick:()=>He("legal"),children:[e.jsxDEV("div",{className:i.statIcon,children:e.jsxDEV(re,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:879,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:878,columnNumber:11},this),e.jsxDEV("div",{className:i.statLabel,children:"Giấy phép"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:881,columnNumber:11},this),e.jsxDEV("div",{className:i.statValue,children:Se+De},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:882,columnNumber:11},this),De>0&&e.jsxDEV("div",{className:`${i.statMeta} ${i.statWarning}`,children:[De," sắp hết hạn"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:884,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:877,columnNumber:9},this),e.jsxDEV("div",{className:i.statCard,onClick:()=>He("inspections"),children:[e.jsxDEV("div",{className:i.statIcon,children:e.jsxDEV(Qi,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:893,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:892,columnNumber:11},this),e.jsxDEV("div",{className:i.statLabel,children:"Kiểm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:895,columnNumber:11},this),e.jsxDEV("div",{className:i.statValue,children:Ke.length},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:896,columnNumber:11},this),e.jsxDEV("div",{className:i.statMeta,children:["Lần gần nhất: ",Ke.length>0?Ke[0].date:"Chưa có"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:897,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:891,columnNumber:9},this),e.jsxDEV("div",{className:i.statCard,onClick:()=>He("violations"),children:[e.jsxDEV("div",{className:i.statIcon,children:e.jsxDEV(si,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:903,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:902,columnNumber:11},this),e.jsxDEV("div",{className:i.statLabel,children:"Vi phạm"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:905,columnNumber:11},this),e.jsxDEV("div",{className:i.statValue,children:Ai.length},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:906,columnNumber:11},this),Ie>0&&e.jsxDEV("div",{className:`${i.statMeta} ${i.statWarning}`,children:[Ie," đang xử lý"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:908,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:901,columnNumber:9},this),e.jsxDEV("div",{className:i.statCard,onClick:()=>He("photos"),children:[e.jsxDEV("div",{className:i.statIcon,children:e.jsxDEV(os,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:917,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:916,columnNumber:11},this),e.jsxDEV("div",{className:i.statLabel,children:"Phản ánh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:919,columnNumber:11},this),e.jsxDEV("div",{className:i.statValue,children:ti.length},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:920,columnNumber:11},this),e.jsxDEV("div",{className:`${i.statMeta} ${i.statWarning}`,children:[ti.filter(n=>!n.resolved).length," chưa xử lý"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:921,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:915,columnNumber:9},this),e.jsxDEV("div",{className:i.statCard,onClick:()=>He("risk"),children:[e.jsxDEV("div",{className:i.statIcon,children:e.jsxDEV(cs,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:927,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:926,columnNumber:11},this),e.jsxDEV("div",{className:i.statLabel,children:"Rủi ro"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:929,columnNumber:11},this),e.jsxDEV("div",{className:i.statValue,style:{fontSize:"var(--text-base)"},children:Te||"Trung bình"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:930,columnNumber:11},this),e.jsxDEV("div",{className:i.statScore,children:[e.jsxDEV("span",{className:i.statMeta,children:"Điểm:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:934,columnNumber:13},this),e.jsxDEV("span",{className:i.statScoreLabel,children:[(Oe==null?void 0:Oe.riskScore)??50,"/100"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:935,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:933,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:925,columnNumber:9},this),e.jsxDEV("div",{className:i.statCard,onClick:()=>He("risk"),children:[e.jsxDEV("div",{className:i.statIcon,children:e.jsxDEV(Qe,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:942,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:941,columnNumber:11},this),e.jsxDEV("div",{className:i.statLabel,children:"Theo dõi"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:944,columnNumber:11},this),e.jsxDEV("div",{className:i.statValue,style:{fontSize:"var(--text-base)"},children:l.isVerified?"Đã xác minh":"Chờ xác minh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:945,columnNumber:11},this),e.jsxDEV("div",{className:i.statMeta,children:"20/11/2024"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:948,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:940,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:875,columnNumber:7},this),e.jsxDEV(zi,{value:d,onValueChange:E,className:i.tabs,children:[e.jsxDEV(Fi,{children:[e.jsxDEV(fe,{value:"overview",children:"Tổng quan"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:955,columnNumber:11},this),e.jsxDEV(fe,{value:"legal",children:"Hồ sơ pháp lý"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:956,columnNumber:11},this),e.jsxDEV(fe,{value:"violations",children:"Vi phạm & xử lý"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:957,columnNumber:11},this),e.jsxDEV(fe,{value:"inspections",children:"Lịch sử kiểm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:958,columnNumber:11},this),e.jsxDEV(fe,{value:"photos",children:"Phản ánh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:959,columnNumber:11},this),e.jsxDEV(fe,{value:"risk",children:"Rủi ro & theo dõi"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:960,columnNumber:11},this),e.jsxDEV(fe,{value:"images",children:"Ảnh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:961,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:954,columnNumber:9},this),e.jsxDEV(ve,{value:"overview",className:i.tabContent,children:e.jsxDEV(de,{children:e.jsxDEV("div",{className:i.detailGrid,children:[e.jsxDEV("div",{className:i.twoColumnLayout,children:[e.jsxDEV("div",{className:i.columnSection,children:[e.jsxDEV("h3",{className:i.sectionTitle,children:"Thông tin hộ kinh doanh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:970,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(he,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:973,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:["Tên hộ kinh doanh",e.jsxDEV("span",{className:i.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:975,columnNumber:40},this)," :"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:974,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:977,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:972,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(re,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:981,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:["Mã số thuế",e.jsxDEV("span",{className:i.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:983,columnNumber:33},this)," :"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:982,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.taxCode||"Chưa có thông tin"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:985,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:980,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(he,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:989,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:["Tên ngành kinh doanh",e.jsxDEV("span",{className:i.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:991,columnNumber:43},this)," :"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:990,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.industryName||"Chưa phân loại"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:993,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:988,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(xe,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:997,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:["Ngày thành lập",e.jsxDEV("span",{className:i.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:999,columnNumber:37},this)," :"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:998,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.establishedDate||"Chưa có thông tin"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1001,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:996,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(ms,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1005,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:["Tình trạng hoạt động",e.jsxDEV("span",{className:i.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1007,columnNumber:43},this)," :"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1006,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.operationStatus||"Đang hoạt động"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1009,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1004,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:969,columnNumber:17},this),e.jsxDEV("div",{className:i.columnSection,children:[e.jsxDEV("h3",{className:i.sectionTitle,children:" "},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1014,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(Me,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1017,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:["SĐT hộ kinh doanh",e.jsxDEV("span",{className:i.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1019,columnNumber:40},this)," :"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1018,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.businessPhone||l.phone||"Chưa có thông tin"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1021,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1016,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(he,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1025,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:"Diện tích cửa hàng :"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1026,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.businessArea?`${l.businessArea} m²`:"Chưa có thông tin"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1027,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1024,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(us,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1031,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:"Email :"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1032,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.email||"Chưa có thông tin"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1033,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1030,columnNumber:19},this),l.website&&e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(Ye,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1038,columnNumber:23},this),e.jsxDEV("span",{className:i.infoLabel,children:"Website :"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1039,columnNumber:23},this),e.jsxDEV("span",{className:i.infoValue,children:l.website},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1040,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1037,columnNumber:21},this),l.fax&&e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(Me,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1046,columnNumber:23},this),e.jsxDEV("span",{className:i.infoLabel,children:"Fax :"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1047,columnNumber:23},this),e.jsxDEV("span",{className:i.infoValue,children:l.fax},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1048,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1045,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1013,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:968,columnNumber:15},this),e.jsxDEV("div",{className:i.twoColumnLayout,children:[e.jsxDEV("div",{className:i.columnSection,children:[e.jsxDEV("h3",{className:i.sectionTitle,children:"Thông tin chủ hộ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1057,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(Ge,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1060,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:["Tên chủ hộ kinh doanh",e.jsxDEV("span",{className:i.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1062,columnNumber:44},this)," :"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1061,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.ownerName||"Chưa có thông tin"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1064,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1059,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(xe,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1068,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:["Năm sinh chủ hộ",e.jsxDEV("span",{className:i.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1070,columnNumber:38},this)," :"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1069,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.ownerBirthYear||"Chưa có thông tin"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1072,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1067,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1056,columnNumber:17},this),e.jsxDEV("div",{className:i.columnSection,children:[e.jsxDEV("h3",{className:i.sectionTitle,children:" "},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1077,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(re,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1080,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:["Số CMTND / CCCD / ĐDCN",e.jsxDEV("span",{className:i.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1082,columnNumber:45},this)," :"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1081,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.ownerIdNumber||"Chưa có thông tin"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1084,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1079,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(Me,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1088,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:["SĐT chủ hộ",e.jsxDEV("span",{className:i.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1090,columnNumber:33},this)," :"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1089,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.ownerPhone||l.phone||"Chưa có thông tin"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1092,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1087,columnNumber:19},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1076,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1055,columnNumber:15},this),e.jsxDEV("div",{className:i.twoColumnLayout,children:[e.jsxDEV("div",{className:i.columnSection,children:[e.jsxDEV("h3",{className:i.sectionTitle,children:"Địa chỉ hoạt động"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1100,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(We,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1103,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:["Địa chỉ đăng ký kinh doanh",e.jsxDEV("span",{className:i.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1105,columnNumber:49},this)," :"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1104,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:l.registeredAddress||be},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1107,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1102,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(We,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1111,columnNumber:21},this),e.jsxDEV("span",{className:i.infoLabel,children:"Tỉnh / Thành phố :"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1112,columnNumber:21},this),e.jsxDEV("span",{className:i.infoValue,children:[ce||l.province||(Y==null?void 0:Y.name)||"TP. Hồ Chí Minh",v&&ce===null&&" (đang tải...)"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1113,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1110,columnNumber:19},this),l.gpsCoordinates&&e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(ds,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1121,columnNumber:23},this),e.jsxDEV("span",{className:i.infoLabel,children:"Tọa độ GPS :"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1122,columnNumber:23},this),e.jsxDEV("span",{className:i.infoValue,children:l.gpsCoordinates},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1123,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1120,columnNumber:21},this),l.headquarterAddress&&e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(he,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1129,columnNumber:23},this),e.jsxDEV("span",{className:i.infoLabel,children:"Địa chỉ trụ sở chính :"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1130,columnNumber:23},this),e.jsxDEV("span",{className:i.infoValue,children:l.headquarterAddress},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1131,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1128,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1099,columnNumber:17},this),e.jsxDEV("div",{className:i.columnSection,children:[e.jsxDEV("h3",{className:i.sectionTitle,children:" "},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1137,columnNumber:19},this),l.productionAddress&&e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(he,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1141,columnNumber:23},this),e.jsxDEV("span",{className:i.infoLabel,children:"Địa chỉ cơ sở sản xuất :"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1142,columnNumber:23},this),e.jsxDEV("span",{className:i.infoValue,children:l.productionAddress},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1143,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1140,columnNumber:21},this),l.branchAddresses&&l.branchAddresses.length>0&&e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-2)"},children:[e.jsxDEV("div",{className:i.infoLabel,style:{padding:"var(--spacing-2) 0"},children:"Địa chỉ chi nhánh KD:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1149,columnNumber:23},this),l.branchAddresses.map((n,k)=>e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(he,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1152,columnNumber:27},this),e.jsxDEV("span",{className:i.infoLabel,children:["Chi nhánh ",k+1," :"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1153,columnNumber:27},this),e.jsxDEV("span",{className:i.infoValue,children:n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1154,columnNumber:27},this)]},k,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1151,columnNumber:25},this))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1148,columnNumber:21},this),l.branchPhone&&e.jsxDEV("div",{className:i.infoRowInline,children:[e.jsxDEV(Me,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1162,columnNumber:23},this),e.jsxDEV("span",{className:i.infoLabel,children:"Điện thoại cơ sở :"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1163,columnNumber:23},this),e.jsxDEV("span",{className:i.infoValue,children:l.branchPhone},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1164,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1161,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1136,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1098,columnNumber:15},this),e.jsxDEV("div",{className:i.twoColumnLayout,children:[e.jsxDEV("div",{className:i.columnSection,children:[e.jsxDEV("h3",{className:i.sectionTitle,children:"Nhãn & Phân loại"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1173,columnNumber:19},this),e.jsxDEV("div",{className:i.infoRow,children:[e.jsxDEV("div",{className:i.infoRowLabel,children:"Nhãn hệ thống"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1176,columnNumber:21},this),e.jsxDEV("div",{className:i.infoRowValue,style:{flexWrap:"wrap",gap:"var(--spacing-2)"},children:[Te&&e.jsxDEV(pe,{variant:Te==="Cao"?"destructive":Te==="Trung bình"?"default":"secondary",children:["Rủi ro: ",Te]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1179,columnNumber:25},this),l.businessType&&l.businessType!=="undefined"&&l.businessType!=="none"&&e.jsxDEV(pe,{variant:"outline",children:l.businessType},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1184,columnNumber:25},this),l.isVerified&&e.jsxDEV(pe,{variant:"secondary",children:"✓ Đã xác minh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1186,columnNumber:44},this),Pe&&e.jsxDEV(pe,{variant:"outline",children:Pe.text},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1188,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1177,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1175,columnNumber:19},this),l.tags&&l.tags.length>0&&e.jsxDEV("div",{className:i.infoRow,children:[e.jsxDEV("div",{className:i.infoRowLabel,children:"Tags tùy chỉnh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1195,columnNumber:23},this),e.jsxDEV("div",{className:i.infoRowValue,style:{flexWrap:"wrap",gap:"var(--spacing-2)"},children:l.tags.map((n,k)=>e.jsxDEV(pe,{variant:"outline",children:n},k,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1198,columnNumber:27},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1196,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1194,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1172,columnNumber:17},this),e.jsxDEV("div",{className:i.columnSection,children:[e.jsxDEV("h3",{className:i.sectionTitle,children:"Ghi chú"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1206,columnNumber:19},this),l.notes?e.jsxDEV("div",{className:i.infoRow,children:e.jsxDEV("div",{className:i.infoRowValue,style:{whiteSpace:"pre-wrap",lineHeight:"1.6"},children:l.notes},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1210,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1209,columnNumber:21},this):e.jsxDEV("div",{className:i.infoRow,children:e.jsxDEV("div",{className:i.infoRowValue,style:{color:"var(--text-tertiary)",fontStyle:"italic"},children:"Chưa có ghi chú"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1216,columnNumber:23},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1215,columnNumber:21},this),l.sourceNotes&&e.jsxDEV("div",{className:i.infoRow,children:[e.jsxDEV("div",{className:i.infoRowLabel,children:"Nguồn ghi chú"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1224,columnNumber:23},this),e.jsxDEV("div",{className:i.infoRowValue,style:{whiteSpace:"pre-wrap",lineHeight:"1.6"},children:l.sourceNotes},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1225,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1223,columnNumber:21},this),l.attachmentLinks&&e.jsxDEV("div",{className:i.infoRow,children:[e.jsxDEV("div",{className:i.infoRowLabel,children:"Tệp đính kèm"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1233,columnNumber:23},this),e.jsxDEV("div",{className:i.infoRowValue,children:[e.jsxDEV(Ye,{size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1235,columnNumber:25},this),e.jsxDEV("a",{href:l.attachmentLinks,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--primary)",textDecoration:"underline"},children:"Xem tệp đính kèm"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1236,columnNumber:25},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1234,columnNumber:23},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1232,columnNumber:21},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1205,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1171,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:966,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:965,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:964,columnNumber:9},this),e.jsxDEV(ve,{value:"legal",className:i.tabContent,children:[e.jsxDEV("div",{id:"legal-section",className:i.legalSummary,children:[e.jsxDEV(de,{children:e.jsxDEV(Ne,{className:i.summaryCard,children:[e.jsxDEV("div",{className:i.summaryValue,children:Se},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1252,columnNumber:17},this),e.jsxDEV("div",{className:i.summaryLabel,children:"Còn hiệu lực"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1253,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1251,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1250,columnNumber:13},this),e.jsxDEV(de,{children:e.jsxDEV(Ne,{className:i.summaryCard,children:[e.jsxDEV("div",{className:i.summaryValue,children:De},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1258,columnNumber:17},this),e.jsxDEV("div",{className:i.summaryLabel,children:"Sắp hết hạn"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1259,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1257,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1256,columnNumber:13},this),e.jsxDEV(de,{children:e.jsxDEV(Ne,{className:i.summaryCard,children:[e.jsxDEV("div",{className:i.summaryValue,children:Ie},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1264,columnNumber:17},this),e.jsxDEV("div",{className:i.summaryLabel,children:"Thiếu hồ sơ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1265,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1263,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1262,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1249,columnNumber:11},this),e.jsxDEV("div",{className:i.legalDocuments,children:Ve.map(n=>e.jsxDEV(Xs,{document:n,onClick:()=>a(n),onUploadClick:u,onEditClick:Q},n.id,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1272,columnNumber:15},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1270,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1248,columnNumber:9},this),e.jsxDEV(ve,{value:"violations",className:i.tabContent,children:e.jsxDEV(de,{id:"violations-section",children:[e.jsxDEV(ke,{children:e.jsxDEV(Le,{children:"Vi phạm & xử lý"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1286,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1285,columnNumber:13},this),e.jsxDEV(Ne,{children:e.jsxDEV(vn,{violations:ui(l.id)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1289,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1288,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1284,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1283,columnNumber:9},this),e.jsxDEV(ve,{value:"inspections",className:i.tabContent,children:e.jsxDEV(de,{id:"inspections-section",children:[e.jsxDEV(ke,{children:e.jsxDEV(Le,{children:"Lịch sử kiểm tra"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1297,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1296,columnNumber:13},this),e.jsxDEV(Ne,{children:e.jsxDEV(za,{inspections:pi(l.id)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1300,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1299,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1295,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1294,columnNumber:9},this),e.jsxDEV(ve,{value:"photos",className:i.tabContent,children:e.jsxDEV(de,{id:"photos-section",children:[e.jsxDEV(ke,{children:e.jsxDEV(Le,{children:"Phản ánh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1308,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1307,columnNumber:13},this),e.jsxDEV(Ne,{children:e.jsxDEV(Fn,{complaints:di(l.id)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1311,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1310,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1306,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1305,columnNumber:9},this),e.jsxDEV(ve,{value:"risk",className:i.tabContent,children:e.jsxDEV(de,{id:"risk-section",children:[e.jsxDEV(ke,{children:e.jsxDEV(Le,{children:"Rủi ro & theo dõi"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1319,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1318,columnNumber:13},this),e.jsxDEV(Ne,{children:e.jsxDEV($r,{assessment:vi(l.id)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1322,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1321,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1317,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1316,columnNumber:9},this),e.jsxDEV(ve,{value:"images",className:i.tabContent,children:e.jsxDEV(de,{id:"images-section",children:[e.jsxDEV(ke,{children:e.jsxDEV(Le,{children:"Ảnh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1330,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1329,columnNumber:13},this),e.jsxDEV(Ne,{children:e.jsxDEV(jc,{storeId:l.id},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1333,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1332,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1328,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1327,columnNumber:9},this),e.jsxDEV(ve,{value:"history",className:i.tabContent,children:e.jsxDEV(de,{id:"history-section",children:[e.jsxDEV(ke,{children:e.jsxDEV(Le,{children:"Lịch sử thay đổi"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1341,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1340,columnNumber:13},this),e.jsxDEV(Ne,{children:e.jsxDEV("div",{className:i.historyEmpty,children:[e.jsxDEV(xe,{size:48,className:i.emptyIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1345,columnNumber:17},this),e.jsxDEV("p",{children:"Cha có lịch sử thay đổi"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1346,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1344,columnNumber:15},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1343,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1339,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1338,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:953,columnNumber:7},this),e.jsxDEV("div",{className:i.mapSection,children:[e.jsxDEV("h3",{className:i.mapTitle,children:"Vị trí trên bản đồ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1355,columnNumber:9},this),e.jsxDEV("div",{className:i.mapContainer,children:e.jsxDEV(ra,{storeName:l.name,address:be,latitude:l.latitude||10.8231,longitude:l.longitude||106.6296,height:"280px"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1357,columnNumber:11},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1356,columnNumber:9},this),e.jsxDEV("div",{className:i.qualityIndicators,children:[e.jsxDEV("div",{className:i.compactIndicator,children:[e.jsxDEV("div",{className:i.indicatorValue,children:[Si,"%"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1368,columnNumber:13},this),e.jsxDEV("div",{className:i.indicatorLabel,children:"Độ tin cậy"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1369,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1367,columnNumber:11},this),e.jsxDEV("div",{className:i.compactIndicator,children:[e.jsxDEV("div",{className:i.indicatorValue,children:[Ii,"%"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1372,columnNumber:13},this),e.jsxDEV("div",{className:i.indicatorLabel,children:"Độ chính xác vị trí"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1373,columnNumber:13},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1371,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1366,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1354,columnNumber:7},this),e.jsxDEV(ia,{open:!!c,onOpenChange:n=>!n&&a(null),document:c,onApprove:Fe,onReject:qe},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1379,columnNumber:7},this),e.jsxDEV(St,{open:r,onOpenChange:w,documentType:Z,editingDocument:x,onSave:T},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1388,columnNumber:7},this),e.jsxDEV(bl,{open:I,onOpenChange:$,editingDocument:x,onSave:me},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:1397,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/pages/StoreDetailPage.tsx",lineNumber:714,columnNumber:5},this)}const Am=(t,o=800)=>{const s=window.pageYOffset,c=t-s;let a=null;const d=r=>r<.5?4*r*r*r:1-Math.pow(-2*r+2,3)/2,E=r=>{a===null&&(a=r);const w=r-a,I=Math.min(w/o,1),$=d(I);window.scrollTo(0,s+c*$),I<1&&requestAnimationFrame(E)};requestAnimationFrame(E)};export{Jm as default};
