import{_ as Q}from"./system-admin-ex6_k_qZ.js";import{k as q,j as e,l as G,r as x,e as B,v as M}from"./vendor-Cja35lIC.js";import{$ as z,aj as O,N as U,ad as W,E as A,a9 as w,aa as X,C as Z,x as J,A as y,a2 as Y,ak as ee,o as te,al as le,ac as ie,am as se,y as ae,z as ne}from"./icons-BAlVBlw-.js";const oe=q.lazy(()=>Q(()=>Promise.resolve().then(()=>Ne),void 0).then(s=>({default:s.KpiLayout}))),re=q.lazy(()=>Q(()=>Promise.resolve().then(()=>Ue),void 0).then(s=>({default:s.DashboardPage}))),me=q.lazy(()=>Q(()=>Promise.resolve().then(()=>Pt),void 0).then(s=>({default:s.ReportsListPage}))),ue=q.lazy(()=>Q(()=>Promise.resolve().then(()=>ml),void 0).then(s=>({default:s.ReportBuilderPage}))),de=q.lazy(()=>Q(()=>Promise.resolve().then(()=>Al),void 0).then(s=>({default:s.ReportDetailPage}))),ce=q.lazy(()=>Q(()=>Promise.resolve().then(()=>yi),void 0).then(s=>({default:s.CompareKpiPage}))),Fi={path:"kpi",element:e.jsxDEV(oe,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/routes.tsx",lineNumber:29,columnNumber:12},void 0),children:[{index:!0,element:e.jsxDEV(re,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/routes.tsx",lineNumber:33,columnNumber:16},void 0)},{path:"list",element:e.jsxDEV(me,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/routes.tsx",lineNumber:37,columnNumber:16},void 0)},{path:"builder",element:e.jsxDEV(ue,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/routes.tsx",lineNumber:41,columnNumber:16},void 0)},{path:"compare",element:e.jsxDEV(ce,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/routes.tsx",lineNumber:45,columnNumber:16},void 0)},{path:":id",element:e.jsxDEV(de,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/routes.tsx",lineNumber:49,columnNumber:16},void 0)}]},pe=()=>e.jsxDEV(G,{},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiLayout.tsx",lineNumber:9,columnNumber:10},void 0),Ne=Object.freeze(Object.defineProperty({__proto__:null,KpiLayout:pe},Symbol.toStringTag,{value:"Module"})),ve="_miniTrend_11ask_1",be={miniTrend:ve},Ve=({data:s,color:a,width:t=100,height:l=40})=>{if(s.length<2)return null;const p=Math.max(...s),n=Math.min(...s),o=p-n||1,m=`M ${s.map((i,r)=>{const v=r/(s.length-1)*t,f=l-(i-n)/o*l;return`${v},${f}`}).join(" L ")}`;return e.jsxDEV("svg",{width:t,height:l,className:be.miniTrend,viewBox:`0 0 ${t} ${l}`,preserveAspectRatio:"none",children:e.jsxDEV("path",{d:m,fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/MiniTrend.tsx",lineNumber:44,columnNumber:7},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/MiniTrend.tsx",lineNumber:37,columnNumber:5},void 0)},fe="_kpiGrid_ww6bz_1",he="_kpiCard_ww6bz_15",Te="_kpiHeader_ww6bz_43",ge="_kpiLabel_ww6bz_57",xe="_kpiTrend_ww6bz_71",He="_kpiTrendValue_ww6bz_113",Ee="_kpiValue_ww6bz_125",De="_kpiUnit_ww6bz_143",_e="_kpiChart_ww6bz_159",L={kpiGrid:fe,kpiCard:he,kpiHeader:Te,kpiLabel:ge,kpiTrend:xe,kpiTrendValue:He,kpiValue:Ee,kpiUnit:De,kpiChart:_e},Le=({metrics:s})=>{const a=t=>new Intl.NumberFormat("vi-VN").format(t);return e.jsxDEV("div",{className:L.kpiGrid,children:s.map(t=>e.jsxDEV("div",{className:L.kpiCard,children:[e.jsxDEV("div",{className:L.kpiHeader,children:[e.jsxDEV("span",{className:L.kpiLabel,children:t.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiCards.tsx",lineNumber:25,columnNumber:13},void 0),e.jsxDEV("div",{className:L.kpiTrend,"data-positive":t.trend>=0,children:[t.trend>=0?e.jsxDEV(z,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiCards.tsx",lineNumber:28,columnNumber:17},void 0):e.jsxDEV(O,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiCards.tsx",lineNumber:30,columnNumber:17},void 0),e.jsxDEV("span",{className:L.kpiTrendValue,children:[t.trend>0?"+":"",t.trend.toFixed(1),"%"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiCards.tsx",lineNumber:32,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiCards.tsx",lineNumber:26,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiCards.tsx",lineNumber:24,columnNumber:11},void 0),e.jsxDEV("div",{className:L.kpiValue,children:[a(t.value),e.jsxDEV("span",{className:L.kpiUnit,children:[" ",t.unit]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiCards.tsx",lineNumber:40,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiCards.tsx",lineNumber:38,columnNumber:11},void 0),e.jsxDEV("div",{className:L.kpiChart,children:e.jsxDEV(Ve,{data:t.trendData,color:t.color,width:120,height:32},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiCards.tsx",lineNumber:44,columnNumber:13},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiCards.tsx",lineNumber:43,columnNumber:11},void 0)]},t.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiCards.tsx",lineNumber:23,columnNumber:9},void 0))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/KpiCards.tsx",lineNumber:21,columnNumber:5},void 0)},ke=[{id:"violations",label:"Tổng số vụ vi phạm",value:1234,unit:"vụ",trend:12.5,trendData:[980,1020,1100,1150,1180,1210,1234],color:"#ef4444"},{id:"tasks",label:"Nhiệm vụ đang xử lý",value:156,unit:"nhiệm vụ",trend:-5.2,trendData:[165,163,160,159,158,157,156],color:"#f59e0b"},{id:"hotspots",label:"Điểm nóng ATTP",value:42,unit:"điểm",trend:8.3,trendData:[38,39,40,40,41,42,42],color:"#8b5cf6"},{id:"overdue",label:"Nhiệm vụ quá hạn",value:23,unit:"nhiệm vụ",trend:-15.4,trendData:[27,26,25,24,24,23,23],color:"#10b981"}],qe=[{id:"1",title:"Báo cáo tuần 03/2026",createdAt:"2026-01-15T10:00:00Z",status:"published",type:"weekly"},{id:"2",title:"Báo cáo tháng 12/2025",createdAt:"2025-12-28T14:30:00Z",status:"published",type:"monthly"},{id:"3",title:"Báo cáo tuần 02/2026",createdAt:"2026-01-08T09:15:00Z",status:"published",type:"weekly"},{id:"4",title:"Báo cáo Quý 4/2025",createdAt:"2025-12-31T16:00:00Z",status:"draft",type:"quarterly"},{id:"5",title:"Báo cáo tháng 11/2025",createdAt:"2025-11-30T11:20:00Z",status:"archived",type:"monthly"}],je=[{id:"weekly",name:"Mẫu báo cáo tuần",description:"Báo cáo tổng hợp hoạt động trong tuần",sections:["Tổng quan tình hình","Vi phạm nổi bật","Nhiệm vụ hoàn thành","Kế hoạch tuần tới"]},{id:"monthly",name:"Mẫu báo cáo tháng",description:"Báo cáo tổng hợp hoạt động trong tháng",sections:["Tổng quan tình hình","Thống kê vi phạm","Phân tích xu hướng","Đánh giá hiệu quả","Kế hoạch tháng tới"]},{id:"quarterly",name:"Mẫu báo cáo quý",description:"Báo cáo tổng hợp hoạt động theo quý",sections:["Tổng quan tình hình","Thống kê toàn diện","So sánh các quý","Phân tích chuyên sâu","Đề xuất chính sách","Kế hoạch quý tới"]}],Qe=["An toàn thực phẩm","Hàng giả","Hàng cấm","Hàng lậu","Bảo vệ người tiêu dùng","Cạnh tranh không lành mạnh","Kinh doanh đa cấp","Quảng cáo vi phạm","Kiểm tra Tết","Kiểm tra lễ hội","Tổng hợp"],S=Qe,K=["Hà Nội","TP. Hồ Chí Minh","Đà Nẵng","Hải Phòng","Cần Thơ","Nghệ An","Thanh Hóa","Bình Dương","Đồng Nai","Khánh Hòa"],Ce=["Ăn uống","Dịch vụ","Bán lẻ","Sản xuất","Vận tải","Khác"],Pe=[{level:"cuc",id:"cuc-hn",name:"Cục QLTT Hà Nội",province:"Hà Nội"},{level:"cuc",id:"cuc-hcm",name:"Cục QLTT TP.HCM",province:"TP. Hồ Chí Minh"},{level:"cuc",id:"cuc-dn",name:"Cục QLTT Đà Nẵng",province:"Đà Nẵng"},{level:"cuc",id:"cuc-hp",name:"Cục QLTT Hải Phòng",province:"Hải Phòng"},{level:"cuc",id:"cuc-na",name:"Cục QLTT Nghệ An",province:"Nghệ An"},{level:"chicuc",id:"cc-hd",name:"Chi cục QLTT Hoàn Kiếm",province:"Hà Nội"},{level:"chicuc",id:"cc-bd",name:"Chi cục QLTT Ba Đình",province:"Hà Nội"},{level:"chicuc",id:"cc-cg",name:"Chi cục QLTT Cầu Giấy",province:"Hà Nội"},{level:"chicuc",id:"cc-hm",name:"Chi cục QLTT Hai Bà Trưng",province:"Hà Nội"},{level:"chicuc",id:"cc-q1",name:"Chi cục QLTT Quận 1",province:"TP. Hồ Chí Minh"},{level:"chicuc",id:"cc-q3",name:"Chi cục QLTT Quận 3",province:"TP. Hồ Chí Minh"},{level:"chicuc",id:"cc-td",name:"Chi cục QLTT Thủ Đức",province:"TP. Hồ Chí Minh"},{level:"chicuc",id:"cc-tb",name:"Chi cục QLTT Tân Bình",province:"TP. Hồ Chí Minh"},{level:"chicuc",id:"cc-hc",name:"Chi cục QLTT Hải Châu",province:"Đà Nẵng"},{level:"chicuc",id:"cc-tk",name:"Chi cục QLTT Thanh Khê",province:"Đà Nẵng"},{level:"doi",id:"doi-hd-1",name:"Đội QLTT 1 Hoàn Kiếm",province:"Hà Nội"},{level:"doi",id:"doi-hd-2",name:"Đội QLTT 2 Hoàn Kiếm",province:"Hà Nội"},{level:"doi",id:"doi-bd-1",name:"Đội QLTT 1 Ba Đình",province:"Hà Nội"},{level:"doi",id:"doi-cg-1",name:"Đội QLTT 1 Cầu Giấy",province:"Hà Nội"},{level:"doi",id:"doi-q1-1",name:"Đội QLTT 1 Quận 1",province:"TP. Hồ Chí Minh"},{level:"doi",id:"doi-q1-2",name:"Đội QLTT 2 Quận 1",province:"TP. Hồ Chí Minh"},{level:"doi",id:"doi-q3-1",name:"Đội QLTT 1 Quận 3",province:"TP. Hồ Chí Minh"},{level:"doi",id:"doi-td-1",name:"Đội QLTT 1 Thủ Đức",province:"TP. Hồ Chí Minh"}];function Be(){const s=[],a=new Date,t=new Date;t.setDate(a.getDate()-90);for(let l=new Date(t);l<=a;l.setDate(l.getDate()+1)){const p=l.toISOString().split("T")[0];Pe.forEach(n=>{Ce.forEach(o=>{const c=n.level==="cuc"?10:n.level==="chicuc"?5:2,m={"Ăn uống":1.5,"Dịch vụ":1.2,"Bán lẻ":1.3,"Sản xuất":.8,"Vận tải":.6,Khác:.5}[o]||1,i=()=>Math.random()*.4+.8;s.push({date:p,province:n.province,unitLevel:n.level,unitId:n.id,unitName:n.name,categoryGroup:o,leads:Math.floor(c*m*15*i()),tasks:Math.floor(c*m*12*i()),overdue:Math.floor(c*m*2*i()),violations:Math.floor(c*m*5*i()),hotspots:Math.floor(c*m*3*i())})})})}return s}const F=Be(),$="mappa_kpi_reports";class Re{getReportsFromStorage(){try{const a=localStorage.getItem($);if(a)return JSON.parse(a)}catch(a){console.error("Error reading reports from storage:",a)}return[...qe]}saveReportsToStorage(a){try{localStorage.setItem($,JSON.stringify(a))}catch(t){console.error("Error saving reports to storage:",t)}}getReports(a={},t={page:1,pageSize:10}){let l=this.getReportsFromStorage();if(a.search){const i=a.search.toLowerCase();l=l.filter(r=>r.title.toLowerCase().includes(i)||r.location.toLowerCase().includes(i))}a.province&&(l=l.filter(i=>i.province===a.province)),a.topic&&(l=l.filter(i=>i.topic===a.topic)),a.status&&(l=l.filter(i=>i.status===a.status)),a.dateFrom&&(l=l.filter(i=>new Date(i.createdAt)>=new Date(a.dateFrom))),a.dateTo&&(l=l.filter(i=>new Date(i.createdAt)<=new Date(a.dateTo))),l.sort((i,r)=>new Date(r.createdAt).getTime()-new Date(i.createdAt).getTime());const p=l.length,n=Math.ceil(p/t.pageSize),o=(t.page-1)*t.pageSize,c=o+t.pageSize;return{data:l.slice(o,c),total:p,page:t.page,pageSize:t.pageSize,totalPages:n}}getReportById(a){return this.getReportsFromStorage().find(l=>l.id===a)||null}createReport(a){const t=this.getReportsFromStorage(),l={...a,id:`rpt-${Date.now()}`,createdAt:new Date().toISOString()};return t.push(l),this.saveReportsToStorage(t),l}updateReport(a,t){const l=this.getReportsFromStorage(),p=l.findIndex(n=>n.id===a);return p===-1?null:(l[p]={...l[p],...t},this.saveReportsToStorage(l),l[p])}deleteReport(a){const t=this.getReportsFromStorage(),l=t.filter(p=>p.id!==a);return l.length===t.length?!1:(this.saveReportsToStorage(l),!0)}exportReportToCSV(a){const t=["Trường","Giá trị"],l=[["Tiêu đề",a.title],["Mẫu báo cáo",a.templateName],["Địa bàn",a.location],["Tỉnh/TP",a.province],["Chuyên đề",a.topic],["Trạng thái",a.status==="draft"?"Nháp":a.status==="completed"?"Hoàn thành":"Lưu trữ"],["Người tạo",a.createdBy],["Ngày tạo",new Date(a.createdAt).toLocaleString("vi-VN")],["Ngày hoàn thành",a.completedAt?new Date(a.completedAt).toLocaleString("vi-VN"):"N/A"],["",""],["Dữ liệu:",""],...Object.entries(a.data).map(([o,c])=>[o,String(c)])],p=[t.join(","),...l.map(o=>o.map(c=>`"${c}"`).join(","))].join(`
`),n="\uFEFF";return new Blob([n+p],{type:"text/csv;charset=utf-8;"})}getTemplates(){return je}getKpiMetrics(a="7d"){return ke}getCompareByUnit(a){const t=F,l=new Date,p=new Date,n=a.period==="7d"?7:a.period==="30d"?30:90;p.setDate(l.getDate()-n);let o=t.filter(i=>{const r=new Date(i.date),v=r>=p&&r<=l,f=!a.province||i.province===a.province;return v&&f});const c=new Map;o.forEach(i=>{const r=i.unitId;c.has(r)||c.set(r,[]),c.get(r).push(i)});const m=[];if(c.forEach((i,r)=>{const v=i[0],f=i.reduce((h,D)=>({leads:h.leads+D.leads,tasks:h.tasks+D.tasks,overdue:h.overdue+D.overdue,violations:h.violations+D.violations,hotspots:h.hotspots+D.hotspots}),{leads:0,tasks:0,overdue:0,violations:0,hotspots:0}),b=f.leads+f.tasks+f.violations+f.hotspots,N=Math.random()*40-20;m.push({id:r,name:v.unitName,type:"unit",...f,total:b,trend:N,deviation:0})}),m.length>0){const i=m.reduce((r,v)=>r+v.total,0)/m.length;m.forEach(r=>{r.deviation=(r.total-i)/i*100})}return m.sort((i,r)=>r.total-i.total),m}getCompareByCategory(a){const t=F,l=new Date,p=new Date,n=a.period==="7d"?7:a.period==="30d"?30:90;p.setDate(l.getDate()-n);let o=t.filter(i=>{const r=new Date(i.date),v=r>=p&&r<=l,f=!a.province||i.province===a.province;return v&&f});const c=new Map;o.forEach(i=>{const r=i.categoryGroup;c.has(r)||c.set(r,[]),c.get(r).push(i)});const m=[];if(c.forEach((i,r)=>{const v=i.reduce((N,h)=>({leads:N.leads+h.leads,tasks:N.tasks+h.tasks,overdue:N.overdue+h.overdue,violations:N.violations+h.violations,hotspots:N.hotspots+h.hotspots}),{leads:0,tasks:0,overdue:0,violations:0,hotspots:0}),f=v.leads+v.tasks+v.violations+v.hotspots,b=Math.random()*40-20;m.push({id:r,name:r,type:"category",...v,total:f,trend:b,deviation:0})}),m.length>0){const i=m.reduce((r,v)=>r+v.total,0)/m.length;m.forEach(r=>{r.deviation=(r.total-i)/i*100})}return m.sort((i,r)=>r.total-i.total),m}exportCompareToCSV(a,t){const l=t.mode==="unit"?"Đơn vị":"Nhóm ngành hàng",p=t.period==="7d"?"7 ngày":t.period==="30d"?"30 ngày":"90 ngày",n=[l,"Nguồn tin","Nhiệm vụ","Quá hạn","Vi phạm","Điểm nóng","Tổng","Xu hướng (%)","Chênh lệch (%)"],o=a.map(i=>[i.name,i.leads,i.tasks,i.overdue,i.violations,i.hotspots,i.total,i.trend.toFixed(1),i.deviation.toFixed(1)]),c=[`# So sánh KPI - ${p}`,`# Chế độ: ${t.mode==="unit"?"Theo đơn vị":"Theo nhóm ngành hàng"}`,`# Địa bàn: ${t.province||"Tất cả"}`,`# Xuất lúc: ${new Date().toLocaleString("vi-VN")}`,"",n.join(","),...o.map(i=>i.map(r=>`"${r}"`).join(","))].join(`
`),m="\uFEFF";return new Blob([m+c],{type:"text/csv;charset=utf-8;"})}}const _=new Re,ye="_dashboardPage_18owx_1",we="_header_18owx_13",Se="_title_18owx_31",Ke="_subtitle_18owx_47",Fe="_periodSelector_18owx_61",$e="_periodButton_18owx_77",Ie="_periodButtonActive_18owx_111",Me="_infoSection_18owx_123",Ae="_infoCard_18owx_137",Ge="_highlightList_18owx_185",ze="_recommendList_18owx_229",E={dashboardPage:ye,header:we,title:Se,subtitle:Ke,periodSelector:Fe,periodButton:$e,periodButtonActive:Ie,infoSection:Me,infoCard:Ae,highlightList:Ge,recommendList:ze},Oe=()=>{const[s,a]=x.useState("7d"),[t,l]=x.useState([]);x.useEffect(()=>{const n=_.getKpiMetrics(s);l(n)},[s]);const p=n=>{switch(n){case"7d":return"7 ngày";case"30d":return"30 ngày";case"90d":return"90 ngày";default:return n}};return e.jsxDEV("div",{className:E.dashboardPage,children:[e.jsxDEV("div",{className:E.header,children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:E.title,children:"Dashboard KPI QLTT"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:34,columnNumber:11},void 0),e.jsxDEV("p",{className:E.subtitle,children:"Tổng quan các chỉ số hoạt động quản lý thị trường"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:35,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:33,columnNumber:9},void 0),e.jsxDEV("div",{className:E.periodSelector,children:["7d","30d","90d"].map(n=>e.jsxDEV("button",{onClick:()=>a(n),className:`${E.periodButton} ${s===n?E.periodButtonActive:""}`,children:p(n)},n,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:42,columnNumber:13},void 0))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:40,columnNumber:9},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:32,columnNumber:7},void 0),e.jsxDEV(Le,{metrics:t},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:53,columnNumber:7},void 0),e.jsxDEV("div",{className:E.infoSection,children:[e.jsxDEV("div",{className:E.infoCard,children:[e.jsxDEV("h3",{children:"Xu hướng hoạt động"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:57,columnNumber:11},void 0),e.jsxDEV("p",{children:["Trong ",p(s).toLowerCase()," qua, hoạt động quản lý thị trường có xu hướng tích cực với sự gia tăng về số lượng cơ sở được quản lý và giảm số lượng vi phạm phát hiện."]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:58,columnNumber:11},void 0),e.jsxDEV("ul",{className:E.highlightList,children:[e.jsxDEV("li",{children:["Tăng trưởng số cơ sở: ",e.jsxDEV("strong",{children:"+5.2%"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:64,columnNumber:39},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:64,columnNumber:13},void 0),e.jsxDEV("li",{children:["Giảm vi phạm: ",e.jsxDEV("strong",{children:"-8.5%"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:65,columnNumber:31},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:65,columnNumber:13},void 0),e.jsxDEV("li",{children:["Tăng hiệu quả thu phạt: ",e.jsxDEV("strong",{children:"+12.3%"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:66,columnNumber:41},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:66,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:63,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:56,columnNumber:9},void 0),e.jsxDEV("div",{className:E.infoCard,children:[e.jsxDEV("h3",{children:"Khuyến nghị"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:71,columnNumber:11},void 0),e.jsxDEV("ul",{className:E.recommendList,children:[e.jsxDEV("li",{children:"Tiếp tục tăng cường kiểm tra các cơ sở kinh doanh mới"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV("li",{children:"Duy trì xu hướng giảm vi phạm qua công tác tuyên truyền"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:74,columnNumber:13},void 0),e.jsxDEV("li",{children:"Theo dõi sát sao các địa bàn trọng điểm"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:75,columnNumber:13},void 0),e.jsxDEV("li",{children:"Chuẩn bị báo cáo định kỳ cho tháng tiếp theo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:76,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:72,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:70,columnNumber:9},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:55,columnNumber:7},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/DashboardPage.tsx",lineNumber:31,columnNumber:5},void 0)},Ue=Object.freeze(Object.defineProperty({__proto__:null,DashboardPage:Oe},Symbol.toStringTag,{value:"Module"})),We="_filterBar_1y9u4_1",Xe="_filterRow_1y9u4_19",Ze="_searchBox_1y9u4_45",Je="_searchIcon_1y9u4_57",Ye="_searchInput_1y9u4_75",et="_filterGroup_1y9u4_121",tt="_filterSelect_1y9u4_133",lt="_dateGroup_1y9u4_179",it="_dateLabel_1y9u4_191",st="_dateInput_1y9u4_211",at="_clearButton_1y9u4_249",H={filterBar:We,filterRow:Xe,searchBox:Ze,searchIcon:Je,searchInput:Ye,filterGroup:et,filterSelect:tt,dateGroup:lt,dateLabel:it,dateInput:st,clearButton:at},nt=({filters:s,onFilterChange:a,onClearFilters:t})=>{const l=(n,o)=>{a({...s,[n]:o})},p=Object.values(s).some(n=>n!=="");return e.jsxDEV("div",{className:H.filterBar,children:[e.jsxDEV("div",{className:H.filterRow,children:[e.jsxDEV("div",{className:H.searchBox,children:[e.jsxDEV(U,{size:18,className:H.searchIcon},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:40,columnNumber:11},void 0),e.jsxDEV("input",{type:"text",placeholder:"Tìm kiếm báo cáo...",value:s.search,onChange:n=>l("search",n.target.value),className:H.searchInput},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:41,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:39,columnNumber:9},void 0),e.jsxDEV("div",{className:H.filterGroup,children:[e.jsxDEV("select",{value:s.province,onChange:n=>l("province",n.target.value),className:H.filterSelect,children:[e.jsxDEV("option",{value:"",children:"Tất cả địa bàn"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:56,columnNumber:13},void 0),K.map(n=>e.jsxDEV("option",{value:n,children:n},n,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:58,columnNumber:15},void 0))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:51,columnNumber:11},void 0),e.jsxDEV("select",{value:s.topic,onChange:n=>l("topic",n.target.value),className:H.filterSelect,children:[e.jsxDEV("option",{value:"",children:"Tất cả chuyên đề"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:67,columnNumber:13},void 0),S.map(n=>e.jsxDEV("option",{value:n,children:n},n,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:69,columnNumber:15},void 0))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:62,columnNumber:11},void 0),e.jsxDEV("select",{value:s.status,onChange:n=>l("status",n.target.value),className:H.filterSelect,children:[e.jsxDEV("option",{value:"",children:"Tất cả trạng thái"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:78,columnNumber:13},void 0),e.jsxDEV("option",{value:"draft",children:"Nháp"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:79,columnNumber:13},void 0),e.jsxDEV("option",{value:"completed",children:"Hoàn thành"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:80,columnNumber:13},void 0),e.jsxDEV("option",{value:"archived",children:"Lưu trữ"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:81,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:73,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:50,columnNumber:9},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:38,columnNumber:7},void 0),e.jsxDEV("div",{className:H.filterRow,children:[e.jsxDEV("div",{className:H.dateGroup,children:[e.jsxDEV("label",{className:H.dateLabel,children:["Từ ngày:",e.jsxDEV("input",{type:"date",value:s.dateFrom,onChange:n=>l("dateFrom",n.target.value),className:H.dateInput},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:90,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:88,columnNumber:11},void 0),e.jsxDEV("label",{className:H.dateLabel,children:["Đến ngày:",e.jsxDEV("input",{type:"date",value:s.dateTo,onChange:n=>l("dateTo",n.target.value),className:H.dateInput},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:99,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:87,columnNumber:9},void 0),p&&e.jsxDEV("button",{onClick:t,className:H.clearButton,children:[e.jsxDEV(W,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:113,columnNumber:13},void 0),"Xóa bộ lọc"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:109,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:86,columnNumber:7},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/FilterBar.tsx",lineNumber:37,columnNumber:5},void 0)},ot="_tableContainer_5wfjb_1",rt="_tableWrapper_5wfjb_17",mt="_table_5wfjb_1",ut="_titleCell_5wfjb_107",dt="_statusBadge_5wfjb_117",ct="_statusDraft_5wfjb_137",pt="_statusCompleted_5wfjb_147",Nt="_statusArchived_5wfjb_157",vt="_emptyState_5wfjb_167",bt="_actions_5wfjb_181",Vt="_actionButton_5wfjb_193",ft="_pagination_5wfjb_241",ht="_paginationInfo_5wfjb_261",Tt="_paginationControls_5wfjb_273",gt="_paginationButton_5wfjb_285",xt="_pageNumbers_5wfjb_341",Ht="_pageButton_5wfjb_353",Et="_pageButtonActive_5wfjb_395",Dt="_ellipsis_5wfjb_417",g={tableContainer:ot,tableWrapper:rt,table:mt,titleCell:ut,statusBadge:dt,statusDraft:ct,statusCompleted:pt,statusArchived:Nt,emptyState:vt,actions:bt,actionButton:Vt,pagination:ft,paginationInfo:ht,paginationControls:Tt,paginationButton:gt,pageNumbers:xt,pageButton:Ht,pageButtonActive:Et,ellipsis:Dt},_t=({result:s,onPageChange:a,onExport:t})=>{const l=B(),p=m=>new Date(m).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),n=m=>{switch(m){case"draft":return"Nháp";case"completed":return"Hoàn thành";case"archived":return"Lưu trữ";default:return m}},o=m=>{switch(m){case"draft":return g.statusDraft;case"completed":return g.statusCompleted;case"archived":return g.statusArchived;default:return""}},c=m=>{l(`/kpi/${m}`)};return e.jsxDEV("div",{className:g.tableContainer,children:[e.jsxDEV("div",{className:g.tableWrapper,children:e.jsxDEV("table",{className:g.table,children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{children:"Tiêu đề báo cáo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:61,columnNumber:15},void 0),e.jsxDEV("th",{children:"Mẫu báo cáo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:62,columnNumber:15},void 0),e.jsxDEV("th",{children:"Địa bàn"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:63,columnNumber:15},void 0),e.jsxDEV("th",{children:"Chuyên đề"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:64,columnNumber:15},void 0),e.jsxDEV("th",{children:"Trạng thái"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:65,columnNumber:15},void 0),e.jsxDEV("th",{children:"Người tạo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:66,columnNumber:15},void 0),e.jsxDEV("th",{children:"Ngày tạo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:67,columnNumber:15},void 0),e.jsxDEV("th",{children:"Thao tác"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:68,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:60,columnNumber:13},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:59,columnNumber:11},void 0),e.jsxDEV("tbody",{children:s.data.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:8,className:g.emptyState,children:"Không tìm thấy báo cáo nào"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:74,columnNumber:17},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:73,columnNumber:15},void 0):s.data.map(m=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:g.titleCell,children:m.title},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:81,columnNumber:19},void 0),e.jsxDEV("td",{children:m.templateName},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:82,columnNumber:19},void 0),e.jsxDEV("td",{children:m.province},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:83,columnNumber:19},void 0),e.jsxDEV("td",{children:m.topic},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:84,columnNumber:19},void 0),e.jsxDEV("td",{children:e.jsxDEV("span",{className:`${g.statusBadge} ${o(m.status)}`,children:n(m.status)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:86,columnNumber:21},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:85,columnNumber:19},void 0),e.jsxDEV("td",{children:m.createdBy},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:90,columnNumber:19},void 0),e.jsxDEV("td",{children:p(m.createdAt)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:91,columnNumber:19},void 0),e.jsxDEV("td",{children:e.jsxDEV("div",{className:g.actions,children:[e.jsxDEV("button",{onClick:()=>c(m.id),className:g.actionButton,title:"Xem chi tiết",children:e.jsxDEV(A,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:99,columnNumber:25},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:94,columnNumber:23},void 0),t&&e.jsxDEV("button",{onClick:()=>t(m),className:g.actionButton,title:"Xuất CSV",children:e.jsxDEV(w,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:107,columnNumber:27},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:102,columnNumber:25},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:93,columnNumber:21},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:92,columnNumber:19},void 0)]},m.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:80,columnNumber:17},void 0))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:71,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:58,columnNumber:9},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:57,columnNumber:7},void 0),s.totalPages>1&&e.jsxDEV("div",{className:g.pagination,children:[e.jsxDEV("div",{className:g.paginationInfo,children:["Hiển thị ",(s.page-1)*s.pageSize+1," - ",Math.min(s.page*s.pageSize,s.total)," trong tổng số ",s.total," kết quả"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:121,columnNumber:11},void 0),e.jsxDEV("div",{className:g.paginationControls,children:[e.jsxDEV("button",{onClick:()=>a(s.page-1),disabled:s.page===1,className:g.paginationButton,children:[e.jsxDEV(X,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:130,columnNumber:15},void 0),"Trước"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:125,columnNumber:13},void 0),e.jsxDEV("div",{className:g.pageNumbers,children:Array.from({length:s.totalPages},(m,i)=>i+1).filter(m=>m===1||m===s.totalPages||Math.abs(m-s.page)<=1).map((m,i,r)=>{const v=i>0&&m-r[i-1]>1;return e.jsxDEV(q.Fragment,{children:[v&&e.jsxDEV("span",{className:g.ellipsis,children:"..."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:148,columnNumber:40},void 0),e.jsxDEV("button",{onClick:()=>a(m),className:`${g.pageButton} ${m===s.page?g.pageButtonActive:""}`,children:m},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:149,columnNumber:23},void 0)]},m,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:147,columnNumber:21},void 0)})},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:133,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>a(s.page+1),disabled:s.page===s.totalPages,className:g.paginationButton,children:["Sau",e.jsxDEV(Z,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:165,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:159,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:124,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:120,columnNumber:9},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/DataTable.tsx",lineNumber:56,columnNumber:5},void 0)},Lt="_reportsListPage_td8ku_1",kt="_header_td8ku_13",qt="_title_td8ku_31",jt="_subtitle_td8ku_47",Qt="_createButton_td8ku_61",C={reportsListPage:Lt,header:kt,title:qt,subtitle:jt,createButton:Qt},I={search:"",province:"",topic:"",status:"",dateFrom:"",dateTo:""},Ct=()=>{const s=B(),[a,t]=x.useState(I),[l,p]=x.useState(1),[n,o]=x.useState({data:[],total:0,page:1,pageSize:10,totalPages:0});x.useEffect(()=>{(()=>{const b={search:a.search,province:a.province,topic:a.topic,status:a.status,dateFrom:a.dateFrom,dateTo:a.dateTo},N=_.getReports(b,{page:l,pageSize:10});o(N)})()},[a,l]);const c=f=>{t(f),p(1)},m=()=>{t(I),p(1)},i=f=>{p(f)},r=f=>{const b=_.exportReportToCSV(f),N=URL.createObjectURL(b),h=document.createElement("a");h.href=N,h.download=`${f.id}_${f.title}.csv`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(N)},v=()=>{s("/kpi/builder")};return e.jsxDEV("div",{className:C.reportsListPage,children:[e.jsxDEV("div",{className:C.header,children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:C.title,children:"Danh sách báo cáo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportsListPage.tsx",lineNumber:91,columnNumber:11},void 0),e.jsxDEV("p",{className:C.subtitle,children:"Quản lý và theo dõi các báo cáo QLTT"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportsListPage.tsx",lineNumber:92,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportsListPage.tsx",lineNumber:90,columnNumber:9},void 0),e.jsxDEV("button",{onClick:v,className:C.createButton,children:[e.jsxDEV(J,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportsListPage.tsx",lineNumber:98,columnNumber:11},void 0),"Tạo báo cáo mới"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportsListPage.tsx",lineNumber:97,columnNumber:9},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportsListPage.tsx",lineNumber:89,columnNumber:7},void 0),e.jsxDEV(nt,{filters:a,onFilterChange:c,onClearFilters:m},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportsListPage.tsx",lineNumber:103,columnNumber:7},void 0),e.jsxDEV(_t,{result:n,onPageChange:i,onExport:r},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportsListPage.tsx",lineNumber:109,columnNumber:7},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportsListPage.tsx",lineNumber:88,columnNumber:5},void 0)},Pt=Object.freeze(Object.defineProperty({__proto__:null,ReportsListPage:Ct},Symbol.toStringTag,{value:"Module"})),Bt="_builderPage_1065a_1",Rt="_header_1065a_13",yt="_backButton_1065a_27",wt="_headerActions_1065a_73",St="_previewButton_1065a_83",Kt="_saveButton_1065a_139",Ft="_content_1065a_205",$t="_formSection_1065a_217",It="_card_1065a_229",Mt="_cardTitle_1065a_245",At="_templateGrid_1065a_265",Gt="_templateCard_1065a_277",zt="_templateCardSelected_1065a_307",Ot="_templateHeader_1065a_319",Ut="_templateCategory_1065a_327",Wt="_templateName_1065a_349",Xt="_templateDescription_1065a_365",Zt="_formGrid_1065a_381",Jt="_formGroup_1065a_393",Yt="_formLabel_1065a_405",el="_required_1065a_419",tl="_formInput_1065a_427",ll="_formSelect_1065a_429",il="_previewSection_1065a_493",sl="_previewContent_1065a_505",al="_previewRow_1065a_517",nl="_previewLabel_1065a_533",ol="_previewValue_1065a_549",u={builderPage:Bt,header:Rt,backButton:yt,headerActions:wt,previewButton:St,saveButton:Kt,content:Ft,formSection:$t,card:It,cardTitle:Mt,templateGrid:At,templateCard:Gt,templateCardSelected:zt,templateHeader:Ot,templateCategory:Ut,templateName:Wt,templateDescription:Xt,formGrid:Zt,formGroup:Jt,formLabel:Yt,required:el,formInput:tl,formSelect:ll,previewSection:il,previewContent:sl,previewRow:al,previewLabel:nl,previewValue:ol},rl=()=>{const s=B(),{reportId:a}=M(),t=_.getTemplates(),[l,p]=x.useState({title:"",templateId:"",location:"",province:"",topic:"",createdBy:"Người dùng hiện tại"}),[n,o]=x.useState(!1),[c,m]=x.useState(null),i=N=>{m(N),p(h=>({...h,templateId:N.id}))},r=(N,h)=>{p(D=>({...D,[N]:h}))},v=()=>{if(!l.title||!l.templateId||!l.province||!l.topic){alert("Vui lòng điền đầy đủ thông tin bắt buộc");return}const N=_.createReport({title:l.title,templateId:l.templateId,templateName:(c==null?void 0:c.name)||"",location:l.location||l.province,province:l.province,topic:l.topic,status:"draft",createdBy:l.createdBy,data:{}});alert("Đã lưu báo cáo nháp thành công!"),s(`/kpi/${N.id}`)},f=()=>{s("/kpi/list")},b=l.title&&l.templateId&&l.province&&l.topic;return e.jsxDEV("div",{className:u.builderPage,children:[e.jsxDEV("div",{className:u.header,children:[e.jsxDEV("button",{onClick:f,className:u.backButton,children:[e.jsxDEV(y,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:76,columnNumber:11},void 0),"Quay lại"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:75,columnNumber:9},void 0),e.jsxDEV("div",{className:u.headerActions,children:[e.jsxDEV("button",{onClick:()=>o(!n),className:u.previewButton,disabled:!b,children:[e.jsxDEV(A,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:86,columnNumber:13},void 0),n?"Ẩn xem trước":"Xem trước"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:81,columnNumber:11},void 0),e.jsxDEV("button",{onClick:v,className:u.saveButton,disabled:!b,children:[e.jsxDEV(Y,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:94,columnNumber:13},void 0),"Lưu nháp"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:89,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:80,columnNumber:9},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:74,columnNumber:7},void 0),e.jsxDEV("div",{className:u.content,children:[e.jsxDEV("div",{className:u.formSection,children:[e.jsxDEV("div",{className:u.card,children:[e.jsxDEV("h2",{className:u.cardTitle,children:"Chọn mẫu báo cáo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:103,columnNumber:13},void 0),e.jsxDEV("div",{className:u.templateGrid,children:t.map(N=>e.jsxDEV("div",{onClick:()=>i(N),className:`${u.templateCard} ${(c==null?void 0:c.id)===N.id?u.templateCardSelected:""}`,children:[e.jsxDEV("div",{className:u.templateHeader,children:e.jsxDEV("span",{className:u.templateCategory,children:N.category},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:114,columnNumber:21},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:113,columnNumber:19},void 0),e.jsxDEV("h3",{className:u.templateName,children:N.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:116,columnNumber:19},void 0),e.jsxDEV("p",{className:u.templateDescription,children:N.description},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:117,columnNumber:19},void 0)]},N.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:106,columnNumber:17},void 0))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:104,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:102,columnNumber:11},void 0),e.jsxDEV("div",{className:u.card,children:[e.jsxDEV("h2",{className:u.cardTitle,children:"Thông tin báo cáo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:124,columnNumber:13},void 0),e.jsxDEV("div",{className:u.formGrid,children:[e.jsxDEV("div",{className:u.formGroup,children:[e.jsxDEV("label",{className:u.formLabel,children:["Tiêu đề báo cáo ",e.jsxDEV("span",{className:u.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:128,columnNumber:35},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:127,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:l.title,onChange:N=>r("title",N.target.value),placeholder:"Nhập tiêu đề báo cáo",className:u.formInput},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:130,columnNumber:17},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:126,columnNumber:15},void 0),e.jsxDEV("div",{className:u.formGroup,children:[e.jsxDEV("label",{className:u.formLabel,children:["Tỉnh/Thành phố ",e.jsxDEV("span",{className:u.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:141,columnNumber:34},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:140,columnNumber:17},void 0),e.jsxDEV("select",{value:l.province,onChange:N=>r("province",N.target.value),className:u.formSelect,children:[e.jsxDEV("option",{value:"",children:"Chọn địa bàn"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:148,columnNumber:19},void 0),K.map(N=>e.jsxDEV("option",{value:N,children:N},N,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:150,columnNumber:21},void 0))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:143,columnNumber:17},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:139,columnNumber:15},void 0),e.jsxDEV("div",{className:u.formGroup,children:[e.jsxDEV("label",{className:u.formLabel,children:"Địa bàn cụ thể"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:156,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:l.location,onChange:N=>r("location",N.target.value),placeholder:"Ví dụ: Quận Ba Đình",className:u.formInput},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:159,columnNumber:17},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:155,columnNumber:15},void 0),e.jsxDEV("div",{className:u.formGroup,children:[e.jsxDEV("label",{className:u.formLabel,children:["Chuyên đề ",e.jsxDEV("span",{className:u.required,children:"*"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:170,columnNumber:29},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:169,columnNumber:17},void 0),e.jsxDEV("select",{value:l.topic,onChange:N=>r("topic",N.target.value),className:u.formSelect,children:[e.jsxDEV("option",{value:"",children:"Chọn chuyên đề"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:177,columnNumber:19},void 0),S.map(N=>e.jsxDEV("option",{value:N,children:N},N,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:179,columnNumber:21},void 0))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:172,columnNumber:17},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:168,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:125,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:123,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:101,columnNumber:9},void 0),n&&b&&e.jsxDEV("div",{className:u.previewSection,children:e.jsxDEV("div",{className:u.card,children:[e.jsxDEV("h2",{className:u.cardTitle,children:"Xem trước"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:190,columnNumber:15},void 0),e.jsxDEV("div",{className:u.previewContent,children:[e.jsxDEV("div",{className:u.previewRow,children:[e.jsxDEV("span",{className:u.previewLabel,children:"Tiêu đề:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:193,columnNumber:19},void 0),e.jsxDEV("span",{className:u.previewValue,children:l.title},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:194,columnNumber:19},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:192,columnNumber:17},void 0),e.jsxDEV("div",{className:u.previewRow,children:[e.jsxDEV("span",{className:u.previewLabel,children:"Mẫu:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:197,columnNumber:19},void 0),e.jsxDEV("span",{className:u.previewValue,children:c==null?void 0:c.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:198,columnNumber:19},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:196,columnNumber:17},void 0),e.jsxDEV("div",{className:u.previewRow,children:[e.jsxDEV("span",{className:u.previewLabel,children:"Loại:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:201,columnNumber:19},void 0),e.jsxDEV("span",{className:u.previewValue,children:c==null?void 0:c.category},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:202,columnNumber:19},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:200,columnNumber:17},void 0),e.jsxDEV("div",{className:u.previewRow,children:[e.jsxDEV("span",{className:u.previewLabel,children:"Địa bàn:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:205,columnNumber:19},void 0),e.jsxDEV("span",{className:u.previewValue,children:l.location||l.province},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:206,columnNumber:19},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:204,columnNumber:17},void 0),e.jsxDEV("div",{className:u.previewRow,children:[e.jsxDEV("span",{className:u.previewLabel,children:"Tỉnh/TP:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:211,columnNumber:19},void 0),e.jsxDEV("span",{className:u.previewValue,children:l.province},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:212,columnNumber:19},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:210,columnNumber:17},void 0),e.jsxDEV("div",{className:u.previewRow,children:[e.jsxDEV("span",{className:u.previewLabel,children:"Chuyên đề:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:215,columnNumber:19},void 0),e.jsxDEV("span",{className:u.previewValue,children:l.topic},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:216,columnNumber:19},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:214,columnNumber:17},void 0),e.jsxDEV("div",{className:u.previewRow,children:[e.jsxDEV("span",{className:u.previewLabel,children:"Người tạo:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:219,columnNumber:19},void 0),e.jsxDEV("span",{className:u.previewValue,children:l.createdBy},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:220,columnNumber:19},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:218,columnNumber:17},void 0),e.jsxDEV("div",{className:u.previewRow,children:[e.jsxDEV("span",{className:u.previewLabel,children:"Trạng thái:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:223,columnNumber:19},void 0),e.jsxDEV("span",{className:u.previewValue,children:"Nháp"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:224,columnNumber:19},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:222,columnNumber:17},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:191,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:189,columnNumber:13},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:188,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:100,columnNumber:7},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportBuilderPage.tsx",lineNumber:73,columnNumber:5},void 0)},ml=Object.freeze(Object.defineProperty({__proto__:null,ReportBuilderPage:rl},Symbol.toStringTag,{value:"Module"})),ul="_exportButton_g5paq_1",dl={exportButton:ul},cl=({onClick:s,disabled:a=!1,label:t="Xuất CSV"})=>e.jsxDEV("button",{onClick:s,disabled:a,className:dl.exportButton,children:[e.jsxDEV(w,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/ExportCsvButton.tsx",lineNumber:26,columnNumber:7},void 0),t]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/ExportCsvButton.tsx",lineNumber:21,columnNumber:5},void 0),pl="_reportDetailPage_v1bga_1",Nl="_header_v1bga_13",vl="_backButton_v1bga_27",bl="_reportCard_v1bga_81",Vl="_reportHeader_v1bga_97",fl="_title_v1bga_109",hl="_meta_v1bga_125",Tl="_statusBadge_v1bga_139",gl="_statusDraft_v1bga_157",xl="_statusCompleted_v1bga_167",Hl="_statusArchived_v1bga_177",El="_metaText_v1bga_187",Dl="_infoGrid_v1bga_199",_l="_infoItem_v1bga_213",Ll="_infoIcon_v1bga_229",kl="_infoContent_v1bga_253",ql="_infoLabel_v1bga_261",jl="_infoValue_v1bga_281",Ql="_section_v1bga_295",Cl="_sectionTitle_v1bga_311",Pl="_detailGrid_v1bga_331",Bl="_detailRow_v1bga_343",Rl="_detailLabel_v1bga_357",yl="_detailValue_v1bga_373",wl="_dataGrid_v1bga_389",Sl="_dataCard_v1bga_401",Kl="_dataLabel_v1bga_415",Fl="_dataValue_v1bga_435",$l="_emptyData_v1bga_449",Il="_notFound_v1bga_479",d={reportDetailPage:pl,header:Nl,backButton:vl,reportCard:bl,reportHeader:Vl,title:fl,meta:hl,statusBadge:Tl,statusDraft:gl,statusCompleted:xl,statusArchived:Hl,metaText:El,infoGrid:Dl,infoItem:_l,infoIcon:Ll,infoContent:kl,infoLabel:ql,infoValue:jl,section:Ql,sectionTitle:Cl,detailGrid:Pl,detailRow:Bl,detailLabel:Rl,detailValue:yl,dataGrid:wl,dataCard:Sl,dataLabel:Kl,dataValue:Fl,emptyData:$l,notFound:Il},Ml=()=>{const{id:s}=M(),a=B(),[t,l]=x.useState(null);x.useEffect(()=>{if(s){const i=_.getReportById(s);l(i)}},[s]);const p=()=>{a("/kpi/list")},n=()=>{if(t){const i=_.exportReportToCSV(t),r=URL.createObjectURL(i),v=document.createElement("a");v.href=r,v.download=`${t.id}_${t.title}.csv`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(r)}},o=i=>new Date(i).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),c=i=>{switch(i){case"draft":return"Nháp";case"completed":return"Hoàn thành";case"archived":return"Lưu trữ";default:return i}},m=i=>{switch(i){case"draft":return d.statusDraft;case"completed":return d.statusCompleted;case"archived":return d.statusArchived;default:return""}};return t?e.jsxDEV("div",{className:d.reportDetailPage,children:[e.jsxDEV("div",{className:d.header,children:[e.jsxDEV("button",{onClick:p,className:d.backButton,children:[e.jsxDEV(y,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:87,columnNumber:11},void 0),"Quay lại"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:86,columnNumber:9},void 0),e.jsxDEV(cl,{onClick:n},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:91,columnNumber:9},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:85,columnNumber:7},void 0),e.jsxDEV("div",{className:d.reportCard,children:[e.jsxDEV("div",{className:d.reportHeader,children:e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:d.title,children:t.title},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:97,columnNumber:13},void 0),e.jsxDEV("div",{className:d.meta,children:[e.jsxDEV("span",{className:`${d.statusBadge} ${m(t.status)}`,children:c(t.status)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:99,columnNumber:15},void 0),e.jsxDEV("span",{className:d.metaText,children:["ID: ",t.id]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:102,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:98,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:96,columnNumber:11},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:95,columnNumber:9},void 0),e.jsxDEV("div",{className:d.infoGrid,children:[e.jsxDEV("div",{className:d.infoItem,children:[e.jsxDEV("div",{className:d.infoIcon,children:e.jsxDEV(ee,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:110,columnNumber:15},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:109,columnNumber:13},void 0),e.jsxDEV("div",{className:d.infoContent,children:[e.jsxDEV("div",{className:d.infoLabel,children:"Mẫu báo cáo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:113,columnNumber:15},void 0),e.jsxDEV("div",{className:d.infoValue,children:t.templateName},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:114,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:112,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:108,columnNumber:11},void 0),e.jsxDEV("div",{className:d.infoItem,children:[e.jsxDEV("div",{className:d.infoIcon,children:e.jsxDEV(te,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:120,columnNumber:15},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:119,columnNumber:13},void 0),e.jsxDEV("div",{className:d.infoContent,children:[e.jsxDEV("div",{className:d.infoLabel,children:"Địa bàn"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:123,columnNumber:15},void 0),e.jsxDEV("div",{className:d.infoValue,children:t.location},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:124,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:122,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:118,columnNumber:11},void 0),e.jsxDEV("div",{className:d.infoItem,children:[e.jsxDEV("div",{className:d.infoIcon,children:e.jsxDEV(le,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:130,columnNumber:15},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV("div",{className:d.infoContent,children:[e.jsxDEV("div",{className:d.infoLabel,children:"Người tạo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:133,columnNumber:15},void 0),e.jsxDEV("div",{className:d.infoValue,children:t.createdBy},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:134,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:132,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:128,columnNumber:11},void 0),e.jsxDEV("div",{className:d.infoItem,children:[e.jsxDEV("div",{className:d.infoIcon,children:e.jsxDEV(ie,{size:20},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:140,columnNumber:15},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:139,columnNumber:13},void 0),e.jsxDEV("div",{className:d.infoContent,children:[e.jsxDEV("div",{className:d.infoLabel,children:"Ngày tạo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:143,columnNumber:15},void 0),e.jsxDEV("div",{className:d.infoValue,children:o(t.createdAt)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:144,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:142,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:138,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:107,columnNumber:9},void 0),e.jsxDEV("div",{className:d.section,children:[e.jsxDEV("h2",{className:d.sectionTitle,children:"Thông tin chi tiết"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:150,columnNumber:11},void 0),e.jsxDEV("div",{className:d.detailGrid,children:[e.jsxDEV("div",{className:d.detailRow,children:[e.jsxDEV("span",{className:d.detailLabel,children:"Tỉnh/Thành phố:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:153,columnNumber:15},void 0),e.jsxDEV("span",{className:d.detailValue,children:t.province},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:154,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:152,columnNumber:13},void 0),e.jsxDEV("div",{className:d.detailRow,children:[e.jsxDEV("span",{className:d.detailLabel,children:"Chuyên đề:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:157,columnNumber:15},void 0),e.jsxDEV("span",{className:d.detailValue,children:t.topic},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:158,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:156,columnNumber:13},void 0),t.completedAt&&e.jsxDEV("div",{className:d.detailRow,children:[e.jsxDEV("span",{className:d.detailLabel,children:"Ngày hoàn thành:"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:162,columnNumber:17},void 0),e.jsxDEV("span",{className:d.detailValue,children:o(t.completedAt)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:163,columnNumber:17},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:161,columnNumber:15},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:151,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:149,columnNumber:9},void 0),Object.keys(t.data).length>0&&e.jsxDEV("div",{className:d.section,children:[e.jsxDEV("h2",{className:d.sectionTitle,children:"Dữ liệu báo cáo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:171,columnNumber:13},void 0),e.jsxDEV("div",{className:d.dataGrid,children:Object.entries(t.data).map(([i,r])=>e.jsxDEV("div",{className:d.dataCard,children:[e.jsxDEV("div",{className:d.dataLabel,children:i},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:175,columnNumber:19},void 0),e.jsxDEV("div",{className:d.dataValue,children:typeof r=="number"?new Intl.NumberFormat("vi-VN").format(r):String(r)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:176,columnNumber:19},void 0)]},i,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:174,columnNumber:17},void 0))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:172,columnNumber:13},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:170,columnNumber:11},void 0),Object.keys(t.data).length===0&&e.jsxDEV("div",{className:d.emptyData,children:e.jsxDEV("p",{children:"Báo cáo chưa có dữ liệu"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:190,columnNumber:13},void 0)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:189,columnNumber:11},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:94,columnNumber:7},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:84,columnNumber:5},void 0):e.jsxDEV("div",{className:d.notFound,children:[e.jsxDEV("h2",{children:"Không tìm thấy báo cáo"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:74,columnNumber:9},void 0),e.jsxDEV("button",{onClick:p,className:d.backButton,children:[e.jsxDEV(y,{size:18},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:76,columnNumber:11},void 0),"Quay lại danh sách"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:75,columnNumber:9},void 0)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/ReportDetailPage.tsx",lineNumber:73,columnNumber:7},void 0)},Al=Object.freeze(Object.defineProperty({__proto__:null,ReportDetailPage:Ml},Symbol.toStringTag,{value:"Module"})),Gl="_filterBar_ky7qs_1",zl="_filterGroup_ky7qs_23",Ol="_filterLabel_ky7qs_37",Ul="_periodTabs_ky7qs_55",Wl="_periodTab_ky7qs_55",Xl="_active_ky7qs_111",Zl="_modeRadios_ky7qs_135",Jl="_radioLabel_ky7qs_149",Yl="_radioInput_ky7qs_181",ei="_select_ky7qs_199",ti="_applyButton_ky7qs_249",T={filterBar:Gl,filterGroup:zl,filterLabel:Ol,periodTabs:Ul,periodTab:Wl,active:Xl,modeRadios:Zl,radioLabel:Jl,radioInput:Yl,select:ei,applyButton:ti},li=[{value:"7d",label:"7 ngày"},{value:"30d",label:"30 ngày"},{value:"90d",label:"90 ngày"}],ii=[{value:"unit",label:"Theo đơn vị"},{value:"category",label:"Theo nhóm ngành hàng"}],si=[{value:"leads",label:"Nguồn tin"},{value:"tasks",label:"Nhiệm vụ"},{value:"overdue",label:"Quá hạn"},{value:"violations",label:"Vi phạm / Biên bản"},{value:"hotspots",label:"Điểm nóng"}];function ai({filters:s,onFiltersChange:a,onApply:t}){const l=o=>{a({...s,period:o})},p=o=>{a({...s,mode:o})},n=(o,c)=>{a({...s,[o]:c||void 0})};return e.jsxDEV("div",{className:T.filterBar,children:[e.jsxDEV("div",{className:T.filterGroup,children:[e.jsxDEV("label",{className:T.filterLabel,children:"Khoảng thời gian"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:52,columnNumber:9},this),e.jsxDEV("div",{className:T.periodTabs,children:li.map(o=>e.jsxDEV("button",{className:`${T.periodTab} ${s.period===o.value?T.active:""}`,onClick:()=>l(o.value),type:"button",children:o.label},o.value,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:55,columnNumber:13},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:53,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:51,columnNumber:7},this),e.jsxDEV("div",{className:T.filterGroup,children:[e.jsxDEV("label",{className:T.filterLabel,children:"Chế độ so sánh"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:69,columnNumber:9},this),e.jsxDEV("div",{className:T.modeRadios,children:ii.map(o=>e.jsxDEV("label",{className:T.radioLabel,children:[e.jsxDEV("input",{type:"radio",name:"mode",value:o.value,checked:s.mode===o.value,onChange:c=>p(c.target.value),className:T.radioInput},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:73,columnNumber:15},this),e.jsxDEV("span",{children:o.label},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:81,columnNumber:15},this)]},o.value,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:72,columnNumber:13},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:70,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:68,columnNumber:7},this),e.jsxDEV("div",{className:T.filterGroup,children:[e.jsxDEV("label",{className:T.filterLabel,htmlFor:"province-select",children:"Địa bàn"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:89,columnNumber:9},this),e.jsxDEV("select",{id:"province-select",value:s.province||"",onChange:o=>n("province",o.target.value),className:T.select,children:[e.jsxDEV("option",{value:"",children:"Tất cả"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:96,columnNumber:11},this),K.map(o=>e.jsxDEV("option",{value:o,children:o},o,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:98,columnNumber:13},this))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:88,columnNumber:7},this),e.jsxDEV("div",{className:T.filterGroup,children:[e.jsxDEV("label",{className:T.filterLabel,htmlFor:"topic-select",children:"Chuyên đề"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:105,columnNumber:9},this),e.jsxDEV("select",{id:"topic-select",value:s.topic||"",onChange:o=>n("topic",o.target.value),className:T.select,children:[e.jsxDEV("option",{value:"",children:"Tất cả"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:112,columnNumber:11},this),S.map(o=>e.jsxDEV("option",{value:o,children:o},o,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:114,columnNumber:13},this))]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:106,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:104,columnNumber:7},this),e.jsxDEV("div",{className:T.filterGroup,children:[e.jsxDEV("label",{className:T.filterLabel,htmlFor:"metric-select",children:"KPI Metric"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:121,columnNumber:9},this),e.jsxDEV("select",{id:"metric-select",value:s.metric,onChange:o=>n("metric",o.target.value),className:T.select,children:si.map(o=>e.jsxDEV("option",{value:o.value,children:o.label},o.value,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:129,columnNumber:13},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:122,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:120,columnNumber:7},this),e.jsxDEV("div",{className:T.filterGroup,children:e.jsxDEV("button",{onClick:t,className:T.applyButton,type:"button",children:"Áp dụng"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:136,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:135,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiFilterBar.tsx",lineNumber:49,columnNumber:5},this)}const ni="_container_4uqhb_1",oi="_barWrapper_4uqhb_15",ri="_bar_4uqhb_15",mi="_trend_4uqhb_49",ui="_positive_4uqhb_69",di="_negative_4uqhb_77",j={container:ni,barWrapper:oi,bar:ri,trend:mi,positive:ui,negative:di};function ci({value:s,max:a,trend:t}){const l=a>0?s/a*100:0;return e.jsxDEV("div",{className:j.container,children:[e.jsxDEV("div",{className:j.barWrapper,children:e.jsxDEV("div",{className:j.bar,style:{width:`${Math.min(100,l)}%`}},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareMiniBars.tsx",lineNumber:20,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareMiniBars.tsx",lineNumber:19,columnNumber:7},this),t!==void 0&&e.jsxDEV("span",{className:`${j.trend} ${t>=0?j.positive:j.negative}`,title:`Xu hướng: ${t>=0?"+":""}${t.toFixed(1)}%`,children:[t>=0?"↑":"↓"," ",Math.abs(t).toFixed(0),"%"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareMiniBars.tsx",lineNumber:26,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareMiniBars.tsx",lineNumber:18,columnNumber:5},this)}const pi="_tableContainer_595a3_1",Ni="_searchBar_595a3_15",vi="_searchInput_595a3_33",bi="_resultCount_595a3_81",Vi="_tableWrapper_595a3_95",fi="_table_595a3_1",hi="_sortable_595a3_149",Ti="_sortIcon_595a3_171",gi="_nameCell_595a3_241",xi="_numberCell_595a3_255",Hi="_trendCell_595a3_275",Ei="_positive_595a3_285",Di="_negative_595a3_295",_i="_emptyState_595a3_305",V={tableContainer:pi,searchBar:Ni,searchInput:vi,resultCount:bi,tableWrapper:Vi,table:fi,sortable:hi,sortIcon:Ti,nameCell:gi,numberCell:xi,trendCell:Hi,positive:Ei,negative:Di,emptyState:_i};function Li({rows:s,filters:a}){const[t,l]=x.useState(""),[p,n]=x.useState("total"),[o,c]=x.useState("desc"),m=x.useMemo(()=>{if(!t)return s;const b=t.toLowerCase();return s.filter(N=>N.name.toLowerCase().includes(b))},[s,t]),i=x.useMemo(()=>{const b=[...m];return b.sort((N,h)=>{const D=N[p],R=h[p];let P=0;return typeof D=="string"&&typeof R=="string"?P=D.localeCompare(R,"vi"):P=D-R,o==="asc"?P:-P}),b},[m,p,o]),r=b=>{p===b?c(o==="asc"?"desc":"asc"):(n(b),c("desc"))},v=({field:b})=>p!==b?e.jsxDEV(se,{className:V.sortIcon,size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:60,columnNumber:37},this):o==="asc"?e.jsxDEV(ae,{className:V.sortIcon,size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:62,columnNumber:7},this):e.jsxDEV(ne,{className:V.sortIcon,size:14},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:63,columnNumber:7},this),f=Math.max(...i.map(b=>b.total),1);return s.length===0?e.jsxDEV("div",{className:V.emptyState,children:e.jsxDEV("p",{children:"Không có dữ liệu phù hợp với bộ lọc."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:71,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:70,columnNumber:7},this):e.jsxDEV("div",{className:V.tableContainer,children:[e.jsxDEV("div",{className:V.searchBar,children:[e.jsxDEV("input",{type:"text",placeholder:"Tìm kiếm...",value:t,onChange:b=>l(b.target.value),className:V.searchInput},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:80,columnNumber:9},this),e.jsxDEV("span",{className:V.resultCount,children:["Hiển thị ",i.length," / ",s.length," kết quả"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:87,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:79,columnNumber:7},this),e.jsxDEV("div",{className:V.tableWrapper,children:e.jsxDEV("table",{className:V.table,children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{onClick:()=>r("name"),className:V.sortable,children:[a.mode==="unit"?"Đơn vị":"Nhóm ngành hàng",e.jsxDEV(v,{field:"name"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:99,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:97,columnNumber:15},this),e.jsxDEV("th",{onClick:()=>r("leads"),className:V.sortable,children:["Nguồn tin",e.jsxDEV(v,{field:"leads"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:103,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:101,columnNumber:15},this),e.jsxDEV("th",{onClick:()=>r("tasks"),className:V.sortable,children:["Nhiệm vụ",e.jsxDEV(v,{field:"tasks"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:107,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:105,columnNumber:15},this),e.jsxDEV("th",{onClick:()=>r("overdue"),className:V.sortable,children:["Quá hạn",e.jsxDEV(v,{field:"overdue"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:111,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:109,columnNumber:15},this),e.jsxDEV("th",{onClick:()=>r("violations"),className:V.sortable,children:["Vi phạm",e.jsxDEV(v,{field:"violations"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:115,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:113,columnNumber:15},this),e.jsxDEV("th",{onClick:()=>r("hotspots"),className:V.sortable,children:["Điểm nóng",e.jsxDEV(v,{field:"hotspots"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:119,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:117,columnNumber:15},this),e.jsxDEV("th",{onClick:()=>r("total"),className:V.sortable,children:["Tổng",e.jsxDEV(v,{field:"total"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:123,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:121,columnNumber:15},this),e.jsxDEV("th",{onClick:()=>r("trend"),className:V.sortable,children:["Xu hướng",e.jsxDEV(v,{field:"trend"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:127,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:125,columnNumber:15},this),e.jsxDEV("th",{onClick:()=>r("deviation"),className:V.sortable,children:["Chênh lệch",e.jsxDEV(v,{field:"deviation"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:131,columnNumber:17},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:129,columnNumber:15},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:96,columnNumber:13},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:95,columnNumber:11},this),e.jsxDEV("tbody",{children:i.map(b=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:V.nameCell,children:b.name},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:138,columnNumber:17},this),e.jsxDEV("td",{className:V.numberCell,children:b.leads.toLocaleString()},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:139,columnNumber:17},this),e.jsxDEV("td",{className:V.numberCell,children:b.tasks.toLocaleString()},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:140,columnNumber:17},this),e.jsxDEV("td",{className:V.numberCell,children:b.overdue.toLocaleString()},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:141,columnNumber:17},this),e.jsxDEV("td",{className:V.numberCell,children:b.violations.toLocaleString()},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:142,columnNumber:17},this),e.jsxDEV("td",{className:V.numberCell,children:b.hotspots.toLocaleString()},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:143,columnNumber:17},this),e.jsxDEV("td",{className:V.numberCell,children:e.jsxDEV("strong",{children:b.total.toLocaleString()},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:145,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:144,columnNumber:17},this),e.jsxDEV("td",{className:V.trendCell,children:e.jsxDEV(ci,{value:b.total,max:f,trend:b.trend},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:148,columnNumber:19},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:147,columnNumber:17},this),e.jsxDEV("td",{className:`${V.numberCell} ${b.deviation>=0?V.positive:V.negative}`,children:[b.deviation>=0?"+":"",b.deviation.toFixed(1),"%"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:150,columnNumber:17},this)]},b.id,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:137,columnNumber:15},this))},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:135,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:94,columnNumber:9},this)},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:93,columnNumber:7},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/components/CompareKpiTable.tsx",lineNumber:77,columnNumber:5},this)}const ki="_page_ytp8q_1",qi="_header_ytp8q_13",ji="_title_ytp8q_29",Qi="_description_ytp8q_47",Ci="_exportButton_ytp8q_65",Pi="_loading_ytp8q_131",Bi="_spinner_ytp8q_153",k={page:ki,header:qi,title:ji,description:Qi,exportButton:Ci,loading:Pi,spinner:Bi};function Ri(){const[s,a]=x.useState({period:"30d",mode:"unit",metric:"violations"}),[t,l]=x.useState([]),[p,n]=x.useState(!0),o=()=>{n(!0),requestAnimationFrame(()=>{try{const i=s.mode==="unit"?_.getCompareByUnit(s):_.getCompareByCategory(s);l(i),n(!1)}catch(i){console.error("Error loading compare data:",i),l([]),n(!1)}})};x.useEffect(()=>{o()},[]);const c=()=>{o()},m=()=>{try{const i=_.exportCompareToCSV(t,s),r=URL.createObjectURL(i),v=document.createElement("a");v.href=r,v.download=`so-sanh-kpi-${s.mode}-${s.period}-${Date.now()}.csv`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(r)}catch(i){console.error("Error exporting CSV:",i),alert("Có lỗi khi xuất CSV")}};return e.jsxDEV("div",{className:k.page,children:[e.jsxDEV("div",{className:k.header,children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:k.title,children:"So sánh KPI"},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/CompareKpiPage.tsx",lineNumber:74,columnNumber:11},this),e.jsxDEV("p",{className:k.description,children:"So sánh theo đơn vị QLTT hoặc theo nhóm ngành hàng trong khoảng thời gian chọn."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/CompareKpiPage.tsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/CompareKpiPage.tsx",lineNumber:73,columnNumber:9},this),e.jsxDEV("button",{onClick:m,className:k.exportButton,disabled:t.length===0,type:"button",children:[e.jsxDEV(w,{size:16},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/CompareKpiPage.tsx",lineNumber:86,columnNumber:11},this),"Tải CSV"]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/CompareKpiPage.tsx",lineNumber:80,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/CompareKpiPage.tsx",lineNumber:72,columnNumber:7},this),e.jsxDEV(ai,{filters:s,onFiltersChange:a,onApply:c},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/CompareKpiPage.tsx",lineNumber:92,columnNumber:7},this),p&&e.jsxDEV("div",{className:k.loading,children:[e.jsxDEV("div",{className:k.spinner},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/CompareKpiPage.tsx",lineNumber:101,columnNumber:11},this),e.jsxDEV("p",{children:"Đang tải dữ liệu..."},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/CompareKpiPage.tsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/CompareKpiPage.tsx",lineNumber:100,columnNumber:9},this),!p&&e.jsxDEV(Li,{rows:t,filters:s},void 0,!1,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/CompareKpiPage.tsx",lineNumber:108,columnNumber:9},this)]},void 0,!0,{fileName:"E:/Hieplv/VHV-QLTT/src/modules/kpi-qltt/pages/CompareKpiPage.tsx",lineNumber:70,columnNumber:5},this)}const yi=Object.freeze(Object.defineProperty({__proto__:null,CompareKpiPage:Ri},Symbol.toStringTag,{value:"Module"}));export{Fi as k};
